// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
var r,n;r=this,n=function(){"use strict";var r="function"==typeof Object.defineProperty?Object.defineProperty:null,n=Object.defineProperty;function t(r){return"number"==typeof r}function e(r){var n,t="";for(n=0;n<r;n++)t+="0";return t}function i(r,n,t){var i=!1,o=n-r.length;return o<0||(function(r){return"-"===r[0]}(r)&&(i=!0,r=r.substr(1)),r=t?r+e(o):e(o)+r,i&&(r="-"+r)),r}var o=String.prototype.toLowerCase,u=String.prototype.toUpperCase;function f(r){var n,e,f;switch(r.specifier){case"b":n=2;break;case"o":n=8;break;case"x":case"X":n=16;break;default:n=10}if(e=r.arg,f=parseInt(e,10),!isFinite(f)){if(!t(e))throw new Error("invalid integer. Value: "+e);f=0}return f<0&&("u"===r.specifier||10!==n)&&(f=4294967295+f+1),f<0?(e=(-f).toString(n),r.precision&&(e=i(e,r.precision,r.padRight)),e="-"+e):(e=f.toString(n),f||r.precision?r.precision&&(e=i(e,r.precision,r.padRight)):e="",r.sign&&(e=r.sign+e)),16===n&&(r.alternate&&(e="0x"+e),e=r.specifier===u.call(r.specifier)?u.call(e):o.call(e)),8===n&&r.alternate&&"0"!==e.charAt(0)&&(e="0"+e),e}var a=Math.abs,s=String.prototype.toLowerCase,c=String.prototype.toUpperCase,l=String.prototype.replace,h=/e\+(\d)$/,y=/e-(\d)$/,p=/^(\d+)$/,m=/^(\d+)e/,v=/\.0$/,g=/\.0*e/,d=/(\..*[^0])0*e/;function w(r){var n,e,i=parseFloat(r.arg);if(!isFinite(i)){if(!t(r.arg))throw new Error("invalid floating-point number. Value: "+e);i=r.arg}switch(r.specifier){case"e":case"E":e=i.toExponential(r.precision);break;case"f":case"F":e=i.toFixed(r.precision);break;case"g":case"G":a(i)<1e-4?((n=r.precision)>0&&(n-=1),e=i.toExponential(n)):e=i.toPrecision(r.precision),r.alternate||(e=l.call(e,d,"$1e"),e=l.call(e,g,"e"),e=l.call(e,v,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return e=l.call(e,h,"e+0$1"),e=l.call(e,y,"e-0$1"),r.alternate&&(e=l.call(e,p,"$1."),e=l.call(e,m,"$1.e")),i>=0&&r.sign&&(e=r.sign+e),e=r.specifier===c.call(r.specifier)?c.call(e):s.call(e)}function b(r){var n,t="";for(n=0;n<r;n++)t+=" ";return t}var E=String.fromCharCode,_=isNaN,T=Array.isArray;function x(r){var n={};return n.specifier=r.specifier,n.precision=void 0===r.precision?1:r.precision,n.width=r.width,n.flags=r.flags||"",n.mapping=r.mapping,n}function A(r){var n,t,e,o,u,a,s,c,l,h,y,p,m;if(!T(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(a="",s=1,c=0;c<r.length;c++)if("string"==typeof(e=r[c]))a+=e;else{if(n=void 0!==e.precision,!(e=x(e)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+e+"`.");for(e.mapping&&(s=e.mapping),t=e.flags,l=0;l<t.length;l++)switch(o=t.charAt(l)){case" ":e.sign=" ";break;case"+":e.sign="+";break;case"-":e.padRight=!0,e.padZeros=!1;break;case"0":e.padZeros=t.indexOf("-")<0;break;case"#":e.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===e.width){if(e.width=parseInt(arguments[s],10),s+=1,_(e.width))throw new TypeError("the argument for * width at position "+s+" is not a number. Value: `"+e.width+"`.");e.width<0&&(e.padRight=!0,e.width=-e.width)}if(n&&"*"===e.precision){if(e.precision=parseInt(arguments[s],10),s+=1,_(e.precision))throw new TypeError("the argument for * precision at position "+s+" is not a number. Value: `"+e.precision+"`.");e.precision<0&&(e.precision=1,n=!1)}switch(e.arg=arguments[s],e.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":n&&(e.padZeros=!1),e.arg=f(e);break;case"s":e.maxWidth=n?e.precision:-1;break;case"c":if(!_(e.arg)){if((u=parseInt(e.arg,10))<0||u>127)throw new Error("invalid character code. Value: "+e.arg);e.arg=_(u)?String(e.arg):E(u)}break;case"e":case"E":case"f":case"F":case"g":case"G":n||(e.precision=6),e.arg=w(e);break;default:throw new Error("invalid specifier: "+e.specifier)}e.maxWidth>=0&&e.arg.length>e.maxWidth&&(e.arg=e.arg.substring(0,e.maxWidth)),e.padZeros?e.arg=i(e.arg,e.width||e.precision,e.padRight):e.width&&(e.arg=(h=e.arg,y=e.width,p=e.padRight,m=void 0,(m=y-h.length)<0?h:h=p?h+b(m):b(m)+h)),a+=e.arg||"",s+=1}return a}var V=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function k(r){var n={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(n.precision="1"),n}function j(r){var n,t,e,i;for(t=[],i=0,e=V.exec(r);e;)(n=r.slice(i,V.lastIndex-e[0].length)).length&&t.push(n),t.push(k(e)),i=V.lastIndex,e=V.exec(r);return(n=r.slice(i)).length&&t.push(n),t}function F(r){var n,t;if("string"!=typeof r)throw new TypeError(F("invalid argument. First argument must be a string. Value: `%s`.",r));for(n=[j(r)],t=1;t<arguments.length;t++)n.push(arguments[t]);return A.apply(null,n)}var S,I=Object.prototype,L=I.toString,R=I.__defineGetter__,B=I.__defineSetter__,O=I.__lookupGetter__,C=I.__lookupSetter__;S=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?n:function(r,n,t){var e,i,o,u;if("object"!=typeof r||null===r||"[object Array]"===L.call(r))throw new TypeError(F("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof t||null===t||"[object Array]"===L.call(t))throw new TypeError(F("invalid argument. Property descriptor must be an object. Value: `%s`.",t));if((i="value"in t)&&(O.call(r,n)||C.call(r,n)?(e=r.__proto__,r.__proto__=I,delete r[n],r[n]=t.value,r.__proto__=e):r[n]=t.value),o="get"in t,u="set"in t,i&&(o||u))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&R&&R.call(r,n,t.get),u&&B&&B.call(r,n,t.set),r};var M=S;function P(r,n,t){M(r,n,{configurable:!1,enumerable:!0,writable:!1,value:t})}function U(r,n,t){M(r,n,{configurable:!1,enumerable:!1,writable:!1,value:t})}function N(r,n,t,e){var i,o,u;if(r<=0||0===n)return t;if(1===e){if((u=r%5)>0)for(o=0;o<u;o++)t[o]+=n;if(r<5)return t;for(o=u;o<r;o+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]+=n,i+=e;return t}function Y(r){return Math.abs(r)}function W(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(o=e<0?(1-r)*e:0,i=0,a=0,s=0;s<r;s++)f=i+(u=n+t[o]),Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f,o+=e;return i+a}function $(r,n,t,e,i){var o,u,f,a,s,c;if(r<=0)return 0;if(1===r||0===e)return n+t[i];for(u=i,o=0,s=0,c=0;c<r;c++)a=o+(f=n+t[u]),Y(o)>=Y(f)?s+=o-a+f:s+=f-a+o,o=a,u+=e;return o+s}function G(r,n,t,e){return W(r,n,t,e)}function Z(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(u=e<0?(1-r)*e:0,i=0,o=0,f=0,h=0;h<r;h++)c=i+(s=n+t[u]),l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a,u+=e;return i+f+o}function X(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(o=e<0?(1-r)*e:0,i=0,u=0;u<r;u++)i+=n+t[o],o+=e;return i}U(N,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0||0===n)return t;if(o=i,1===e){if((u=r%5)>0)for(f=0;f<u;f++)t[o]+=n,o+=e;if(r<5)return t;for(f=u;f<r;f+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n,o+=5;return t}for(f=0;f<r;f++)t[o]+=n,o+=e;return t})),U(W,"ndarray",$),U(G,"ndarray",(function(r,n,t,e,i){return $(r,n,t,e,i)})),U(Z,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(f=i,o=0,u=0,a=0,y=0;y<r;y++)l=o+(c=n+t[f]),h=Y(o)>=Y(c)?o-l+c:c-l+o,o=l,l=a+h,s=Y(a)>=Y(h)?a-l+h:h-l+a,a=l,u+=s,f+=e;return o+a+u})),U(X,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(u=i,o=0,f=0;f<r;f++)o+=n+t[u],u+=e;return o}));var J=Math.floor,z=128;function q(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m,v,g;if(r<=0)return 0;if(1===r||0===e)return n+t[i];if(o=i,r<8){for(m=0,g=0;g<r;g++)m+=n+t[o],o+=e;return m}if(r<=z){for(u=n+t[o],f=n+t[o+e],a=n+t[o+2*e],s=n+t[o+3*e],c=n+t[o+4*e],l=n+t[o+5*e],h=n+t[o+6*e],y=n+t[o+7*e],o+=8*e,p=r%8,g=8;g<r-p;g+=8)u+=n+t[o],f+=n+t[o+e],a+=n+t[o+2*e],s+=n+t[o+3*e],c+=n+t[o+4*e],l+=n+t[o+5*e],h+=n+t[o+6*e],y+=n+t[o+7*e],o+=8*e;for(m=u+f+(a+s)+(c+l+(h+y));g<r;g++)m+=n+t[o],o+=e;return m}return v=J(r/2),q(v-=v%8,n,t,e,o)+q(r-v,n,t,e,o+v*e)}function D(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return n+t[0];if(i=e<0?(1-r)*e:0,r<8){for(o=0,u=0;u<r;u++)o+=n+t[i],i+=e;return o}return q(r,n,t,e,i)}U(D,"ndarray",q);var H=128;function K(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Y(n[e]);if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=Y(n[i]),i+=t;return p}if(r<=H){for(o=Y(n[i]),u=Y(n[i+t]),f=Y(n[i+2*t]),a=Y(n[i+3*t]),s=Y(n[i+4*t]),c=Y(n[i+5*t]),l=Y(n[i+6*t]),h=Y(n[i+7*t]),i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=Y(n[i]),u+=Y(n[i+t]),f+=Y(n[i+2*t]),a+=Y(n[i+3*t]),s+=Y(n[i+4*t]),c+=Y(n[i+5*t]),l+=Y(n[i+6*t]),h+=Y(n[i+7*t]),i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=Y(n[i]),i+=t;return p}return m=J(r/2),K(m-=m%8,n,t,i)+K(r-m,n,t,i+m*t)}function Q(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Y(n[0]);if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=Y(n[e]),e+=t;return i}return K(r,n,t,e)}function rr(r,n,t,e,i,o){var u,f,a,s,c,l,h;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=n,l=0,h=0;h<r;h++)c=a+(s=t[u]),Y(a)>=Y(s)?l+=a-c+s:l+=s-c+a,a=c,i[f]=a+l,u+=e,f+=o;return i}function nr(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p;if(r<=0)return o;for(a=i,s=f,c=n,y=0,p=0;p<r;p++)h=c+(l=t[a]),Y(c)>=Y(l)?y+=c-h+l:y+=l-h+c,c=h,o[s]=c+y,a+=e,s+=u;return o}function tr(r,n,t,e,i,o){return rr(r,n,t,e,i,o)}function er(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p;if(r<=0)return i;for(f=e<0?(1-r)*e:0,a=o<0?(1-r)*o:0,u=0,s=0,p=0;p<r;p++)h=n+(l=t[f]),y=Y(n)>=Y(l)?n-h+l:l-h+n,n=h,h=s+y,c=Y(s)>=Y(y)?s-h+y:y-h+s,s=h,u+=c,i[a]=n+s+u,f+=e,a+=o;return i}function ir(r,n,t,e,i,o){var u,f,a;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=0;a<r;a++)n+=t[u],i[f]=n,u+=e,f+=o;return i}U(Q,"ndarray",K),U(rr,"ndarray",nr),U(tr,"ndarray",(function(r,n,t,e,i,o,u,f){return nr(r,n,t,e,i,o,u,f)})),U(er,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v;if(r<=0)return o;for(s=i,c=f,a=0,l=0,v=0;v<r;v++)p=n+(y=t[s]),m=Y(n)>=Y(y)?n-p+y:y-p+n,n=p,p=l+m,h=Y(l)>=Y(m)?l-p+m:m-p+l,l=p,a+=h,o[c]=n+l+a,s+=e,c+=u;return o})),U(ir,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c;if(r<=0)return o;for(a=i,s=f,c=0;c<r;c++)n+=t[a],o[s]=n,a+=e,s+=u;return o}));var or=128;function ur(r,n,t,e,i,o,u,f){var a,s,c,l,h;if(r<=0)return o;if(a=i,s=f,r<=or){for(c=0,h=0;h<r;h++)c+=t[a],o[s]=n+c,a+=e,s+=u;return o}return ur(l=J(r/2),n,t,e,a,o,u,s),ur(r-l,o[s+=(l-1)*u],t,e,a+l*e,o,u,s+u),o}function fr(r,n,t,e,i,o){return r<=0?i:ur(r,n,t,e,e<0?(1-r)*e:0,i,o,o<0?(1-r)*o:0)}function ar(r,n,t,e){var i,o,u;if(r<=0)return t;if(1===e){if((u=r%8)>0)for(o=0;o<u;o++)t[o]=n;if(r<8)return t;for(o=u;o<r;o+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]=n,i+=e;return t}function sr(r){return r!=r}function cr(r,n,t){var e,i,o,u;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:Y(n[0]);for(i=t<0?(1-r)*t:0,e=0,u=0;u<r;u++)!1===sr(o=n[i])&&(e+=Y(o)),i+=t;return e}function lr(r,n,t,e){var i,o,u,f;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:Y(n[e]);for(o=e,i=0,f=0;f<r;f++)!1===sr(u=n[o])&&(i+=Y(u)),o+=t;return i}function hr(r,n,t){return cr(r,n,t)}function yr(r,n,t,e,i){var o,u,f,a,s,c,l,h;if(u=t<0?(1-r)*t:0,f=i<0?-i:0,o=0,r<=0)return e[f]=o,e[f+i]=0,e;if(1===r||0===t)return sr(n[u])?(e[f]=o,e[f+i]=0,e):(e[f]=n[u],e[f+i]=1,e);for(c=0,l=0,h=0;h<r;h++)!1===sr(a=n[u])&&(s=o+a,Y(o)>=Y(a)?c+=o-s+a:c+=a-s+o,o=s,l+=1),u+=t;return e[f]=o+c,e[f+i]=l,e}function pr(r,n,t,e,i,o,u){var f,a,s,c,l,h,y,p;if(a=e,s=u,f=0,r<=0)return i[s]=f,i[s+o]=0,i;if(1===r||0===t)return sr(n[a])?(i[s]=f,i[s+o]=0,i):(i[s]=n[a],i[s+o]=1,i);for(h=0,y=0,p=0;p<r;p++)!1===sr(c=n[a])&&(l=f+c,Y(f)>=Y(c)?h+=f-l+c:h+=c-l+f,f=l,y+=1),a+=t;return i[s]=f+h,i[s+o]=y,i}function mr(r,n,t,e,i){return yr(r,n,t,e,i)}function vr(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m;if(s=t<0?(1-r)*t:0,c=i<0?-i:0,o=0,r<=0)return e[c]=o,e[c+i]=0,e;if(1===r||0===t)return sr(n[s])?(e[c]=o,e[c+i]=0,e):(e[c]=n[s],e[c+i]=1,e);for(u=0,f=0,p=0,m=0;m<r;m++)!1===sr(l=n[s])&&(h=o+l,y=Y(o)>=Y(l)?o-h+l:l-h+o,o=h,h=f+y,a=Y(f)>=Y(y)?f-h+y:y-h+f,f=h,u+=a,p+=1),s+=t;return e[c]=o+f+u,e[c+i]=p,e}function gr(r,n,t,e,i){var o,u,f,a,s;if(u=t<0?(1-r)*t:0,f=i<0?-i:0,o=0,r<=0)return e[f]=o,e[f+i]=0,e;if(1===r||0===t)return sr(n[u])?(e[f]=o,e[f+i]=0,e):(e[f]=n[u],e[f+i]=1,e);for(a=0,s=0;s<r;s++)!1===sr(n[u])&&(o+=n[u],a+=1),u+=t;return e[f]=o,e[f+i]=a,e}U(fr,"ndarray",ur),U(ar,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0)return t;if(o=i,1===e){if((u=r%8)>0)for(f=0;f<u;f++)t[o]=n,o+=e;if(r<8)return t;for(f=u;f<r;f+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n,o+=8;return t}for(f=0;f<r;f++)t[o]=n,o+=e;return t})),U(cr,"ndarray",lr),U(hr,"ndarray",(function(r,n,t,e){return lr(r,n,t,e)})),U(yr,"ndarray",pr),U(mr,"ndarray",(function(r,n,t,e,i,o,u){return pr(r,n,t,e,i,o,u)})),U(vr,"ndarray",(function(r,n,t,e,i,o,u){var f,a,s,c,l,h,y,p,m,v,g;if(l=e,h=u,f=0,r<=0)return i[h]=f,i[h+o]=0,i;if(1===r||0===t)return sr(n[l])?(i[h]=f,i[h+o]=0,i):(i[h]=n[l],i[h+o]=1,i);for(a=0,s=0,v=0,g=0;g<r;g++)!1===sr(y=n[l])&&(p=f+y,m=Y(f)>=Y(y)?f-p+y:y-p+f,f=p,p=s+m,c=Y(s)>=Y(m)?s-p+m:m-p+s,s=p,a+=c,v+=1),l+=t;return i[h]=f+s+a,i[h+o]=v,i})),U(gr,"ndarray",(function(r,n,t,e,i,o,u){var f,a,s,c,l;if(a=e,s=u,f=0,r<=0)return i[s]=f,i[s+o]=0,i;if(1===r||0===t)return sr(n[a])?(i[s]=f,i[s+o]=0,i):(i[s]=n[a],i[s+o]=1,i);for(c=0,l=0;l<r;l++)!1===sr(n[a])&&(f+=n[a],c+=1),a+=t;return i[s]=f,i[s+o]=c,i}));var dr=128;function wr(r,n,t,e,i,o,u){var f,a,s,c,l,h,y,p,m,v,g,d,w,b,E;if(r<=0)return i;if(f=e,a=u,1===r||0===t)return sr(n[f])||(i[a]+=n[f],i[a+o]+=1),i;if(r<8){for(d=0,w=0,E=0;E<r;E++)(b=n[f])==b&&(d+=b,w+=1),f+=t;return i[a]+=d,i[a+o]+=w,i}if(r<=dr){for(s=0,c=0,l=0,h=0,y=0,p=0,m=0,v=0,w=0,g=r%8,E=0;E<r-g;E+=8)(b=n[f])==b&&(s+=b,w+=1),(b=n[f+=t])==b&&(c+=b,w+=1),(b=n[f+=t])==b&&(l+=b,w+=1),(b=n[f+=t])==b&&(h+=b,w+=1),(b=n[f+=t])==b&&(y+=b,w+=1),(b=n[f+=t])==b&&(p+=b,w+=1),(b=n[f+=t])==b&&(m+=b,w+=1),(b=n[f+=t])==b&&(v+=b,w+=1),f+=t;for(d=s+c+(l+h)+(y+p+(m+v));E<r;E++)(b=n[f])==b&&(d+=b,w+=1),f+=t;return i[a]+=d,i[a+o]+=w,i}return w=J(r/2),wr(w-=w%8,n,t,f,i,o,u),wr(r-w,n,t,f+w*t,i,o,u),i}function br(r,n,t,e,i){var o,u;return o=t<0?(1-r)*t:0,e[u=i<0?-i:0]=0,e[u+i]=0,wr(r,n,t,o,e,i,u),e}function Er(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)!1===sr(o=n[i])&&(u=e+o,Y(e)>=Y(o)?f+=e-u+o:f+=o-u+e,e=u),i+=t;return e+f}function _r(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];for(o=e,i=0,a=0,s=0;s<r;s++)!1===sr(u=n[o])&&(f=i+u,Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f),o+=t;return i+a}function Tr(r,n,t){return Er(r,n,t)}function xr(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)!1===sr(a=n[o])&&(s=e+a,c=Y(e)>=Y(a)?e-s+a:a-s+e,e=s,s=u+c,f=Y(u)>=Y(c)?u-s+c:c-s+u,u=s,i+=f),o+=t;return e+u+i}function Ar(r,n,t){var e,i,o;if(e=0,r<=0)return e;if(1===r||0===t)return sr(n[0])?e:n[0];for(i=t<0?(1-r)*t:0,o=0;o<r;o++)!1===sr(n[i])&&(e+=n[i]),i+=t;return e}U(br,"ndarray",(function(r,n,t,e,i,o,u){return i[u]=0,i[u+o]=0,wr(r,n,t,e,i,o,u),i})),U(Er,"ndarray",_r),U(Tr,"ndarray",(function(r,n,t,e){return _r(r,n,t,e)})),U(xr,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)!1===sr(s=n[u])&&(c=i+s,l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a),u+=t;return i+f+o})),U(Ar,"ndarray",(function(r,n,t,e){var i,o,u;if(i=0,r<=0)return i;if(1===r||0===t)return sr(n[e])?i:n[e];for(o=e,u=0;u<r;u++)!1===sr(n[o])&&(i+=n[o]),o+=t;return i}));var Vr=128;function kr(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)!1===sr(n[i])&&(p+=n[i]),i+=t;return p}if(r<=Vr){for(o=sr(n[i])?0:n[i],u=sr(n[i+=t])?0:n[i],f=sr(n[i+=t])?0:n[i],a=sr(n[i+=t])?0:n[i],s=sr(n[i+=t])?0:n[i],c=sr(n[i+=t])?0:n[i],l=sr(n[i+=t])?0:n[i],h=sr(n[i+=t])?0:n[i],i+=t,y=r%8,v=8;v<r-y;v+=8)o+=sr(n[i])?0:n[i],u+=sr(n[i+=t])?0:n[i],f+=sr(n[i+=t])?0:n[i],a+=sr(n[i+=t])?0:n[i],s+=sr(n[i+=t])?0:n[i],c+=sr(n[i+=t])?0:n[i],l+=sr(n[i+=t])?0:n[i],h+=sr(n[i+=t])?0:n[i],i+=t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)!1===sr(n[i])&&(p+=n[i]),i+=t;return p}return m=J(r/2),kr(m-=m%8,n,t,i)+kr(r-m,n,t,i+m*t)}function jr(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)!1===sr(n[e])&&(i+=n[e]),e+=t;return i}return kr(r,n,t,e)}function Fr(r,n,t){var e,i,o,u,f,a;if(r<=0)return n;if(f=J(r/2),1===t){if(o=r-1,(u=f%3)>0)for(i=0;i<u;i++)e=n[i],n[i]=n[o],n[o]=e,o-=1;if(f<3)return n;for(i=u;i<f;i+=3)e=n[i],n[i]=n[o],n[o]=e,e=n[i+1],n[i+1]=n[o-1],n[o-1]=e,e=n[i+2],n[i+2]=n[o-2],n[o-2]=e,o-=3;return n}for(o=(i=t<0?(1-r)*t:0)+(r-1)*t,a=0;a<f;a++)e=n[i],n[i]=n[o],n[o]=e,i+=t,o-=t;return n}U(jr,"ndarray",kr),U(Fr,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return n;if(a=J(r/2),o=e,1===t){if(u=o+r-1,(f=a%3)>0)for(s=0;s<f;s++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;if(a<3)return n;for(s=f;s<a;s+=3)i=n[o],n[o]=n[u],n[u]=i,i=n[o+1],n[o+1]=n[u-1],n[u-1]=i,i=n[o+2],n[o+2]=n[u-2],n[u-2]=i,o+=3,u-=3;return n}for(u=o+(r-1)*t,s=0;s<a;s++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;return n}));var Sr=128;function Ir(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m,v,g;if(r<=0)return 0;if(1===r||0===e)return n+t[i];if(o=i,r<8){for(m=0,g=0;g<r;g++)m+=n+t[o],o+=e;return m}if(r<=Sr){for(u=n+t[o],f=n+t[o+e],a=n+t[o+2*e],s=n+t[o+3*e],c=n+t[o+4*e],l=n+t[o+5*e],h=n+t[o+6*e],y=n+t[o+7*e],o+=8*e,p=r%8,g=8;g<r-p;g+=8)u+=n+t[o],f+=n+t[o+e],a+=n+t[o+2*e],s+=n+t[o+3*e],c+=n+t[o+4*e],l+=n+t[o+5*e],h+=n+t[o+6*e],y+=n+t[o+7*e],o+=8*e;for(m=u+f+(a+s)+(c+l+(h+y));g<r;g++)m+=n+t[o],o+=e;return m}return v=J(r/2),Ir(v-=v%8,n,t,e,o)+Ir(r-v,n,t,e,o+v*e)}function Lr(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return n+t[0];if(i=e<0?(1-r)*e:0,r<8){for(o=0,u=0;u<r;u++)o+=n+t[i],i+=e;return o}return Ir(r,n,t,e,i)}function Rr(r,n,t,e){return Lr(r,n,t,e)}function Br(r,n,t,e,i){var o,u,f,a,s;if(u=t<0?(1-r)*t:0,f=i<0?-i:0,o=0,r<=0)return e[f]=o,e[f+i]=0,e;if(1===r||0===t)return sr(n[u])?(e[f]=o,e[f+i]=0,e):(e[f]=n[u],e[f+i]=1,e);for(a=0,s=0;s<r;s++)!1===sr(n[u])&&(o+=n[u],a+=1),u+=t;return e[f]=o,e[f+i]=a,e}function Or(r){return r!=r}U(Lr,"ndarray",Ir),U(Rr,"ndarray",(function(r,n,t,e,i){return Ir(r,n,t,e,i)})),U(Br,"ndarray",(function(r,n,t,e,i,o,u){var f,a,s,c,l;if(a=e,s=u,f=0,r<=0)return i[s]=f,i[s+o]=0,i;if(1===r||0===t)return sr(n[a])?(i[s]=f,i[s+o]=0,i):(i[s]=n[a],i[s+o]=1,i);for(c=0,l=0;l<r;l++)!1===sr(n[a])&&(f+=n[a],c+=1),a+=t;return i[s]=f,i[s+o]=c,i}));var Cr=128;function Mr(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Or(n[e])?0:n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)!1===Or(n[i])&&(p+=n[i]),i+=t;return p}if(r<=Cr){for(o=Or(n[i])?0:n[i],u=Or(n[i+=t])?0:n[i],f=Or(n[i+=t])?0:n[i],a=Or(n[i+=t])?0:n[i],s=Or(n[i+=t])?0:n[i],c=Or(n[i+=t])?0:n[i],l=Or(n[i+=t])?0:n[i],h=Or(n[i+=t])?0:n[i],i+=t,y=r%8,v=8;v<r-y;v+=8)o+=Or(n[i])?0:n[i],u+=Or(n[i+=t])?0:n[i],f+=Or(n[i+=t])?0:n[i],a+=Or(n[i+=t])?0:n[i],s+=Or(n[i+=t])?0:n[i],c+=Or(n[i+=t])?0:n[i],l+=Or(n[i+=t])?0:n[i],h+=Or(n[i+=t])?0:n[i],i+=t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)!1===Or(n[i])&&(p+=n[i]),i+=t;return p}return m=J(r/2),Mr(m-=m%8,n,t,i)+Mr(r-m,n,t,i+m*t)}function Pr(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Or(n[0])?0:n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)!1===Or(n[e])&&(i+=n[e]),e+=t;return i}return Mr(r,n,t,e)}function Ur(r,n,t){return Pr(r,n,t)}function Nr(r,n,t){var e,i,o;if(e=0,r<=0)return e;if(1===r||0===t)return sr(n[0])?e:n[0];for(i=t<0?(1-r)*t:0,o=0;o<r;o++)!1===sr(n[i])&&(e+=n[i]),i+=t;return e}U(Pr,"ndarray",Mr),U(Ur,"ndarray",(function(r,n,t,e){return Mr(r,n,t,e)})),U(Nr,"ndarray",(function(r,n,t,e){var i,o,u;if(i=0,r<=0)return i;if(1===r||0===t)return sr(n[e])?i:n[e];for(o=e,u=0;u<r;u++)!1===sr(n[o])&&(i+=n[o]),o+=t;return i}));var Yr=Number.POSITIVE_INFINITY;function Wr(r){return 0===r&&1/r===Yr}function $r(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,v=r,a=J(r/2);;){if(a>0)h=t[u+(a-=1)*e],y=i[f+a*o];else{if(0==(v-=1))return t;h=t[p=u+v*e],y=i[m=f+v*o],t[p]=t[u],i[m]=i[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[u+d*e])>(l=t[u+s*e])||sr(c)||c===l&&Wr(c))&&(s+=1),(c=t[u+s*e])>h||sr(c)||c===h&&Wr(c));)t[u+g*e]=c,i[f+g*o]=i[f+s*o],s=2*(g=s)+1;t[u+g*e]=h,i[f+g*o]=y}}U($r,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),v=r,a=J(r/2);;){if(a>0)h=t[i+(a-=1)*e],y=o[f+a*u];else{if(0==(v-=1))return t;h=t[p=i+v*e],y=o[m=f+v*u],t[p]=t[i],o[m]=o[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[i+d*e])>(l=t[i+s*e])||sr(c)||c===l&&Wr(c))&&(s+=1),(c=t[i+s*e])>h||sr(c)||c===h&&Wr(c));)t[i+g*e]=c,o[f+g*u]=o[f+s*u],s=2*(g=s)+1;t[i+g*e]=h,o[f+g*u]=y}}));var Gr=Number,Zr=Gr.NEGATIVE_INFINITY;function Xr(r){return 0===r&&1/r===Zr}function Jr(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;if(n<0&&(e*=-1,o*=-1),o<0?(y=(1-r)*o,p=0):(y=0,p=(r-1)*o),l=y+o,e<0){for(c=0,f=(s=(1-r)*e)+e,d=1;d<r;d++)if(m=t[f],v=i[l],sr(m)){for(a=f,h=l;a>c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Xr(m),a=f-e,h=l-o;a<=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Xr(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}for(c=(r-1)*e,f=(s=0)+e,d=1;d<r;d++)if(m=t[f],v=i[l],sr(m)){for(a=f,h=l;a<c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Xr(m),a=f-e,h=l-o;a>=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Xr(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}U(Jr,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d,w,b;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),h=(l=i)+(r-1)*e,s=l+e,v=(m=f)+(r-1)*u,y=m+u,e<0){for(b=1;b<r;b++)if(g=t[s],d=o[y],sr(g)){for(c=s,p=y;c>h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Xr(g),c=s-e,p=y-u;c<=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Xr(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}for(b=1;b<r;b++)if(g=t[s],d=o[y],sr(g)){for(c=s,p=y;c<h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Xr(g),c=s-e,p=y-u;c>=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Xr(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}));var zr=[701,301,132,57,23,10,4,1],qr=zr.length;function Dr(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,y=0;y<qr;y++)for(p=s=zr[y];p<r;p++)if(!sr(c=t[u+p*e])){for(l=i[f+p*o],a=Xr(c),m=p;m>=s&&(!((h=t[u+(m-s)*e])<=c)||a&&h===c);m-=s)t[u+m*e]=h,i[f+m*o]=i[f+(m-s)*o];t[u+m*e]=c,i[f+m*o]=l}return t}var Hr=zr.length;function Kr(r,n,t,e){var i,o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||sr(f)||f===a&&Wr(f))&&(u+=1),(f=t[i+u*e])>c||sr(f)||f===c&&Wr(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}}function Qr(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;if(n<0&&(e*=-1),e<0){for(a=0,o=(f=(1-r)*e)+e,l=1;l<r;l++)if(sr(s=t[o])){for(u=o;u>a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Xr(s),u=o-e;u<=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Xr(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}for(a=(r-1)*e,o=(f=0)+e,l=1;l<r;l++)if(sr(s=t[o])){for(u=o;u<a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Xr(s),u=o-e;u>=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Xr(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}U(Dr,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),y=0;y<Hr;y++)for(p=s=zr[y];p<r;p++)if(!sr(c=t[i+p*e])){for(l=o[f+p*u],a=Xr(c),m=p;m>=s&&(!((h=t[i+(m-s)*e])<=c)||a&&h===c);m-=s)t[i+m*e]=h,o[f+m*u]=o[f+(m-s)*u];t[i+m*e]=c,o[f+m*u]=l}return t})),U(Kr,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||sr(f)||f===a&&Wr(f))&&(u+=1),(f=t[i+u*e])>c||sr(f)||f===c&&Wr(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}})),U(Qr,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1)),s=(a=i)+(r-1)*e,u=a+e,e<0){for(h=1;h<r;h++)if(sr(c=t[u])){for(f=u;f>s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Xr(c),f=u-e;f<=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Xr(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}for(h=1;h<r;h++)if(sr(c=t[u])){for(f=u;f<s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Xr(c),f=u-e;f>=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Xr(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}));var rn=[701,301,132,57,23,10,4,1],nn=rn.length;function tn(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=0;s<nn;s++)for(c=u=rn[s];c<r;c++)if(!sr(f=t[i+c*e])){for(o=Xr(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t}var en=rn.length;U(tn,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=0;s<en;s++)for(c=u=rn[s];c<r;c++)if(!sr(f=t[i+c*e])){for(o=Xr(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t}));var on=128;function un(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=n[i],i+=t;return p}if(r<=on){for(o=n[i],u=n[i+t],f=n[i+2*t],a=n[i+3*t],s=n[i+4*t],c=n[i+5*t],l=n[i+6*t],h=n[i+7*t],i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=n[i],u+=n[i+t],f+=n[i+2*t],a+=n[i+3*t],s+=n[i+4*t],c+=n[i+5*t],l+=n[i+6*t],h+=n[i+7*t],i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=n[i],i+=t;return p}return m=J(r/2),un(m-=m%8,n,t,i)+un(r-m,n,t,i+m*t)}function fn(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=n[e],e+=t;return i}return un(r,n,t,e)}function an(r,n,t){return fn(r,n,t)}function sn(r,n,t){var e,i,o,u;if(e=0,r<=0)return e;if(1===r||0===t)return n[0];if(1===t){if((o=r%6)>0)for(u=0;u<o;u++)e+=n[u];if(r<6)return e;for(u=o;u<r;u+=6)e+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return e}for(i=t<0?(1-r)*t:0,u=0;u<r;u++)e+=n[i],i+=t;return e}function cn(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)u=e+(o=n[i]),Y(e)>=Y(o)?f+=e-u+o:f+=o-u+e,e=u,i+=t;return e+f}function ln(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return n[e];for(o=e,i=0,a=0,s=0;s<r;s++)f=i+(u=n[o]),Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f,o+=t;return i+a}function hn(r,n,t){return cn(r,n,t)}function yn(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)s=e+(a=n[o]),c=Y(e)>=Y(a)?e-s+a:a-s+e,e=s,s=u+c,f=Y(u)>=Y(c)?u-s+c:c-s+u,u=s,i+=f,o+=t;return e+u+i}function pn(r,n,t){var e,i,o,u;if(e=0,r<=0)return e;if(1===r||0===t)return n[0];if(1===t){if((o=r%6)>0)for(u=0;u<o;u++)e+=n[u];if(r<6)return e;for(u=o;u<r;u+=6)e+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return e}for(i=t<0?(1-r)*t:0,u=0;u<r;u++)e+=n[i],i+=t;return e}U(fn,"ndarray",un),U(an,"ndarray",(function(r,n,t,e){return un(r,n,t,e)})),U(sn,"ndarray",(function(r,n,t,e){var i,o,u,f;if(i=0,r<=0)return i;if(1===r||0===t)return n[e];if(o=e,1===t){if((u=r%6)>0)for(f=0;f<u;f++)i+=n[o],o+=t;if(r<6)return i;for(f=u;f<r;f+=6)i+=n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]+n[o+5],o+=6;return i}for(f=0;f<r;f++)i+=n[o],o+=t;return i})),U(cn,"ndarray",ln),U(hn,"ndarray",(function(r,n,t,e){return ln(r,n,t,e)})),U(yn,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)c=i+(s=n[u]),l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a,u+=t;return i+f+o})),U(pn,"ndarray",(function(r,n,t,e){var i,o,u,f;if(i=0,r<=0)return i;if(1===r||0===t)return n[e];if(o=e,1===t){if((u=r%6)>0)for(f=0;f<u;f++)i+=n[o],o+=t;if(r<6)return i;for(f=u;f<r;f+=6)i+=n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]+n[o+5],o+=6;return i}for(f=0;f<r;f++)i+=n[o],o+=t;return i}));var mn=128;function vn(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=n[i],i+=t;return p}if(r<=mn){for(o=n[i],u=n[i+t],f=n[i+2*t],a=n[i+3*t],s=n[i+4*t],c=n[i+5*t],l=n[i+6*t],h=n[i+7*t],i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=n[i],u+=n[i+t],f+=n[i+2*t],a+=n[i+3*t],s+=n[i+4*t],c+=n[i+5*t],l+=n[i+6*t],h+=n[i+7*t],i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=n[i],i+=t;return p}return m=J(r/2),vn(m-=m%8,n,t,i)+vn(r-m,n,t,i+m*t)}function gn(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=n[e],e+=t;return i}return vn(r,n,t,e)}function dn(r,n,t,e){var i,o,u;if(r<=0||0===n)return t;if(1===e){if((u=r%5)>0)for(o=0;o<u;o++)t[o]+=n;if(r<5)return t;for(o=u;o<r;o+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]+=n,i+=e;return t}function wn(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(o=e<0?(1-r)*e:0,i=0,a=0,s=0;s<r;s++)f=i+(u=n+t[o]),Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f,o+=e;return i+a}function bn(r,n,t,e,i){var o,u,f,a,s,c;if(r<=0)return 0;if(1===r||0===e)return n+t[i];for(u=i,o=0,s=0,c=0;c<r;c++)a=o+(f=n+t[u]),Y(o)>=Y(f)?s+=o-a+f:s+=f-a+o,o=a,u+=e;return o+s}function En(r,n,t,e){return wn(r,n,t,e)}function _n(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(u=e<0?(1-r)*e:0,i=0,o=0,f=0,h=0;h<r;h++)c=i+(s=n+t[u]),l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a,u+=e;return i+f+o}function Tn(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(o=e<0?(1-r)*e:0,i=0,u=0;u<r;u++)i+=n+t[o],o+=e;return i}U(gn,"ndarray",vn),U(dn,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0||0===n)return t;if(o=i,1===e){if((u=r%5)>0)for(f=0;f<u;f++)t[o]+=n,o+=e;if(r<5)return t;for(f=u;f<r;f+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n,o+=5;return t}for(f=0;f<r;f++)t[o]+=n,o+=e;return t})),U(wn,"ndarray",bn),U(En,"ndarray",(function(r,n,t,e,i){return bn(r,n,t,e,i)})),U(_n,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0)return 0;if(1===r||0===e)return n+t[0];for(f=i,o=0,u=0,a=0,y=0;y<r;y++)l=o+(c=n+t[f]),h=Y(o)>=Y(c)?o-l+c:c-l+o,o=l,l=a+h,s=Y(a)>=Y(h)?a-l+h:h-l+a,a=l,u+=s,f+=e;return o+a+u})),U(Tn,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0)return 0;if(1===r||0===e)return n+t[i];for(u=i,o=0,f=0;f<r;f++)o+=n+t[u],u+=e;return o}));var xn=128;function An(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m,v,g;if(r<=0)return 0;if(1===r||0===e)return n+t[i];if(o=i,r<8){for(m=0,g=0;g<r;g++)m+=n+t[o],o+=e;return m}if(r<=xn){for(u=n+t[o],f=n+t[o+e],a=n+t[o+2*e],s=n+t[o+3*e],c=n+t[o+4*e],l=n+t[o+5*e],h=n+t[o+6*e],y=n+t[o+7*e],o+=8*e,p=r%8,g=8;g<r-p;g+=8)u+=n+t[o],f+=n+t[o+e],a+=n+t[o+2*e],s+=n+t[o+3*e],c+=n+t[o+4*e],l+=n+t[o+5*e],h+=n+t[o+6*e],y+=n+t[o+7*e],o+=8*e;for(m=u+f+(a+s)+(c+l+(h+y));g<r;g++)m+=n+t[o],o+=e;return m}return v=J(r/2),An(v-=v%8,n,t,e,o)+An(r-v,n,t,e,o+v*e)}function Vn(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return n+t[0];if(i=e<0?(1-r)*e:0,r<8){for(o=0,u=0;u<r;u++)o+=n+t[i],i+=e;return o}return An(r,n,t,e,i)}U(Vn,"ndarray",An);var kn=128;function jn(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Y(n[e]);if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=Y(n[i]),i+=t;return p}if(r<=kn){for(o=Y(n[i]),u=Y(n[i+t]),f=Y(n[i+2*t]),a=Y(n[i+3*t]),s=Y(n[i+4*t]),c=Y(n[i+5*t]),l=Y(n[i+6*t]),h=Y(n[i+7*t]),i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=Y(n[i]),u+=Y(n[i+t]),f+=Y(n[i+2*t]),a+=Y(n[i+3*t]),s+=Y(n[i+4*t]),c+=Y(n[i+5*t]),l+=Y(n[i+6*t]),h+=Y(n[i+7*t]),i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=Y(n[i]),i+=t;return p}return m=J(r/2),jn(m-=m%8,n,t,i)+jn(r-m,n,t,i+m*t)}function Fn(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Y(n[0]);if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=Y(n[e]),e+=t;return i}return jn(r,n,t,e)}function Sn(r,n,t,e,i,o){var u,f,a,s,c,l,h;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=n,l=0,h=0;h<r;h++)c=a+(s=t[u]),Y(a)>=Y(s)?l+=a-c+s:l+=s-c+a,a=c,i[f]=a+l,u+=e,f+=o;return i}function In(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p;if(r<=0)return o;for(a=i,s=f,c=n,y=0,p=0;p<r;p++)h=c+(l=t[a]),Y(c)>=Y(l)?y+=c-h+l:y+=l-h+c,c=h,o[s]=c+y,a+=e,s+=u;return o}function Ln(r,n,t,e,i,o){return Sn(r,n,t,e,i,o)}function Rn(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p;if(r<=0)return i;for(f=e<0?(1-r)*e:0,a=o<0?(1-r)*o:0,u=0,s=0,p=0;p<r;p++)h=n+(l=t[f]),y=Y(n)>=Y(l)?n-h+l:l-h+n,n=h,h=s+y,c=Y(s)>=Y(y)?s-h+y:y-h+s,s=h,u+=c,i[a]=n+s+u,f+=e,a+=o;return i}function Bn(r,n,t,e,i,o){var u,f,a;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=0;a<r;a++)n+=t[u],i[f]=n,u+=e,f+=o;return i}U(Fn,"ndarray",jn),U(Sn,"ndarray",In),U(Ln,"ndarray",(function(r,n,t,e,i,o,u,f){return In(r,n,t,e,i,o,u,f)})),U(Rn,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v;if(r<=0)return o;for(s=i,c=f,a=0,l=0,v=0;v<r;v++)p=n+(y=t[s]),m=Y(n)>=Y(y)?n-p+y:y-p+n,n=p,p=l+m,h=Y(l)>=Y(m)?l-p+m:m-p+l,l=p,a+=h,o[c]=n+l+a,s+=e,c+=u;return o})),U(Bn,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c;if(r<=0)return o;for(a=i,s=f,c=0;c<r;c++)n+=t[a],o[s]=n,a+=e,s+=u;return o}));var On=128;function Cn(r,n,t,e,i,o,u,f){var a,s,c,l,h;if(r<=0)return o;if(a=i,s=f,r<=On){for(c=0,h=0;h<r;h++)c+=t[a],o[s]=n+c,a+=e,s+=u;return o}return Cn(l=J(r/2),n,t,e,a,o,u,s),Cn(r-l,o[s+=(l-1)*u],t,e,a+l*e,o,u,s+u),o}function Mn(r,n,t,e,i,o){return r<=0?i:Cn(r,n,t,e,e<0?(1-r)*e:0,i,o,o<0?(1-r)*o:0)}U(Mn,"ndarray",Cn);var Pn="function",Un={float64:function(r,n){return r[n]},float32:function(r,n){return r[n]},int32:function(r,n){return r[n]},int16:function(r,n){return r[n]},int8:function(r,n){return r[n]},uint32:function(r,n){return r[n]},uint16:function(r,n){return r[n]},uint8:function(r,n){return r[n]},uint8c:function(r,n){return r[n]},generic:function(r,n){return r[n]},default:function(r,n){return r[n]}};function Nn(r){var n=Un[r];return"function"==typeof n?n:Un.default}var Yn={float64:function(r,n,t){r[n]=t},float32:function(r,n,t){r[n]=t},int32:function(r,n,t){r[n]=t},int16:function(r,n,t){r[n]=t},int8:function(r,n,t){r[n]=t},uint32:function(r,n,t){r[n]=t},uint16:function(r,n,t){r[n]=t},uint8:function(r,n,t){r[n]=t},uint8c:function(r,n,t){r[n]=t},generic:function(r,n,t){r[n]=t},default:function(r,n,t){r[n]=t}};function Wn(r){var n=Yn[r];return"function"==typeof n?n:Yn.default}var $n={complex128:function(r,n){return r.get(n)},complex64:function(r,n){return r.get(n)},default:function(r,n){return r.get(n)}};function Gn(r){var n=$n[r];return"function"==typeof n?n:$n.default}var Zn={complex128:function(r,n,t){r.set(t,n)},complex64:function(r,n,t){r.set(t,n)},default:function(r,n,t){r.set(t,n)}};function Xn(r){var n=Zn[r];return"function"==typeof n?n:Zn.default}var Jn="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function zn(){return Jn&&"symbol"==typeof Symbol.toStringTag}var qn=Object.prototype.toString,Dn=Object.prototype.hasOwnProperty;function Hn(r,n){return null!=r&&Dn.call(r,n)}var Kn,Qn="function"==typeof Symbol?Symbol:void 0,rt="function"==typeof Qn?Qn.toStringTag:"";Kn=zn()?function(r){var n,t,e;if(null==r)return qn.call(r);t=r[rt],n=Hn(r,rt);try{r[rt]=void 0}catch(n){return qn.call(r)}return e=qn.call(r),n?r[rt]=t:delete r[rt],e}:function(r){return qn.call(r)};var nt=Kn,tt=Array.isArray?Array.isArray:function(r){return"[object Array]"===nt(r)};function et(r){return null!==r&&"object"==typeof r}function it(r){return et(r)&&(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))}function ot(){return/^\s*function\s*([^(]*)/i}U(et,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError(F("invalid argument. Must provide a function. Value: `%s`.",r));return function(n){var t,e;if(!tt(n))return!1;if(0===(t=n.length))return!1;for(e=0;e<t;e++)if(!1===r(n[e]))return!1;return!0}}(et));var ut=/^\s*function\s*([^(]*)/i;function ft(r){var n,t,e;if(("Object"===(t=nt(r).slice(8,-1))||"Error"===t)&&r.constructor){if("string"==typeof(e=r.constructor).name)return e.name;if(n=ut.exec(e.toString()))return n[1]}return it(r)?"Buffer":t}U(ot,"REGEXP",ut);var at={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},st="function"==typeof Float64Array,ct="function"==typeof Float64Array?Float64Array:null,lt="function"==typeof Float64Array?Float64Array:void 0,ht=function(){var r,n,t;if("function"!=typeof ct)return!1;try{n=new ct([1,3.14,-3.14,NaN]),t=n,r=(st&&t instanceof Float64Array||"[object Float64Array]"===nt(t))&&1===n[0]&&3.14===n[1]&&-3.14===n[2]&&n[3]!=n[3]}catch(n){r=!1}return r}()?lt:function(){throw new Error("not implemented")},yt="function"==typeof Float32Array,pt="function"==typeof Float32Array?Float32Array:null,mt="function"==typeof Float32Array?Float32Array:void 0,vt=function(){var r,n,t;if("function"!=typeof pt)return!1;try{n=new pt([1,3.14,-3.14,5e40]),t=n,r=(yt&&t instanceof Float32Array||"[object Float32Array]"===nt(t))&&1===n[0]&&3.140000104904175===n[1]&&-3.140000104904175===n[2]&&n[3]===Yr}catch(n){r=!1}return r}()?mt:function(){throw new Error("not implemented")},gt="function"==typeof Uint32Array,dt="function"==typeof Uint32Array?Uint32Array:null,wt="function"==typeof Uint32Array?Uint32Array:void 0,bt=function(){var r,n,t;if("function"!=typeof dt)return!1;try{n=new dt(n=[1,3.14,-3.14,4294967296,4294967297]),t=n,r=(gt&&t instanceof Uint32Array||"[object Uint32Array]"===nt(t))&&1===n[0]&&3===n[1]&&4294967293===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?wt:function(){throw new Error("not implemented")},Et="function"==typeof Int32Array,_t="function"==typeof Int32Array?Int32Array:null,Tt="function"==typeof Int32Array?Int32Array:void 0,xt=function(){var r,n,t;if("function"!=typeof _t)return!1;try{n=new _t([1,3.14,-3.14,2147483648]),t=n,r=(Et&&t instanceof Int32Array||"[object Int32Array]"===nt(t))&&1===n[0]&&3===n[1]&&-3===n[2]&&-2147483648===n[3]}catch(n){r=!1}return r}()?Tt:function(){throw new Error("not implemented")},At="function"==typeof Uint16Array,Vt="function"==typeof Uint16Array?Uint16Array:null,kt="function"==typeof Uint16Array?Uint16Array:void 0,jt=function(){var r,n,t;if("function"!=typeof Vt)return!1;try{n=new Vt(n=[1,3.14,-3.14,65536,65537]),t=n,r=(At&&t instanceof Uint16Array||"[object Uint16Array]"===nt(t))&&1===n[0]&&3===n[1]&&65533===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?kt:function(){throw new Error("not implemented")},Ft="function"==typeof Int16Array,St="function"==typeof Int16Array?Int16Array:null,It="function"==typeof Int16Array?Int16Array:void 0,Lt=function(){var r,n,t;if("function"!=typeof St)return!1;try{n=new St([1,3.14,-3.14,32768]),t=n,r=(Ft&&t instanceof Int16Array||"[object Int16Array]"===nt(t))&&1===n[0]&&3===n[1]&&-3===n[2]&&-32768===n[3]}catch(n){r=!1}return r}()?It:function(){throw new Error("not implemented")},Rt="function"==typeof Uint8Array,Bt="function"==typeof Uint8Array?Uint8Array:null,Ot="function"==typeof Uint8Array?Uint8Array:void 0,Ct=function(){var r,n,t;if("function"!=typeof Bt)return!1;try{n=new Bt(n=[1,3.14,-3.14,256,257]),t=n,r=(Rt&&t instanceof Uint8Array||"[object Uint8Array]"===nt(t))&&1===n[0]&&3===n[1]&&253===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?Ot:function(){throw new Error("not implemented")},Mt="function"==typeof Uint8ClampedArray,Pt="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,Ut="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,Nt=function(){var r,n,t;if("function"!=typeof Pt)return!1;try{n=new Pt([-1,0,1,3.14,4.99,255,256]),t=n,r=(Mt&&t instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===nt(t))&&0===n[0]&&0===n[1]&&1===n[2]&&3===n[3]&&5===n[4]&&255===n[5]&&255===n[6]}catch(n){r=!1}return r}()?Ut:function(){throw new Error("not implemented")},Yt="function"==typeof Int8Array,Wt="function"==typeof Int8Array?Int8Array:null,$t="function"==typeof Int8Array?Int8Array:void 0,Gt=function(){var r,n,t;if("function"!=typeof Wt)return!1;try{n=new Wt([1,3.14,-3.14,128]),t=n,r=(Yt&&t instanceof Int8Array||"[object Int8Array]"===nt(t))&&1===n[0]&&3===n[1]&&-3===n[2]&&-128===n[3]}catch(n){r=!1}return r}()?$t:function(){throw new Error("not implemented")};function Zt(r){return"number"==typeof r}var Xt=Gr.prototype.toString,Jt=zn();function zt(r){return"object"==typeof r&&(r instanceof Gr||(Jt?function(r){try{return Xt.call(r),!0}catch(r){return!1}}(r):"[object Number]"===nt(r)))}function qt(r){return Zt(r)||zt(r)}function Dt(r){return J(r)===r}function Ht(r){return r<Yr&&r>Zr&&Dt(r)}function Kt(r){return Zt(r)&&Ht(r)}function Qt(r){return zt(r)&&Ht(r.valueOf())}function re(r){return Kt(r)||Qt(r)}function ne(r){return Kt(r)&&r>=0}function te(r){return Qt(r)&&r.valueOf()>=0}function ee(r){return ne(r)||te(r)}U(qt,"isPrimitive",Zt),U(qt,"isObject",zt),U(re,"isPrimitive",Kt),U(re,"isObject",Qt),U(ee,"isPrimitive",ne),U(ee,"isObject",te);var ie=4294967295;function oe(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&Dt(r.length)&&r.length>=0&&r.length<=ie}var ue=9007199254740991;function fe(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&Dt(r.length)&&r.length>=0&&r.length<=ue}var ae="function"==typeof ArrayBuffer;function se(r){return ae&&r instanceof ArrayBuffer||"[object ArrayBuffer]"===nt(r)}function ce(r){return"object"==typeof r&&null!==r&&!tt(r)}function le(r){return"string"==typeof r}var he=String.prototype.valueOf,ye=zn();function pe(r){return"object"==typeof r&&(r instanceof String||(ye?function(r){try{return he.call(r),!0}catch(r){return!1}}(r):"[object String]"===nt(r)))}function me(r){return le(r)||pe(r)}U(me,"isPrimitive",le),U(me,"isObject",pe);var ve=/./;function ge(r){return"boolean"==typeof r}var de=Boolean,we=Boolean.prototype.toString,be=zn();function Ee(r){return"object"==typeof r&&(r instanceof de||(be?function(r){try{return we.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===nt(r)))}function _e(r){return ge(r)||Ee(r)}U(_e,"isPrimitive",ge),U(_e,"isObject",Ee);var Te="object"==typeof self?self:null,xe="object"==typeof window?window:null,Ae="object"==typeof globalThis?globalThis:null,Ve=function(r){if(arguments.length){if(!ge(r))throw new TypeError(F("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return new Function("return this;")()}if(Ae)return Ae;if(Te)return Te;if(xe)return xe;throw new Error("unexpected error. Unable to resolve global object.")}(),ke=Ve.document&&Ve.document.childNodes,je=Int8Array,Fe="function"==typeof ve||"object"==typeof je||"function"==typeof ke?function(r){return ft(r).toLowerCase()}:function(r){var n;return null===r?"null":"object"==(n=typeof r)?ft(r).toLowerCase():n};function Se(r){return"function"===Fe(r)}function Ie(r,n){if(!(this instanceof Ie))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Zt(r))throw new TypeError(F("invalid argument. Real component must be a number. Value: `%s`.",r));if(!Zt(n))throw new TypeError(F("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return M(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:r}),M(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:n}),this}U(Ie,"BYTES_PER_ELEMENT",8),U(Ie.prototype,"BYTES_PER_ELEMENT",8),U(Ie.prototype,"byteLength",16),U(Ie.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),U(Ie.prototype,"toJSON",(function(){var r={type:"Complex128"};return r.re=this.re,r.im=this.im,r}));var Le="function"==typeof Math.fround?Math.fround:null,Re=new vt(1),Be="function"==typeof Le?Le:function(r){return Re[0]=r,Re[0]};function Oe(r,n){if(!(this instanceof Oe))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Zt(r))throw new TypeError(F("invalid argument. Real component must be a number. Value: `%s`.",r));if(!Zt(n))throw new TypeError(F("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return M(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:Be(r)}),M(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:Be(n)}),this}function Ce(r){return r instanceof Ie||r instanceof Oe||"object"==typeof r&&null!==r&&"number"==typeof r.re&&"number"==typeof r.im}function Me(r){return Dt(r/2)}U(Oe,"BYTES_PER_ELEMENT",4),U(Oe.prototype,"BYTES_PER_ELEMENT",4),U(Oe.prototype,"byteLength",8),U(Oe.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),U(Oe.prototype,"toJSON",(function(){var r={type:"Complex64"};return r.re=this.re,r.im=this.im,r}));var Pe=8;function Ue(r){return"object"==typeof r&&null!==r&&"Complex64Array"===r.constructor.name&&r.BYTES_PER_ELEMENT===Pe}var Ne=16;function Ye(r){return"object"==typeof r&&null!==r&&"Complex128Array"===r.constructor.name&&r.BYTES_PER_ELEMENT===Ne}function We(){return"function"==typeof Qn&&"symbol"==typeof Qn("foo")&&Hn(Qn,"iterator")&&"symbol"==typeof Qn.iterator}var $e=We()?Symbol.iterator:null;function Ge(r,n,t){M(r,n,{configurable:!1,enumerable:!1,get:t})}function Ze(r){return r.re}function Xe(r){return r.im}function Je(r,n){return new vt(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function ze(r,n){return new ht(r.buffer,r.byteOffset+r.BYTES_PER_ELEMENT*n,2*(r.length-n))}function qe(r){var n,t,e;for(n=[];!(t=r.next()).done;)if(oe(e=t.value)&&e.length>=2)n.push(e[0],e[1]);else{if(!Ce(e))return new TypeError(F("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",e));n.push(Ze(e),Xe(e))}return n}var De=2*vt.BYTES_PER_ELEMENT,He=We();function Ke(r){return r instanceof ni||"object"==typeof r&&null!==r&&("Complex64Array"===r.constructor.name||"Complex128Array"===r.constructor.name)&&"number"==typeof r._length&&"object"==typeof r._buffer}function Qe(r){return r===ni||"Complex128Array"===r.name}function ri(r,n){return new Oe(r[n*=2],r[n+1])}function ni(){var r,n,t,e;if(n=arguments.length,!(this instanceof ni))return 0===n?new ni:1===n?new ni(arguments[0]):2===n?new ni(arguments[0],arguments[1]):new ni(arguments[0],arguments[1],arguments[2]);if(0===n)t=new vt(0);else if(1===n)if(ne(arguments[0]))t=new vt(2*arguments[0]);else if(fe(arguments[0]))if((e=(t=arguments[0]).length)&&tt(t)&&Ce(t[0])){if(t=function(r,n){var t,e,i,o;for(t=n.length,o=0,i=0;i<t;i++){if(!Ce(e=n[i]))return null;r[o]=Ze(e),r[o+1]=Xe(e),o+=2}return r}(new vt(2*e),t),null===t){if(!Me(e))throw new RangeError(F("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",e));t=new vt(arguments[0])}}else{if(Ue(t))t=Je(t,0);else if(Ye(t))t=ze(t,0);else if(!Me(e))throw new RangeError(F("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",e));t=new vt(t)}else if(se(arguments[0])){if(!Dt((t=arguments[0]).byteLength/De))throw new RangeError(F("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",De,t.byteLength));t=new vt(t)}else{if(!ce(arguments[0]))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(t=arguments[0],!1===He)throw new TypeError(F("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",t));if(!Se(t[$e]))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if(!Se((t=t[$e]()).next))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if((t=qe(t))instanceof Error)throw t;t=new vt(t)}else{if(!se(t=arguments[0]))throw new TypeError(F("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",t));if(!ne(r=arguments[1]))throw new TypeError(F("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",r));if(!Dt(r/De))throw new RangeError(F("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",De,r));if(2===n){if(!Dt((e=t.byteLength-r)/De))throw new RangeError(F("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",De,e));t=new vt(t,r)}else{if(!ne(e=arguments[2]))throw new TypeError(F("invalid argument. Length must be a nonnegative integer. Value: `%s`.",e));if(e*De>t.byteLength-r)throw new RangeError(F("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",e*De));t=new vt(t,r,2*e)}}return U(this,"_buffer",t),U(this,"_length",t.length/2),this}function ti(r){return r.re}function ei(r){return r.im}function ii(r){var n,t,e;for(n=[];!(t=r.next()).done;)if(oe(e=t.value)&&e.length>=2)n.push(e[0],e[1]);else{if(!Ce(e))return new TypeError(F("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",e));n.push(ti(e),ei(e))}return n}U(ni,"BYTES_PER_ELEMENT",De),U(ni,"name","Complex64Array"),U(ni,"from",(function(r){var n,t,e,i,o,u,f,a,s,c,l,h;if(!Se(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Qe(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!Se(e=arguments[1]))throw new TypeError(F("invalid argument. Second argument must be a function. Value: `%s`.",e));t>2&&(n=arguments[2])}if(Ke(r)){if(a=r.length,e){for(o=(i=new this(a))._buffer,h=0,l=0;l<a;l++){if(Ce(c=e.call(n,r.get(l),l)))o[h]=Ze(c),o[h+1]=Xe(c);else{if(!(oe(c)&&c.length>=2))throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[h]=c[0],o[h+1]=c[1]}h+=2}return i}return new this(r)}if(fe(r)){if(e){for(a=r.length,f=r.get&&r.set?Gn("default"):Nn("default"),l=0;l<a;l++)if(!Ce(f(r,l))){s=!0;break}if(s){if(!Me(a))throw new RangeError(F("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,a));for(o=(i=new this(a/2))._buffer,l=0;l<a;l++)o[l]=e.call(n,f(r,l),l);return i}for(o=(i=new this(a))._buffer,h=0,l=0;l<a;l++){if(Ce(c=e.call(n,f(r,l),l)))o[h]=Ze(c),o[h+1]=Xe(c);else{if(!(oe(c)&&c.length>=2))throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[h]=c[0],o[h+1]=c[1]}h+=2}return i}return new this(r)}if(ce(r)&&He&&Se(r[$e])){if(!Se((o=r[$e]()).next))throw new TypeError(F("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r));if(u=e?function(r,n,t){var e,i,o,u;for(e=[],u=-1;!(i=r.next()).done;)if(u+=1,oe(o=n.call(t,i.value,u))&&o.length>=2)e.push(o[0],o[1]);else{if(!Ce(o))return new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));e.push(Ze(o),Xe(o))}return e}(o,e,n):qe(o),u instanceof Error)throw u;for(o=(i=new this(a=u.length/2))._buffer,l=0;l<a;l++)o[l]=u[l];return i}throw new TypeError(F("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r))})),U(ni,"of",(function(){var r,n;if(!Se(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Qe(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return new this(r)})),U(ni.prototype,"at",(function(r){if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Dt(r))throw new TypeError(F("invalid argument. Must provide an integer. Value: `%s`.",r));if(r<0&&(r+=this._length),!(r<0||r>=this._length))return ri(this._buffer,r)})),Ge(ni.prototype,"buffer",(function(){return this._buffer.buffer})),Ge(ni.prototype,"byteLength",(function(){return this._buffer.byteLength})),Ge(ni.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),U(ni.prototype,"BYTES_PER_ELEMENT",ni.BYTES_PER_ELEMENT),U(ni.prototype,"copyWithin",(function(r,n){if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*r,2*n):this._buffer.copyWithin(2*r,2*n,2*arguments[2]),this})),U(ni.prototype,"entries",(function(){var r,n,t,e,i,o,u;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,r=this._buffer,e=this._length,o=-1,u=-2,U(t={},"next",(function(){var n;return o+=1,i||o>=e?{done:!0}:(n=new Oe(r[u+=2],r[u+1]),{value:[o,n],done:!1})})),U(t,"return",(function(r){return i=!0,arguments.length?{value:r,done:!0}:{done:!0}})),$e&&U(t,$e,(function(){return n.entries()})),t})),U(ni.prototype,"every",(function(r,n){var t,e;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(!r.call(n,ri(t,e),e,this))return!1;return!0})),U(ni.prototype,"fill",(function(r,n,t){var e,i,o,u,f,a;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=i)<0&&(n=0),arguments.length>2){if(!Dt(t))throw new TypeError(F("invalid argument. Third argument must be an integer. Value: `%s`.",t));t<0&&(t+=i)<0&&(t=0),t>i&&(t=i)}else t=i}else n=0,t=i;for(u=Ze(r),f=Xe(r),a=n;a<t;a++)e[o=2*a]=u,e[o+1]=f;return this})),U(ni.prototype,"filter",(function(r,n){var t,e,i,o;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=[],i=0;i<this._length;i++)o=ri(t,i),r.call(n,o,i,this)&&e.push(o);return new this.constructor(e)})),U(ni.prototype,"find",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(i=ri(t,e),r.call(n,i,e,this))return i})),U(ni.prototype,"findIndex",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(i=ri(t,e),r.call(n,i,e,this))return e;return-1})),U(ni.prototype,"findLast",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=this._length-1;e>=0;e--)if(i=ri(t,e),r.call(n,i,e,this))return i})),U(ni.prototype,"findLastIndex",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=this._length-1;e>=0;e--)if(i=ri(t,e),r.call(n,i,e,this))return e;return-1})),U(ni.prototype,"forEach",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)i=ri(t,e),r.call(n,i,e,this)})),U(ni.prototype,"get",(function(r){if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(F("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));if(!(r>=this._length))return ri(this._buffer,r)})),U(ni.prototype,"includes",(function(r,n){var t,e,i,o,u;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=Ze(r),o=Xe(r),t=this._buffer,u=n;u<this._length;u++)if(i===t[e=2*u]&&o===t[e+1])return!0;return!1})),U(ni.prototype,"indexOf",(function(r,n){var t,e,i,o,u;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=Ze(r),o=Xe(r),t=this._buffer,u=n;u<this._length;u++)if(i===t[e=2*u]&&o===t[e+1])return u;return-1})),U(ni.prototype,"join",(function(r){var n,t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)e=",";else{if(!le(r))throw new TypeError(F("invalid argument. First argument must be a string. Value: `%s`.",r));e=r}for(n=[],t=this._buffer,i=0;i<this._length;i++)n.push(ri(t,i).toString());return n.join(e)})),U(ni.prototype,"lastIndexOf",(function(r,n){var t,e,i,o,u;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(i=Ze(r),o=Xe(r),t=this._buffer,u=n;u>=0;u--)if(i===t[e=2*u]&&o===t[e+1])return u;return-1})),Ge(ni.prototype,"length",(function(){return this._length})),U(ni.prototype,"map",(function(r,n){var t,e,i,o,u;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(Ce(u=r.call(n,ri(e,o),o,this)))t[2*o]=Ze(u),t[2*o+1]=Xe(u);else{if(!oe(u)||2!==u.length)throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",u));t[2*o]=u[0],t[2*o+1]=u[1]}return i})),U(ni.prototype,"reduce",(function(r,n){var t,e,i,o;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));if(t=this._buffer,i=this._length,arguments.length>1)e=n,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");e=ri(t,0),o=1}for(;o<i;o++)e=r(e,ri(t,o),o,this);return e})),U(ni.prototype,"reverse",(function(){var r,n,t,e,i,o;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=this._length,r=this._buffer,e=J(t/2),i=0;i<e;i++)o=t-i-1,n=r[2*i],r[2*i]=r[2*o],r[2*o]=n,n=r[2*i+1],r[2*i+1]=r[2*o+1],r[2*o+1]=n;return this})),U(ni.prototype,"set",(function(r){var n,t,e,i,o,u,f,a,s;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,arguments.length>1){if(!ne(t=arguments[1]))throw new TypeError(F("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",t))}else t=0;if(Ce(r)){if(t>=this._length)throw new RangeError(F("invalid argument. Index argument is out-of-bounds. Value: `%u`.",t));return e[t*=2]=Ze(r),void(e[t+1]=Xe(r))}if(Ke(r)){if(t+(u=r._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r._buffer,s=e.byteOffset+t*De,n.buffer===e.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new vt(n.length),a=0;a<n.length;a++)i[a]=n[a];n=i}for(t*=2,s=0,a=0;a<u;a++)e[t]=n[s],e[t+1]=n[s+1],t+=2,s+=2}else{if(!fe(r))throw new TypeError(F("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",r));for(u=r.length,a=0;a<u;a++)if(!Ce(r[a])){o=!0;break}if(o){if(!Me(u))throw new RangeError(F("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",u));if(t+u/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r,s=e.byteOffset+t*De,n.buffer===e.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new vt(u),a=0;a<u;a++)i[a]=n[a];n=i}for(t*=2,u/=2,s=0,a=0;a<u;a++)e[t]=n[s],e[t+1]=n[s+1],t+=2,s+=2;return}if(t+u>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,a=0;a<u;a++)f=r[a],e[t]=Ze(f),e[t+1]=Xe(f),t+=2}})),U(ni.prototype,"slice",(function(r,n){var t,e,i,o,u,f,a;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(u=this._buffer,f=this._length,0===arguments.length)r=0,n=f;else{if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=f)<0&&(r=0),1===arguments.length)n=f;else{if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=f)<0&&(n=0):n>f&&(n=f)}}for(t=r<n?n-r:0,e=(i=new this.constructor(t))._buffer,a=0;a<t;a++)o=2*(a+r),e[2*a]=u[o],e[2*a+1]=u[o+1];return i})),U(ni.prototype,"some",(function(r,n){var t,e;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(r.call(n,ri(t,e),e,this))return!0;return!1})),U(ni.prototype,"subarray",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,i=this._length,0===arguments.length)r=0,n=i;else{if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=i)<0&&(r=0),1===arguments.length)n=i;else{if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=i)<0&&(n=0):n>i&&(n=i)}}return r>=i?(i=0,t=e.byteLength):r>=n?(i=0,t=e.byteOffset+r*De):(i=n-r,t=e.byteOffset+r*De),new this.constructor(e.buffer,t,i<0?0:i)})),U(ni.prototype,"toReversed",(function(){var r,n,t,e,i,o;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=this._length,n=new this.constructor(t),e=this._buffer,r=n._buffer,i=0;i<t;i++)o=t-i-1,r[2*i]=e[2*o],r[2*i+1]=e[2*o+1];return n})),U(ni.prototype,"toString",(function(){var r,n,t;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=this._buffer,t=0;t<this._length;t++)r.push(ri(n,t).toString());return r.join(",")})),U(ni.prototype,"with",(function(r,n){var t,e,i;if(!Ke(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(i=this._length,r<0&&(r+=i),r<0||r>=i)throw new RangeError(F("invalid argument. Index argument is out-of-bounds. Value: `%s`.",r));if(!Ce(n))throw new TypeError(F("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return(t=(e=new this.constructor(this._buffer))._buffer)[2*r]=Ze(n),t[2*r+1]=Xe(n),e}));var oi=2*ht.BYTES_PER_ELEMENT,ui=We();function fi(r){return r instanceof ci||"object"==typeof r&&null!==r&&("Complex64Array"===r.constructor.name||"Complex128Array"===r.constructor.name)&&"number"==typeof r._length&&"object"==typeof r._buffer}function ai(r){return r===ci||"Complex64Array"===r.name}function si(r,n){return new Ie(r[n*=2],r[n+1])}function ci(){var r,n,t,e;if(n=arguments.length,!(this instanceof ci))return 0===n?new ci:1===n?new ci(arguments[0]):2===n?new ci(arguments[0],arguments[1]):new ci(arguments[0],arguments[1],arguments[2]);if(0===n)t=new ht(0);else if(1===n)if(ne(arguments[0]))t=new ht(2*arguments[0]);else if(fe(arguments[0]))if((e=(t=arguments[0]).length)&&tt(t)&&Ce(t[0])){if(t=function(r,n){var t,e,i,o;for(t=n.length,o=0,i=0;i<t;i++){if(!Ce(e=n[i]))return null;r[o]=ti(e),r[o+1]=ei(e),o+=2}return r}(new ht(2*e),t),null===t){if(!Me(e))throw new RangeError(F("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",e));t=new ht(arguments[0])}}else{if(Ue(t))t=Je(t,0);else if(Ye(t))t=ze(t,0);else if(!Me(e))throw new RangeError(F("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",e));t=new ht(t)}else if(se(arguments[0])){if(!Dt((t=arguments[0]).byteLength/oi))throw new RangeError(F("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",oi,t.byteLength));t=new ht(t)}else{if(!ce(arguments[0]))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(t=arguments[0],!1===ui)throw new TypeError(F("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",t));if(!Se(t[$e]))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if(!Se((t=t[$e]()).next))throw new TypeError(F("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",t));if((t=ii(t))instanceof Error)throw t;t=new ht(t)}else{if(!se(t=arguments[0]))throw new TypeError(F("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",t));if(!ne(r=arguments[1]))throw new TypeError(F("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",r));if(!Dt(r/oi))throw new RangeError(F("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",oi,r));if(2===n){if(!Dt((e=t.byteLength-r)/oi))throw new RangeError(F("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",oi,e));t=new ht(t,r)}else{if(!ne(e=arguments[2]))throw new TypeError(F("invalid argument. Length must be a nonnegative integer. Value: `%s`.",e));if(e*oi>t.byteLength-r)throw new RangeError(F("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",e*oi));t=new ht(t,r,2*e)}}return U(this,"_buffer",t),U(this,"_length",t.length/2),this}U(ci,"BYTES_PER_ELEMENT",oi),U(ci,"name","Complex128Array"),U(ci,"from",(function(r){var n,t,e,i,o,u,f,a,s,c,l,h;if(!Se(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ai(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!Se(e=arguments[1]))throw new TypeError(F("invalid argument. Second argument must be a function. Value: `%s`.",e));t>2&&(n=arguments[2])}if(fi(r)){if(a=r.length,e){for(o=(i=new this(a))._buffer,h=0,l=0;l<a;l++){if(Ce(c=e.call(n,r.get(l),l)))o[h]=ti(c),o[h+1]=ei(c);else{if(!(oe(c)&&c.length>=2))throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[h]=c[0],o[h+1]=c[1]}h+=2}return i}return new this(r)}if(fe(r)){if(e){for(a=r.length,f=r.get&&r.set?Gn("default"):Nn("default"),l=0;l<a;l++)if(!Ce(f(r,l))){s=!0;break}if(s){if(!Me(a))throw new RangeError(F("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",a));for(o=(i=new this(a/2))._buffer,l=0;l<a;l++)o[l]=e.call(n,f(r,l),l);return i}for(o=(i=new this(a))._buffer,h=0,l=0;l<a;l++){if(Ce(c=e.call(n,f(r,l),l)))o[h]=ti(c),o[h+1]=ei(c);else{if(!(oe(c)&&c.length>=2))throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[h]=c[0],o[h+1]=c[1]}h+=2}return i}return new this(r)}if(ce(r)&&ui&&Se(r[$e])){if(!Se((o=r[$e]()).next))throw new TypeError(F("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r));if(u=e?function(r,n,t){var e,i,o,u;for(e=[],u=-1;!(i=r.next()).done;)if(u+=1,oe(o=n.call(t,i.value,u))&&o.length>=2)e.push(o[0],o[1]);else{if(!Ce(o))return new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));e.push(ti(o),ei(o))}return e}(o,e,n):ii(o),u instanceof Error)throw u;for(o=(i=new this(a=u.length/2))._buffer,l=0;l<a;l++)o[l]=u[l];return i}throw new TypeError(F("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",r))})),U(ci,"of",(function(){var r,n;if(!Se(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ai(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);return new this(r)})),U(ci.prototype,"at",(function(r){if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Dt(r))throw new TypeError(F("invalid argument. Must provide an integer. Value: `%s`.",r));if(r<0&&(r+=this._length),!(r<0||r>=this._length))return si(this._buffer,r)})),Ge(ci.prototype,"buffer",(function(){return this._buffer.buffer})),Ge(ci.prototype,"byteLength",(function(){return this._buffer.byteLength})),Ge(ci.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),U(ci.prototype,"BYTES_PER_ELEMENT",ci.BYTES_PER_ELEMENT),U(ci.prototype,"copyWithin",(function(r,n){if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*r,2*n):this._buffer.copyWithin(2*r,2*n,2*arguments[2]),this})),U(ci.prototype,"entries",(function(){var r,n,t,e,i,o,u;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,r=this._buffer,e=this._length,o=-1,u=-2,U(t={},"next",(function(){var n;return o+=1,i||o>=e?{done:!0}:(n=new Ie(r[u+=2],r[u+1]),{value:[o,n],done:!1})})),U(t,"return",(function(r){return i=!0,arguments.length?{value:r,done:!0}:{done:!0}})),$e&&U(t,$e,(function(){return n.entries()})),t})),U(ci.prototype,"every",(function(r,n){var t,e;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(!r.call(n,si(t,e),e,this))return!1;return!0})),U(ci.prototype,"fill",(function(r,n,t){var e,i,o,u,f,a;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(e=this._buffer,i=this._length,arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));if(n<0&&(n+=i)<0&&(n=0),arguments.length>2){if(!Dt(t))throw new TypeError(F("invalid argument. Third argument must be an integer. Value: `%s`.",t));t<0&&(t+=i)<0&&(t=0),t>i&&(t=i)}else t=i}else n=0,t=i;for(u=ti(r),f=ei(r),a=n;a<t;a++)e[o=2*a]=u,e[o+1]=f;return this})),U(ci.prototype,"filter",(function(r,n){var t,e,i,o;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=[],i=0;i<this._length;i++)o=si(t,i),r.call(n,o,i,this)&&e.push(o);return new this.constructor(e)})),U(ci.prototype,"find",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(i=si(t,e),r.call(n,i,e,this))return i})),U(ci.prototype,"findIndex",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(i=si(t,e),r.call(n,i,e,this))return e;return-1})),U(ci.prototype,"findLast",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=this._length-1;e>=0;e--)if(i=si(t,e),r.call(n,i,e,this))return i})),U(ci.prototype,"findLastIndex",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=this._length-1;e>=0;e--)if(i=si(t,e),r.call(n,i,e,this))return e;return-1})),U(ci.prototype,"forEach",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)i=si(t,e),r.call(n,i,e,this)})),U(ci.prototype,"get",(function(r){if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ne(r))throw new TypeError(F("invalid argument. Must provide a nonnegative integer. Value: `%s`.",r));if(!(r>=this._length))return si(this._buffer,r)})),Ge(ci.prototype,"length",(function(){return this._length})),U(ci.prototype,"includes",(function(r,n){var t,e,i,o,u;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=ti(r),o=ei(r),t=this._buffer,u=n;u<this._length;u++)if(i===t[e=2*u]&&o===t[e+1])return!0;return!1})),U(ci.prototype,"indexOf",(function(r,n){var t,e,i,o,u;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0&&(n+=this._length)<0&&(n=0)}else n=0;for(i=ti(r),o=ei(r),t=this._buffer,u=n;u<this._length;u++)if(i===t[e=2*u]&&o===t[e+1])return u;return-1})),U(ci.prototype,"join",(function(r){var n,t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)e=",";else{if(!me(r))throw new TypeError(F("invalid argument. First argument must be a string. Value: `%s`.",r));e=r}for(n=[],t=this._buffer,i=0;i<this._length;i++)n.push(si(t,i).toString());return n.join(e)})),U(ci.prototype,"lastIndexOf",(function(r,n){var t,e,i,o,u;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Ce(r))throw new TypeError(F("invalid argument. First argument must be a complex number. Value: `%s`.",r));if(arguments.length>1){if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n>=this._length?n=this._length-1:n<0&&(n+=this._length)}else n=this._length-1;for(i=ti(r),o=ei(r),t=this._buffer,u=n;u>=0;u--)if(i===t[e=2*u]&&o===t[e+1])return u;return-1})),U(ci.prototype,"map",(function(r,n){var t,e,i,o,u;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(e=this._buffer,t=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(Ce(u=r.call(n,si(e,o),o,this)))t[2*o]=ti(u),t[2*o+1]=ei(u);else{if(!oe(u)||2!==u.length)throw new TypeError(F("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",u));t[2*o]=u[0],t[2*o+1]=u[1]}return i})),U(ci.prototype,"reduce",(function(r,n){var t,e,i,o;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));if(t=this._buffer,i=this._length,arguments.length>1)e=n,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");e=si(t,0),o=1}for(;o<i;o++)e=r(e,si(t,o),o,this);return e})),U(ci.prototype,"reverse",(function(){var r,n,t,e,i,o;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=this._length,r=this._buffer,e=J(t/2),i=0;i<e;i++)o=t-i-1,n=r[2*i],r[2*i]=r[2*o],r[2*o]=n,n=r[2*i+1],r[2*i+1]=r[2*o+1],r[2*o+1]=n;return this})),U(ci.prototype,"set",(function(r){var n,t,e,i,o,u,f,a,s;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,arguments.length>1){if(!ne(t=arguments[1]))throw new TypeError(F("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",t))}else t=0;if(Ce(r)){if(t>=this._length)throw new RangeError(F("invalid argument. Index argument is out-of-bounds. Value: `%u`.",t));return e[t*=2]=ti(r),void(e[t+1]=ei(r))}if(fi(r)){if(t+(u=r._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r._buffer,s=e.byteOffset+t*oi,n.buffer===e.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new ht(n.length),a=0;a<n.length;a++)i[a]=n[a];n=i}for(t*=2,s=0,a=0;a<u;a++)e[t]=n[s],e[t+1]=n[s+1],t+=2,s+=2}else{if(!fe(r))throw new TypeError(F("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",r));for(u=r.length,a=0;a<u;a++)if(!Ce(r[a])){o=!0;break}if(o){if(!Me(u))throw new RangeError(F("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",u));if(t+u/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=r,s=e.byteOffset+t*oi,n.buffer===e.buffer&&n.byteOffset<s&&n.byteOffset+n.byteLength>s){for(i=new ht(u),a=0;a<u;a++)i[a]=n[a];n=i}for(t*=2,u/=2,s=0,a=0;a<u;a++)e[t]=n[s],e[t+1]=n[s+1],t+=2,s+=2;return}if(t+u>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,a=0;a<u;a++)f=r[a],e[t]=ti(f),e[t+1]=ei(f),t+=2}})),U(ci.prototype,"slice",(function(r,n){var t,e,i,o,u,f,a;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(u=this._buffer,f=this._length,0===arguments.length)r=0,n=f;else{if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=f)<0&&(r=0),1===arguments.length)n=f;else{if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=f)<0&&(n=0):n>f&&(n=f)}}for(t=r<n?n-r:0,e=(i=new this.constructor(t))._buffer,a=0;a<t;a++)o=2*(a+r),e[2*a]=u[o],e[2*a+1]=u[o+1];return i})),U(ci.prototype,"some",(function(r,n){var t,e;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Se(r))throw new TypeError(F("invalid argument. First argument must be a function. Value: `%s`.",r));for(t=this._buffer,e=0;e<this._length;e++)if(r.call(n,si(t,e),e,this))return!0;return!1})),U(ci.prototype,"subarray",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,i=this._length,0===arguments.length)r=0,n=i;else{if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(r<0&&(r+=i)<0&&(r=0),1===arguments.length)n=i;else{if(!Dt(n))throw new TypeError(F("invalid argument. Second argument must be an integer. Value: `%s`.",n));n<0?(n+=i)<0&&(n=0):n>i&&(n=i)}}return r>=i?(i=0,t=e.byteLength):r>=n?(i=0,t=e.byteOffset+r*oi):(i=n-r,t=e.byteOffset+r*oi),new this.constructor(e.buffer,t,i<0?0:i)})),U(ci.prototype,"toReversed",(function(){var r,n,t,e,i,o;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=this._length,n=new this.constructor(t),e=this._buffer,r=n._buffer,i=0;i<t;i++)o=t-i-1,r[2*i]=e[2*o],r[2*i+1]=e[2*o+1];return n})),U(ci.prototype,"toString",(function(){var r,n,t;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=[],n=this._buffer,t=0;t<this._length;t++)r.push(si(n,t).toString());return r.join(",")})),U(ci.prototype,"with",(function(r,n){var t,e,i;if(!fi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Dt(r))throw new TypeError(F("invalid argument. First argument must be an integer. Value: `%s`.",r));if(i=this._length,r<0&&(r+=i),r<0||r>=i)throw new RangeError(F("invalid argument. Index argument is out-of-bounds. Value: `%s`.",r));if(!Ce(n))throw new TypeError(F("invalid argument. Second argument must be a complex number. Value: `%s`.",n));return(t=(e=new this.constructor(this._buffer))._buffer)[2*r]=ti(n),t[2*r+1]=ei(n),e}));var li=[ht,vt,xt,bt,Lt,jt,Gt,Ct,Nt,ni,ci],hi=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],yi=hi.length;function pi(r){var n,t=function(r){var n;if(tt(r))return"generic";if(it(r))return null;for(n=0;n<yi;n++)if(r instanceof li[n])return hi[n];return at[ft(r)]||null}(r);return typeof(n=r).get===Pn&&typeof n.set===Pn?{data:r,dtype:t,accessorProtocol:!0,accessors:[Gn(t),Xn(t)]}:{data:r,dtype:t,accessorProtocol:!1,accessors:[Nn(t),Wn(t)]}}function mi(r,n,t,e,i){var o,u,f,a;for(o=t.data,u=t.accessors[1],f=i,a=0;a<r;a++)u(o,f,n),f+=e;return t}function vi(r,n,t,e){var i,o,u,f;if(r<=0)return t;if((f=pi(t)).accessorProtocol)return mi(r,n,f,e,i=e<0?(1-r)*e:0),f.data;if(1===e){if((u=r%8)>0)for(o=0;o<u;o++)t[o]=n;if(r<8)return t;for(o=u;o<r;o+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]=n,i+=e;return t}function gi(r,n,t,e,i,o){var u,f,a,s,c;for(u=n.data,a=n.accessors[0],f=n.accessors[1],s=e,c=0;c<r;c++)f(u,s,i.call(o,a(u,s),c,s,n)),s+=t;return n}function di(r,n,t,e,i){var o,u,f;if(r<=0)return n;if(o=t<0?(1-r)*t:0,(u=pi(n)).accessorProtocol)return gi(r,u,t,o,e,i),u.data;for(f=0;f<r;f++)n[o]=e.call(i,n[o],f,o,n),o+=t;return n}function wi(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)!1===sr(o=n[i])&&(u=e+o,Y(e)>=Y(o)?f+=e-u+o:f+=o-u+e,e=u),i+=t;return e+f}function bi(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];for(o=e,i=0,a=0,s=0;s<r;s++)!1===sr(u=n[o])&&(f=i+u,Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f),o+=t;return i+a}function Ei(r,n,t){return wi(r,n,t)}function _i(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)!1===sr(a=n[o])&&(s=e+a,c=Y(e)>=Y(a)?e-s+a:a-s+e,e=s,s=u+c,f=Y(u)>=Y(c)?u-s+c:c-s+u,u=s,i+=f),o+=t;return e+u+i}function Ti(r,n,t){var e,i,o;if(i=0,r<=0)return i;if(1===r||0===t)return sr(n[0])?i:n[0];for(e=t<0?(1-r)*t:0,o=0;o<r;o++)!1===sr(n[e])&&(i+=n[e]),e+=t;return i}U(vi,"ndarray",(function(r,n,t,e,i){var o,u,f,a;if(r<=0)return t;if((f=pi(t)).accessorProtocol)return mi(r,n,f,e,i),f.data;if(o=i,1===e){if((u=r%8)>0)for(a=0;a<u;a++)t[o]=n,o+=e;if(r<8)return t;for(a=u;a<r;a+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n,o+=8;return t}for(a=0;a<r;a++)t[o]=n,o+=e;return t})),U(di,"ndarray",(function(r,n,t,e,i,o){var u,f,a;if(r<=0)return n;if((f=pi(n)).accessorProtocol)return gi(r,f,t,e,i,o),f.data;for(u=e,a=0;a<r;a++)n[u]=i.call(o,n[u],a,u,n),u+=t;return n})),U(wi,"ndarray",bi),U(Ei,"ndarray",(function(r,n,t,e){return bi(r,n,t,e)})),U(_i,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)!1===sr(s=n[u])&&(c=i+s,l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a),u+=t;return i+f+o})),U(Ti,"ndarray",(function(r,n,t,e){var i,o,u;if(o=0,r<=0)return o;if(1===r||0===t)return sr(n[e])?o:n[e];for(i=e,u=0;u<r;u++)!1===sr(n[i])&&(o+=n[i]),i+=t;return o}));var xi=128;function Ai(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return sr(n[e])?0:n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)!1===sr(n[i])&&(p+=n[i]),i+=t;return p}if(r<=xi){for(o=sr(n[i])?0:n[i],u=sr(n[i+=t])?0:n[i],f=sr(n[i+=t])?0:n[i],a=sr(n[i+=t])?0:n[i],s=sr(n[i+=t])?0:n[i],c=sr(n[i+=t])?0:n[i],l=sr(n[i+=t])?0:n[i],h=sr(n[i+=t])?0:n[i],i+=t,y=r%8,v=8;v<r-y;v+=8)o+=sr(n[i])?0:n[i],u+=sr(n[i+=t])?0:n[i],f+=sr(n[i+=t])?0:n[i],a+=sr(n[i+=t])?0:n[i],s+=sr(n[i+=t])?0:n[i],c+=sr(n[i+=t])?0:n[i],l+=sr(n[i+=t])?0:n[i],h+=sr(n[i+=t])?0:n[i],i+=t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)!1===sr(n[i])&&(p+=n[i]),i+=t;return p}return m=J(r/2),Ai(m-=m%8,n,t,i)+Ai(r-m,n,t,i+m*t)}function Vi(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return sr(n[0])?0:n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)!1===sr(n[e])&&(i+=n[e]),e+=t;return i}return Ai(r,n,t,e)}function ki(r,n,t,e){var i,o,u,f,a,s,c,l;for(i=n.data,u=n.accessors[0],o=n.accessors[1],c=J(r/2),s=(a=e)+(r-1)*t,l=0;l<c;l++)f=u(i,a),o(i,a,u(i,s)),o(i,s,f),a+=t,s-=t;return n}function ji(r,n,t){var e,i,o,u,f,a,s;if(r<=0)return n;if((u=pi(n)).accessorProtocol)return ki(r,u,t,i=t<0?(1-r)*t:0),u.data;if(a=J(r/2),1===t){if(o=r-1,(f=a%3)>0)for(i=0;i<f;i++)e=n[i],n[i]=n[o],n[o]=e,o-=1;if(a<3)return n;for(i=f;i<a;i+=3)e=n[i],n[i]=n[o],n[o]=e,e=n[i+1],n[i+1]=n[o-1],n[o-1]=e,e=n[i+2],n[i+2]=n[o-2],n[o-2]=e,o-=3;return n}for(o=(i=t<0?(1-r)*t:0)+(r-1)*t,s=0;s<a;s++)e=n[i],n[i]=n[o],n[o]=e,i+=t,o-=t;return n}function Fi(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,v=r,a=J(r/2);;){if(a>0)h=t[u+(a-=1)*e],y=i[f+a*o];else{if(0==(v-=1))return t;h=t[p=u+v*e],y=i[m=f+v*o],t[p]=t[u],i[m]=i[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[u+d*e])>(l=t[u+s*e])||sr(c)||c===l&&Wr(c))&&(s+=1),(c=t[u+s*e])>h||sr(c)||c===h&&Wr(c));)t[u+g*e]=c,i[f+g*o]=i[f+s*o],s=2*(g=s)+1;t[u+g*e]=h,i[f+g*o]=y}}function Si(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;if(n<0&&(e*=-1,o*=-1),o<0?(y=(1-r)*o,p=0):(y=0,p=(r-1)*o),l=y+o,e<0){for(c=0,f=(s=(1-r)*e)+e,d=1;d<r;d++)if(m=t[f],v=i[l],sr(m)){for(a=f,h=l;a>c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Xr(m),a=f-e,h=l-o;a<=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Xr(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}for(c=(r-1)*e,f=(s=0)+e,d=1;d<r;d++)if(m=t[f],v=i[l],sr(m)){for(a=f,h=l;a<c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Xr(m),a=f-e,h=l-o;a>=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Xr(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}U(Vi,"ndarray",Ai),U(ji,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c;if(r<=0)return n;if((f=pi(n)).accessorProtocol)return ki(r,f,t,e),f.data;if(s=J(r/2),o=e,1===t){if(u=o+r-1,(a=s%3)>0)for(c=0;c<a;c++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;if(s<3)return n;for(c=a;c<s;c+=3)i=n[o],n[o]=n[u],n[u]=i,i=n[o+1],n[o+1]=n[u-1],n[u-1]=i,i=n[o+2],n[o+2]=n[u-2],n[u-2]=i,o+=3,u-=3;return n}for(u=o+(r-1)*t,c=0;c<s;c++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;return n})),U(Fi,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),v=r,a=J(r/2);;){if(a>0)h=t[i+(a-=1)*e],y=o[f+a*u];else{if(0==(v-=1))return t;h=t[p=i+v*e],y=o[m=f+v*u],t[p]=t[i],o[m]=o[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[i+d*e])>(l=t[i+s*e])||sr(c)||c===l&&Wr(c))&&(s+=1),(c=t[i+s*e])>h||sr(c)||c===h&&Wr(c));)t[i+g*e]=c,o[f+g*u]=o[f+s*u],s=2*(g=s)+1;t[i+g*e]=h,o[f+g*u]=y}})),U(Si,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d,w,b;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),h=(l=i)+(r-1)*e,s=l+e,v=(m=f)+(r-1)*u,y=m+u,e<0){for(b=1;b<r;b++)if(g=t[s],d=o[y],sr(g)){for(c=s,p=y;c>h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Xr(g),c=s-e,p=y-u;c<=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Xr(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}for(b=1;b<r;b++)if(g=t[s],d=o[y],sr(g)){for(c=s,p=y;c<h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Xr(g),c=s-e,p=y-u;c>=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Xr(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}));var Ii=[701,301,132,57,23,10,4,1],Li=Ii.length;function Ri(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,y=0;y<Li;y++)for(p=s=Ii[y];p<r;p++)if(!sr(c=t[u+p*e])){for(l=i[f+p*o],a=Xr(c),m=p;m>=s&&(!((h=t[u+(m-s)*e])<=c)||a&&h===c);m-=s)t[u+m*e]=h,i[f+m*o]=i[f+(m-s)*o];t[u+m*e]=c,i[f+m*o]=l}return t}var Bi=Ii.length;function Oi(r,n,t,e){var i,o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||sr(f)||f===a&&Wr(f))&&(u+=1),(f=t[i+u*e])>c||sr(f)||f===c&&Wr(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}}function Ci(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;if(n<0&&(e*=-1),e<0){for(a=0,o=(f=(1-r)*e)+e,l=1;l<r;l++)if(sr(s=t[o])){for(u=o;u>a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Xr(s),u=o-e;u<=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Xr(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}for(a=(r-1)*e,o=(f=0)+e,l=1;l<r;l++)if(sr(s=t[o])){for(u=o;u<a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Xr(s),u=o-e;u>=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Xr(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}U(Ri,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),y=0;y<Bi;y++)for(p=s=Ii[y];p<r;p++)if(!sr(c=t[i+p*e])){for(l=o[f+p*u],a=Xr(c),m=p;m>=s&&(!((h=t[i+(m-s)*e])<=c)||a&&h===c);m-=s)t[i+m*e]=h,o[f+m*u]=o[f+(m-s)*u];t[i+m*e]=c,o[f+m*u]=l}return t})),U(Oi,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||sr(f)||f===a&&Wr(f))&&(u+=1),(f=t[i+u*e])>c||sr(f)||f===c&&Wr(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}})),U(Ci,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1)),s=(a=i)+(r-1)*e,u=a+e,e<0){for(h=1;h<r;h++)if(sr(c=t[u])){for(f=u;f>s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Xr(c),f=u-e;f<=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Xr(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}for(h=1;h<r;h++)if(sr(c=t[u])){for(f=u;f<s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Xr(c),f=u-e;f>=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Xr(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}));var Mi=[701,301,132,57,23,10,4,1],Pi=Mi.length;function Ui(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=0;s<Pi;s++)for(c=u=Mi[s];c<r;c++)if(!sr(f=t[i+c*e])){for(o=Xr(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t}var Ni=Mi.length;function Yi(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)u=e+(o=n[i]),Y(e)>=Y(o)?f+=e-u+o:f+=o-u+e,e=u,i+=t;return e+f}function Wi(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return n[e];for(o=e,i=0,a=0,s=0;s<r;s++)f=i+(u=n[o]),Y(i)>=Y(u)?a+=i-f+u:a+=u-f+i,i=f,o+=t;return i+a}function $i(r,n,t){return Yi(r,n,t)}function Gi(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)s=e+(a=n[o]),c=Y(e)>=Y(a)?e-s+a:a-s+e,e=s,s=u+c,f=Y(u)>=Y(c)?u-s+c:c-s+u,u=s,i+=f,o+=t;return e+u+i}function Zi(r,n,t){var e,i,o,u;if(o=0,r<=0)return o;if(1===r||0===t)return n[0];if(1===t){if((i=r%6)>0)for(u=0;u<i;u++)o+=n[u];if(r<6)return o;for(u=i;u<r;u+=6)o+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return o}for(e=t<0?(1-r)*t:0,u=0;u<r;u++)o+=n[e],e+=t;return o}U(Ui,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=0;s<Ni;s++)for(c=u=Mi[s];c<r;c++)if(!sr(f=t[i+c*e])){for(o=Xr(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t})),U(Yi,"ndarray",Wi),U($i,"ndarray",(function(r,n,t,e){return Wi(r,n,t,e)})),U(Gi,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)c=i+(s=n[u]),l=Y(i)>=Y(s)?i-c+s:s-c+i,i=c,c=f+l,a=Y(f)>=Y(l)?f-c+l:l-c+f,f=c,o+=a,u+=t;return i+f+o})),U(Zi,"ndarray",(function(r,n,t,e){var i,o,u,f;if(u=0,r<=0)return u;if(1===r||0===t)return n[e];if(i=e,1===t){if((o=r%6)>0)for(f=0;f<o;f++)u+=n[i],i+=t;if(r<6)return u;for(f=o;f<r;f+=6)u+=n[i]+n[i+1]+n[i+2]+n[i+3]+n[i+4]+n[i+5],i+=6;return u}for(f=0;f<r;f++)u+=n[i],i+=t;return u}));var Xi=128;function Ji(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=n[i],i+=t;return p}if(r<=Xi){for(o=n[i],u=n[i+t],f=n[i+2*t],a=n[i+3*t],s=n[i+4*t],c=n[i+5*t],l=n[i+6*t],h=n[i+7*t],i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=n[i],u+=n[i+t],f+=n[i+2*t],a+=n[i+3*t],s+=n[i+4*t],c+=n[i+5*t],l+=n[i+6*t],h+=n[i+7*t],i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=n[i],i+=t;return p}return m=J(r/2),Ji(m-=m%8,n,t,i)+Ji(r-m,n,t,i+m*t)}function zi(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=n[e],e+=t;return i}return Ji(r,n,t,e)}function qi(r,n,t,e){var i,o,u;if(r<=0||0===n)return t;if(1===e){if((u=r%5)>0)for(o=0;o<u;o++)t[o]+=n;if(r<5)return t;for(o=u;o<r;o+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]+=n,i+=e;return t}function Di(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);for(o=e<0?(1-r)*e:0,i=0,a=0,s=0;s<r;s++)u=Be(n+t[o]),f=Be(i+u),a=Y(i)>=Y(u)?Be(a+Be(Be(i-f)+u)):Be(a+Be(Be(u-f)+i)),i=f,o+=e;return Be(i+a)}function Hi(r,n,t,e,i){var o,u,f,a,s,c;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[i]);for(u=i,o=0,s=0,c=0;c<r;c++)f=Be(n+t[u]),a=Be(o+f),s=Y(o)>=Y(f)?Be(s+Be(Be(o-a)+f)):Be(s+Be(Be(f-a)+o)),o=a,u+=e;return Be(o+s)}function Ki(r,n,t,e){return Di(r,n,t,e)}function Qi(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);for(u=e<0?(1-r)*e:0,i=0,o=0,f=0,h=0;h<r;h++)s=Be(n+t[u]),c=Be(i+s),l=Y(i)>=Y(s)?Be(Be(i-c)+s):Be(Be(s-c)+i),i=c,c=Be(f+l),a=Y(f)>=Y(l)?Be(Be(f-c)+l):Be(Be(l-c)+f),f=c,o=Be(o+a),u+=e;return Be(i+Be(f+o))}function ro(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);for(o=e<0?(1-r)*e:0,i=0,u=0;u<r;u++)i=Be(i+Be(n+t[o])),o+=e;return i}U(zi,"ndarray",Ji),U(qi,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0||0===n)return t;if(o=i,1===e){if((u=r%5)>0)for(f=0;f<u;f++)t[o]+=n,o+=e;if(r<5)return t;for(f=u;f<r;f+=5)t[o]+=n,t[o+1]+=n,t[o+2]+=n,t[o+3]+=n,t[o+4]+=n,o+=5;return t}for(f=0;f<r;f++)t[o]+=n,o+=e;return t})),U(Di,"ndarray",Hi),U(Ki,"ndarray",(function(r,n,t,e,i){return Hi(r,n,t,e,i)})),U(Qi,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[i]);for(f=i,o=0,u=0,a=0,y=0;y<r;y++)c=Be(n+t[f]),l=Be(o+c),h=Y(o)>=Y(c)?Be(Be(o-l)+c):Be(Be(c-l)+o),o=l,l=Be(a+h),s=Y(a)>=Y(h)?Be(Be(a-l)+h):Be(Be(h-l)+a),a=l,u=Be(u+s),f+=e;return Be(o+Be(a+u))})),U(ro,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);for(u=i,o=0,f=0;f<r;f++)o=Be(o+Be(n+t[u])),u+=e;return o}));var no=128;function to(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m,v,g;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[i]);if(o=i,r<8){for(m=0,g=0;g<r;g++)m=Be(m+Be(n+t[o])),o+=e;return m}if(r<=no){for(u=Be(n+t[o]),f=Be(n+t[o+e]),a=Be(n+t[o+2*e]),s=Be(n+t[o+3*e]),c=Be(n+t[o+4*e]),l=Be(n+t[o+5*e]),h=Be(n+t[o+6*e]),y=Be(n+t[o+7*e]),o+=8*e,p=r%8,g=8;g<r-p;g+=8)u=Be(u+Be(n+t[o])),f=Be(f+Be(n+t[o+e])),a=Be(a+Be(n+t[o+2*e])),s=Be(s+Be(n+t[o+3*e])),c=Be(c+Be(n+t[o+4*e])),l=Be(l+Be(n+t[o+5*e])),h=Be(h+Be(n+t[o+6*e])),y=Be(y+Be(n+t[o+7*e])),o+=8*e;for(m=Be(Be(Be(u+f)+Be(a+s))+Be(Be(c+l)+Be(h+y)));g<r;g++)m=Be(m+Be(n+t[o])),o+=e;return m}return v=J(r/2),Be(to(v-=v%8,n,t,e,o)+to(r-v,n,t,e,o+v*e))}function eo(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);if(i=e<0?(1-r)*e:0,r<8){for(o=0,u=0;u<r;u++)o=Be(o+Be(n+t[i])),i+=e;return o}return to(r,n,t,e,i)}U(eo,"ndarray",to);var io=128;function oo(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Y(n[e]);if(i=e,r<8){for(p=0,v=0;v<r;v++)p=Be(p+Y(n[i])),i+=t;return p}if(r<=io){for(o=Y(n[i]),u=Y(n[i+t]),f=Y(n[i+2*t]),a=Y(n[i+3*t]),s=Y(n[i+4*t]),c=Y(n[i+5*t]),l=Y(n[i+6*t]),h=Y(n[i+7*t]),i+=8*t,y=r%8,v=8;v<r-y;v+=8)o=Be(o+Y(n[i])),u=Be(u+Y(n[i+t])),f=Be(f+Y(n[i+2*t])),a=Be(a+Y(n[i+3*t])),s=Be(s+Y(n[i+4*t])),c=Be(c+Y(n[i+5*t])),l=Be(l+Y(n[i+6*t])),h=Be(h+Y(n[i+7*t])),i+=8*t;for(p=Be(Be(Be(o+u)+Be(f+a))+Be(Be(s+c)+Be(l+h)));v<r;v++)p=Be(p+Y(n[i])),i+=t;return p}return m=J(r/2),Be(oo(m-=m%8,n,t,i)+oo(r-m,n,t,i+m*t))}function uo(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Y(n[0]);if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i=Be(i+Y(n[e])),e+=t;return i}return oo(r,n,t,e)}function fo(r,n,t,e,i,o){var u,f,a,s,c,l,h;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=n,l=0,h=0;h<r;h++)s=t[u],c=Be(a+s),l=Y(a)>=Y(s)?Be(l+Be(Be(a-c)+s)):Be(l+Be(Be(s-c)+a)),a=c,i[f]=Be(a+l),u+=e,f+=o;return i}function ao(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p;if(r<=0)return o;for(a=i,s=f,c=n,y=0,p=0;p<r;p++)l=t[a],h=Be(c+l),y=Y(c)>=Y(l)?Be(y+Be(Be(c-h)+l)):Be(y+Be(Be(l-h)+c)),c=h,o[s]=Be(c+y),a+=e,s+=u;return o}function so(r,n,t,e,i,o){return fo(r,n,t,e,i,o)}function co(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p;if(r<=0)return i;for(f=e<0?(1-r)*e:0,a=o<0?(1-r)*o:0,u=0,s=0,p=0;p<r;p++)l=t[f],h=Be(n+l),y=Y(n)>=Y(l)?Be(Be(n-h)+l):Be(Be(l-h)+n),n=h,h=Be(s+y),c=Y(s)>=Y(y)?Be(Be(s-h)+y):Be(Be(y-h)+s),s=h,u=Be(u+c),i[a]=Be(n+Be(s+u)),f+=e,a+=o;return i}function lo(r,n,t,e,i,o){var u,f,a;if(r<=0)return i;for(u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,a=0;a<r;a++)n=Be(n+t[u]),i[f]=n,u+=e,f+=o;return i}U(uo,"ndarray",oo),U(fo,"ndarray",ao),U(so,"ndarray",(function(r,n,t,e,i,o,u,f){return ao(r,n,t,e,i,o,u,f)})),U(co,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v;if(r<=0)return o;for(s=i,c=f,a=0,l=0,v=0;v<r;v++)y=t[s],p=Be(n+y),m=Y(n)>=Y(y)?Be(Be(n-p)+y):Be(Be(y-p)+n),n=p,p=Be(l+m),h=Y(l)>=Y(m)?Be(Be(l-p)+m):Be(Be(m-p)+l),l=p,a=Be(a+h),o[c]=Be(n+Be(l+a)),s+=e,c+=u;return o})),U(lo,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c;if(r<=0)return o;for(a=i,s=f,c=0;c<r;c++)n=Be(n+t[a]),o[s]=n,a+=e,s+=u;return o}));var ho=128;function yo(r,n,t,e,i,o,u,f){var a,s,c,l,h;if(r<=0)return o;if(a=i,s=f,r<=ho){for(c=0,h=0;h<r;h++)c=Be(c+t[a]),o[s]=Be(n+c),a+=e,s+=u;return o}return yo(l=J(r/2),n,t,e,a,o,u,s),yo(r-l,o[s+=(l-1)*u],t,e,a+l*e,o,u,s+u),o}function po(r,n,t,e,i,o){return r<=0?i:yo(r,n,t,e,e<0?(1-r)*e:0,i,o,o<0?(1-r)*o:0)}U(po,"ndarray",yo);var mo=128;function vo(r,n,t,e,i){var o,u,f,a,s,c,l,h,y,p,m,v,g;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[i]);if(o=i,r<8){for(m=0,g=0;g<r;g++)m+=n+t[o],o+=e;return Be(m)}if(r<=mo){for(u=n+t[o],f=n+t[o+e],a=n+t[o+2*e],s=n+t[o+3*e],c=n+t[o+4*e],l=n+t[o+5*e],h=n+t[o+6*e],y=n+t[o+7*e],o+=8*e,p=r%8,g=8;g<r-p;g+=8)u+=n+t[o],f+=n+t[o+e],a+=n+t[o+2*e],s+=n+t[o+3*e],c+=n+t[o+4*e],l+=n+t[o+5*e],h+=n+t[o+6*e],y+=n+t[o+7*e],o+=8*e;for(m=u+f+(a+s)+(c+l+(h+y));g<r;g++)m+=n+t[o],o+=e;return Be(m)}return v=J(r/2),Be(vo(v-=v%8,n,t,e,o)+vo(r-v,n,t,e,o+v*e))}function go(r,n,t,e){var i,o,u;if(r<=0)return 0;if(1===r||0===e)return Be(n+t[0]);if(i=e<0?(1-r)*e:0,r<8){for(o=0,u=0;u<r;u++)o+=n+t[i],i+=e;return Be(o)}return vo(r,n,t,e,i)}function wo(r,n,t,e){return go(r,n,t,e)}U(go,"ndarray",vo),U(wo,"ndarray",(function(r,n,t,e,i){return vo(r,n,t,e,i)}));var bo=128;function Eo(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Or(n[e])?0:n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)!1===Or(n[i])&&(p+=n[i]),i+=t;return Be(p)}if(r<=bo){for(o=Or(n[i])?0:n[i],u=Or(n[i+=t])?0:n[i],f=Or(n[i+=t])?0:n[i],a=Or(n[i+=t])?0:n[i],s=Or(n[i+=t])?0:n[i],c=Or(n[i+=t])?0:n[i],l=Or(n[i+=t])?0:n[i],h=Or(n[i+=t])?0:n[i],i+=t,y=r%8,v=8;v<r-y;v+=8)o+=Or(n[i])?0:n[i],u+=Or(n[i+=t])?0:n[i],f+=Or(n[i+=t])?0:n[i],a+=Or(n[i+=t])?0:n[i],s+=Or(n[i+=t])?0:n[i],c+=Or(n[i+=t])?0:n[i],l+=Or(n[i+=t])?0:n[i],h+=Or(n[i+=t])?0:n[i],i+=t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)!1===Or(n[i])&&(p+=n[i]),i+=t;return Be(p)}return m=J(r/2),Be(Eo(m-=m%8,n,t,i)+Eo(r-m,n,t,i+m*t))}function _o(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Or(n[0])?0:n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)!1===Or(n[e])&&(i+=n[e]),e+=t;return Be(i)}return Eo(r,n,t,e)}function To(r,n,t){return _o(r,n,t)}U(_o,"ndarray",Eo),U(To,"ndarray",(function(r,n,t,e){return Eo(r,n,t,e)}));var xo=128;function Ao(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)p+=n[i],i+=t;return Be(p)}if(r<=xo){for(o=n[i],u=n[i+t],f=n[i+2*t],a=n[i+3*t],s=n[i+4*t],c=n[i+5*t],l=n[i+6*t],h=n[i+7*t],i+=8*t,y=r%8,v=8;v<r-y;v+=8)o+=n[i],u+=n[i+t],f+=n[i+2*t],a+=n[i+3*t],s+=n[i+4*t],c+=n[i+5*t],l+=n[i+6*t],h+=n[i+7*t],i+=8*t;for(p=o+u+(f+a)+(s+c+(l+h));v<r;v++)p+=n[i],i+=t;return Be(p)}return m=J(r/2),Be(Ao(m-=m%8,n,t,i)+Ao(r-m,n,t,i+m*t))}function Vo(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i+=n[e],e+=t;return Be(i)}return Ao(r,n,t,e)}function ko(r,n,t){return Vo(r,n,t)}function jo(r,n,t,e){var i,o,u;if(r<=0)return t;if(1===e){if((u=r%8)>0)for(o=0;o<u;o++)t[o]=n;if(r<8)return t;for(o=u;o<r;o+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n;return t}for(i=e<0?(1-r)*e:0,o=0;o<r;o++)t[i]=n,i+=e;return t}function Fo(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return Or(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)!1===Or(o=n[i])&&(u=e+o,f=Y(e)>=Y(o)?Be(f+Be(Be(e-u)+o)):Be(f+Be(Be(o-u)+e)),e=u),i+=t;return Be(e+f)}function So(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return Or(n[e])?0:n[e];for(o=e,i=0,a=0,s=0;s<r;s++)!1===Or(u=n[o])&&(f=i+u,a=Y(i)>=Y(u)?Be(a+Be(Be(i-f)+u)):Be(a+Be(Be(u-f)+i)),i=f),o+=t;return Be(i+a)}function Io(r,n,t){return Fo(r,n,t)}function Lo(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return Or(n[0])?0:n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)!1===Or(a=n[o])&&(s=Be(e+a),c=Y(e)>=Y(a)?Be(Be(e-s)+a):Be(Be(a-s)+e),e=s,s=Be(u+c),f=Y(u)>=Y(c)?Be(Be(u-s)+c):Be(Be(c-s)+u),u=s,i=Be(i+f)),o+=t;return Be(e+Be(u+i))}function Ro(r,n,t){var e,i,o;if(e=0,r<=0)return e;if(1===r||0===t)return Or(n[0])?e:n[0];for(i=t<0?(1-r)*t:0,o=0;o<r;o++)!1===Or(n[i])&&(e=Be(e+n[i])),i+=t;return e}U(Vo,"ndarray",Ao),U(ko,"ndarray",(function(r,n,t,e){return Ao(r,n,t,e)})),U(jo,"ndarray",(function(r,n,t,e,i){var o,u,f;if(r<=0)return t;if(o=i,1===e){if((u=r%8)>0)for(f=0;f<u;f++)t[o]=n,o+=e;if(r<8)return t;for(f=u;f<r;f+=8)t[o]=n,t[o+1]=n,t[o+2]=n,t[o+3]=n,t[o+4]=n,t[o+5]=n,t[o+6]=n,t[o+7]=n,o+=8;return t}for(f=0;f<r;f++)t[o]=n,o+=e;return t})),U(Fo,"ndarray",So),U(Io,"ndarray",(function(r,n,t,e){return So(r,n,t,e)})),U(Lo,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return Or(n[e])?0:n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)!1===Or(s=n[u])&&(c=Be(i+s),l=Y(i)>=Y(s)?Be(Be(i-c)+s):Be(Be(s-c)+i),i=c,c=Be(f+l),a=Y(f)>=Y(l)?Be(Be(f-c)+l):Be(Be(l-c)+f),f=c,o=Be(o+a)),u+=t;return Be(i+Be(f+o))})),U(Ro,"ndarray",(function(r,n,t,e){var i,o,u;if(i=0,r<=0)return i;if(1===r||0===t)return Or(n[e])?i:n[e];for(o=e,u=0;u<r;u++)!1===Or(n[o])&&(i=Be(i+n[o])),o+=t;return i}));var Bo=128;function Oo(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return Or(n[e])?0:n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)!1===Or(n[i])&&(p=Be(p+n[i])),i+=t;return p}if(r<=Bo){for(o=Or(n[i])?0:n[i],u=Or(n[i+=t])?0:n[i],f=Or(n[i+=t])?0:n[i],a=Or(n[i+=t])?0:n[i],s=Or(n[i+=t])?0:n[i],c=Or(n[i+=t])?0:n[i],l=Or(n[i+=t])?0:n[i],h=Or(n[i+=t])?0:n[i],i+=t,y=r%8,v=8;v<r-y;v+=8)o=Or(n[i])?o:Be(o+n[i]),u=Or(n[i+=t])?u:Be(u+n[i]),f=Or(n[i+=t])?f:Be(f+n[i]),a=Or(n[i+=t])?a:Be(a+n[i]),s=Or(n[i+=t])?s:Be(s+n[i]),c=Or(n[i+=t])?c:Be(c+n[i]),l=Or(n[i+=t])?l:Be(l+n[i]),h=Or(n[i+=t])?h:Be(h+n[i]),i+=t;for(p=Be(Be(Be(o+u)+Be(f+a))+Be(Be(s+c)+Be(l+h)));v<r;v++)!1===Or(n[i])&&(p=Be(p+n[i])),i+=t;return p}return m=J(r/2),Be(Oo(m-=m%8,n,t,i)+Oo(r-m,n,t,i+m*t))}function Co(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return Or(n[0])?0:n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)!1===Or(n[e])&&(i=Be(i+n[e])),e+=t;return i}return Oo(r,n,t,e)}function Mo(r,n,t){var e,i,o,u,f,a;if(r<=0)return n;if(f=J(r/2),1===t){if(o=r-1,(u=f%3)>0)for(i=0;i<u;i++)e=n[i],n[i]=n[o],n[o]=e,o-=1;if(f<3)return n;for(i=u;i<f;i+=3)e=n[i],n[i]=n[o],n[o]=e,e=n[i+1],n[i+1]=n[o-1],n[o-1]=e,e=n[i+2],n[i+2]=n[o-2],n[o-2]=e,o-=3;return n}for(o=(i=t<0?(1-r)*t:0)+(r-1)*t,a=0;a<f;a++)e=n[i],n[i]=n[o],n[o]=e,i+=t,o-=t;return n}U(Co,"ndarray",Oo),U(Mo,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return n;if(a=J(r/2),o=e,1===t){if(u=o+r-1,(f=a%3)>0)for(s=0;s<f;s++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;if(a<3)return n;for(s=f;s<a;s+=3)i=n[o],n[o]=n[u],n[u]=i,i=n[o+1],n[o+1]=n[u-1],n[u-1]=i,i=n[o+2],n[o+2]=n[u-2],n[u-2]=i,o+=3,u-=3;return n}for(u=o+(r-1)*t,s=0;s<a;s++)i=n[o],n[o]=n[u],n[u]=i,o+=t,u-=t;return n}));var Po=new vt(1);new bt(Po.buffer)[0]=2139095040;var Uo=Po[0];function No(r){return 0===r&&1/r===Uo}function Yo(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,v=r,a=J(r/2);;){if(a>0)h=t[u+(a-=1)*e],y=i[f+a*o];else{if(0==(v-=1))return t;h=t[p=u+v*e],y=i[m=f+v*o],t[p]=t[u],i[m]=i[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[u+d*e])>(l=t[u+s*e])||Or(c)||c===l&&No(c))&&(s+=1),(c=t[u+s*e])>h||Or(c)||c===h&&No(c));)t[u+g*e]=c,i[f+g*o]=i[f+s*o],s=2*(g=s)+1;t[u+g*e]=h,i[f+g*o]=y}}U(Yo,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),v=r,a=J(r/2);;){if(a>0)h=t[i+(a-=1)*e],y=o[f+a*u];else{if(0==(v-=1))return t;h=t[p=i+v*e],y=o[m=f+v*u],t[p]=t[i],o[m]=o[f]}for(s=2*(g=a)+1;s<v&&((d=s+1)<v&&((c=t[i+d*e])>(l=t[i+s*e])||Or(c)||c===l&&No(c))&&(s+=1),(c=t[i+s*e])>h||Or(c)||c===h&&No(c));)t[i+g*e]=c,o[f+g*u]=o[f+s*u],s=2*(g=s)+1;t[i+g*e]=h,o[f+g*u]=y}}));var Wo=new vt(1);new bt(Wo.buffer)[0]=4286578688;var $o=Wo[0];function Go(r){return 0===r&&1/r===$o}function Zo(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m,v,g,d;if(r<=0||0===n)return t;if(n<0&&(e*=-1,o*=-1),o<0?(y=(1-r)*o,p=0):(y=0,p=(r-1)*o),l=y+o,e<0){for(c=0,f=(s=(1-r)*e)+e,d=1;d<r;d++)if(m=t[f],v=i[l],Or(m)){for(a=f,h=l;a>c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Go(m),a=f-e,h=l-o;a<=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Go(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}for(c=(r-1)*e,f=(s=0)+e,d=1;d<r;d++)if(m=t[f],v=i[l],Or(m)){for(a=f,h=l;a<c;)t[a]=t[a+e],i[h]=i[h+o],a+=e,h+=o;t[c]=m,i[p]=v}else{for(u=Go(m),a=f-e,h=l-o;a>=s&&(!((g=t[a])<=m)||u&&g===m&&!1===Go(g));)t[a+e]=g,i[h+o]=i[h],a-=e,h-=o;t[a+e]=m,i[h+o]=v,f+=e,l+=o}return t}U(Zo,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m,v,g,d,w,b;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),h=(l=i)+(r-1)*e,s=l+e,v=(m=f)+(r-1)*u,y=m+u,e<0){for(b=1;b<r;b++)if(g=t[s],d=o[y],Or(g)){for(c=s,p=y;c>h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Go(g),c=s-e,p=y-u;c<=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Go(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}for(b=1;b<r;b++)if(g=t[s],d=o[y],Or(g)){for(c=s,p=y;c<h;)t[c]=t[c+e],o[p]=o[p+u],c+=e,p+=u;t[h]=g,o[v]=d}else{for(a=Go(g),c=s-e,p=y-u;c>=l&&(!((w=t[c])<=g)||a&&w===g&&!1===Go(w));)t[c+e]=w,o[p+u]=o[p],c-=e,p-=u;t[c+e]=g,o[p+u]=d,s+=e,y+=u}return t}));var Xo=[701,301,132,57,23,10,4,1],Jo=Xo.length;function zo(r,n,t,e,i,o){var u,f,a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(e*=-1,o*=-1),u=e<0?(1-r)*e:0,f=o<0?(1-r)*o:0,y=0;y<Jo;y++)for(p=s=Xo[y];p<r;p++)if(!Or(c=t[u+p*e])){for(l=i[f+p*o],a=Go(c),m=p;m>=s&&(!((h=t[u+(m-s)*e])<=c)||a&&h===c);m-=s)t[u+m*e]=h,i[f+m*o]=i[f+(m-s)*o];t[u+m*e]=c,i[f+m*o]=l}return t}var qo=Xo.length;function Do(r,n,t,e){var i,o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||Or(f)||f===a&&No(f))&&(u+=1),(f=t[i+u*e])>c||Or(f)||f===c&&No(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}}function Ho(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;if(n<0&&(e*=-1),e<0){for(a=0,o=(f=(1-r)*e)+e,l=1;l<r;l++)if(Or(s=t[o])){for(u=o;u>a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Go(s),u=o-e;u<=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Go(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}for(a=(r-1)*e,o=(f=0)+e,l=1;l<r;l++)if(Or(s=t[o])){for(u=o;u<a;)t[u]=t[u+e],u+=e;t[a]=s}else{for(i=Go(s),u=o-e;u>=f&&(!((c=t[u])<=s)||i&&c===s&&!1===Go(c));)t[u+e]=c,u-=e;t[u+e]=s,o+=e}return t}U(zo,"ndarray",(function(r,n,t,e,i,o,u,f){var a,s,c,l,h,y,p,m;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1),f-=(r-1)*(u*=-1)),y=0;y<qo;y++)for(p=s=Xo[y];p<r;p++)if(!Or(c=t[i+p*e])){for(l=o[f+p*u],a=Go(c),m=p;m>=s&&(!((h=t[i+(m-s)*e])<=c)||a&&h===c);m-=s)t[i+m*e]=h,o[f+m*u]=o[f+(m-s)*u];t[i+m*e]=c,o[f+m*u]=l}return t})),U(Do,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h,y;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=r,o=J(r/2);;){if(o>0)c=t[i+(o-=1)*e];else{if(0==(s-=1))return t;c=t[l=i+s*e],t[l]=t[i]}for(u=2*(h=o)+1;u<s&&((y=u+1)<s&&((f=t[i+y*e])>(a=t[i+u*e])||Or(f)||f===a&&No(f))&&(u+=1),(f=t[i+u*e])>c||Or(f)||f===c&&No(f));)t[i+h*e]=f,u=2*(h=u)+1;t[i+h*e]=c}})),U(Ho,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h;if(r<=0||0===n)return t;if(n<0&&(i-=(r-1)*(e*=-1)),s=(a=i)+(r-1)*e,u=a+e,e<0){for(h=1;h<r;h++)if(Or(c=t[u])){for(f=u;f>s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Go(c),f=u-e;f<=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Go(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}for(h=1;h<r;h++)if(Or(c=t[u])){for(f=u;f<s;)t[f]=t[f+e],f+=e;t[s]=c}else{for(o=Go(c),f=u-e;f>=a&&(!((l=t[f])<=c)||o&&l===c&&!1===Go(l));)t[f+e]=l,f-=e;t[f+e]=c,u+=e}return t}));var Ko=[701,301,132,57,23,10,4,1],Qo=Ko.length;function ru(r,n,t,e){var i,o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(e*=-1),i=e<0?(1-r)*e:0,s=0;s<Qo;s++)for(c=u=Ko[s];c<r;c++)if(!Or(f=t[i+c*e])){for(o=Go(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t}var nu=Ko.length;function tu(r,n,t){var e,i,o,u,f,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,e=0,f=0,a=0;a<r;a++)o=n[i],u=Be(e+o),f=Y(e)>=Y(o)?Be(f+Be(Be(e-u)+o)):Be(f+Be(Be(o-u)+e)),e=u,i+=t;return Be(e+f)}function eu(r,n,t,e){var i,o,u,f,a,s;if(r<=0)return 0;if(1===r||0===t)return n[e];for(o=e,i=0,a=0,s=0;s<r;s++)u=n[o],f=Be(i+u),a=Y(i)>=Y(u)?Be(a+Be(Be(i-f)+u)):Be(a+Be(Be(u-f)+i)),i=f,o+=t;return Be(i+a)}function iu(r,n,t){return tu(r,n,t)}function ou(r,n,t){var e,i,o,u,f,a,s,c,l;if(r<=0)return 0;if(1===r||0===t)return n[0];for(o=t<0?(1-r)*t:0,e=0,i=0,u=0,l=0;l<r;l++)a=n[o],s=Be(e+a),c=Y(e)>=Y(a)?Be(Be(e-s)+a):Be(Be(a-s)+e),e=s,s=Be(u+c),f=Y(u)>=Y(c)?Be(Be(u-s)+c):Be(Be(c-s)+u),u=s,i=Be(i+f),o+=t;return Be(e+Be(u+i))}function uu(r,n,t){var e,i,o;if(e=0,r<=0)return e;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,o=0;o<r;o++)e=Be(e+n[i]),i+=t;return e}U(ru,"ndarray",(function(r,n,t,e,i){var o,u,f,a,s,c,l;if(r<=0||0===n)return t;for(n<0&&(i-=(r-1)*(e*=-1)),s=0;s<nu;s++)for(c=u=Ko[s];c<r;c++)if(!Or(f=t[i+c*e])){for(o=Go(f),l=c;l>=u&&(!((a=t[i+(l-u)*e])<=f)||o&&a===f);l-=u)t[i+l*e]=a;t[i+l*e]=f}return t})),U(tu,"ndarray",eu),U(iu,"ndarray",(function(r,n,t,e){return eu(r,n,t,e)})),U(ou,"ndarray",(function(r,n,t,e){var i,o,u,f,a,s,c,l,h;if(r<=0)return 0;if(1===r||0===t)return n[e];for(u=e,i=0,o=0,f=0,h=0;h<r;h++)s=n[u],c=Be(i+s),l=Y(i)>=Y(s)?Be(Be(i-c)+s):Be(Be(s-c)+i),i=c,c=Be(f+l),a=Y(f)>=Y(l)?Be(Be(f-c)+l):Be(Be(l-c)+f),f=c,o=Be(o+a),u+=t;return Be(i+Be(f+o))})),U(uu,"ndarray",(function(r,n,t,e){var i,o,u;if(i=0,r<=0)return i;if(1===r||0===t)return n[e];for(o=e,u=0;u<r;u++)i=Be(i+n[o]),o+=t;return i}));var fu=128;function au(r,n,t,e){var i,o,u,f,a,s,c,l,h,y,p,m,v;if(r<=0)return 0;if(1===r||0===t)return n[e];if(i=e,r<8){for(p=0,v=0;v<r;v++)p=Be(p+n[i]),i+=t;return p}if(r<=fu){for(o=n[i],u=n[i+t],f=n[i+2*t],a=n[i+3*t],s=n[i+4*t],c=n[i+5*t],l=n[i+6*t],h=n[i+7*t],i+=8*t,y=r%8,v=8;v<r-y;v+=8)o=Be(o+n[i]),u=Be(u+n[i+t]),f=Be(f+n[i+2*t]),a=Be(a+n[i+3*t]),s=Be(s+n[i+4*t]),c=Be(c+n[i+5*t]),l=Be(l+n[i+6*t]),h=Be(h+n[i+7*t]),i+=8*t;for(p=Be(Be(Be(o+u)+Be(f+a))+Be(Be(s+c)+Be(l+h)));v<r;v++)p=Be(p+n[i]),i+=t;return p}return m=J(r/2),Be(au(m-=m%8,n,t,i)+au(r-m,n,t,i+m*t))}function su(r,n,t){var e,i,o;if(r<=0)return 0;if(1===r||0===t)return n[0];if(e=t<0?(1-r)*t:0,r<8){for(i=0,o=0;o<r;o++)i=Be(i+n[e]),e+=t;return i}return au(r,n,t,e)}U(su,"ndarray",au);var cu={};P(cu,"dapx",N),P(cu,"dapxsum",G),P(cu,"dapxsumkbn",W),P(cu,"dapxsumkbn2",Z),P(cu,"dapxsumors",X),P(cu,"dapxsumpw",D),P(cu,"dasumpw",Q),P(cu,"dcusum",tr),P(cu,"dcusumkbn",rr),P(cu,"dcusumkbn2",er),P(cu,"dcusumors",ir),P(cu,"dcusumpw",fr),P(cu,"dfill",ar),P(cu,"dnanasum",hr),P(cu,"dnanasumors",cr),P(cu,"dnannsum",mr),P(cu,"dnannsumkbn",yr),P(cu,"dnannsumkbn2",vr),P(cu,"dnannsumors",gr),P(cu,"dnannsumpw",br),P(cu,"dnansum",Tr),P(cu,"dnansumkbn",Er),P(cu,"dnansumkbn2",xr),P(cu,"dnansumors",Ar),P(cu,"dnansumpw",jr),P(cu,"drev",Fr),P(cu,"dsapxsum",Rr),P(cu,"dsapxsumpw",Lr),P(cu,"dsnannsumors",Br),P(cu,"dsnansum",Ur),P(cu,"dsnansumors",Nr),P(cu,"dsnansumpw",Pr),P(cu,"dsort2hp",$r),P(cu,"dsort2ins",Jr),P(cu,"dsort2sh",Dr),P(cu,"dsorthp",Kr),P(cu,"dsortins",Qr),P(cu,"dsortsh",tn),P(cu,"dssum",an),P(cu,"dssumors",sn),P(cu,"dssumpw",fn),P(cu,"dsum",hn),P(cu,"dsumkbn",cn),P(cu,"dsumkbn2",yn),P(cu,"dsumors",pn),P(cu,"dsumpw",gn),P(cu,"gapx",dn),P(cu,"gapxsum",En),P(cu,"gapxsumkbn",wn),P(cu,"gapxsumkbn2",_n),P(cu,"gapxsumors",Tn),P(cu,"gapxsumpw",Vn),P(cu,"gasumpw",Fn),P(cu,"gcusum",Ln),P(cu,"gcusumkbn",Sn),P(cu,"gcusumkbn2",Rn),P(cu,"gcusumors",Bn),P(cu,"gcusumpw",Mn),P(cu,"gfill",vi),P(cu,"gfillBy",di),P(cu,"gnannsumkbn",(function(r,n,t,e,i){var o,u,f,a,s,c,l,h;if(u=t<0?(1-r)*t:0,f=i<0?-i:0,o=0,r<=0)return e[f]=o,e[f+i]=0,e;if(1===r||0===t)return sr(n[u])?(e[f]=o,e[f+i]=0,e):(e[f]=n[u],e[f+i]=1,e);for(c=0,l=0,h=0;h<r;h++)!1===sr(a=n[u])&&(s=o+a,Y(o)>=Y(a)?c+=o-s+a:c+=a-s+o,o=s,l+=1),u+=t;return e[f]=o+c,e[f+i]=l,e})),P(cu,"gnansum",Ei),P(cu,"gnansumkbn",wi),P(cu,"gnansumkbn2",_i),P(cu,"gnansumors",Ti),P(cu,"gnansumpw",Vi),P(cu,"grev",ji),P(cu,"gsort2hp",Fi),P(cu,"gsort2ins",Si),P(cu,"gsort2sh",Ri),P(cu,"gsorthp",Oi),P(cu,"gsortins",Ci),P(cu,"gsortsh",Ui),P(cu,"gsum",$i),P(cu,"gsumkbn",Yi),P(cu,"gsumkbn2",Gi),P(cu,"gsumors",Zi),P(cu,"gsumpw",zi),P(cu,"sapx",qi),P(cu,"sapxsum",Ki),P(cu,"sapxsumkbn",Di),P(cu,"sapxsumkbn2",Qi),P(cu,"sapxsumors",ro),P(cu,"sapxsumpw",eo),P(cu,"sasumpw",uo),P(cu,"scusum",so),P(cu,"scusumkbn",fo),P(cu,"scusumkbn2",co),P(cu,"scusumors",lo),P(cu,"scusumpw",po),P(cu,"sdsapxsum",wo),P(cu,"sdsapxsumpw",go),P(cu,"sdsnansum",To),P(cu,"sdsnansumpw",_o),P(cu,"sdssum",ko),P(cu,"sdssumpw",Vo),P(cu,"sfill",jo),P(cu,"snansum",Io),P(cu,"snansumkbn",Fo),P(cu,"snansumkbn2",Lo),P(cu,"snansumors",Ro),P(cu,"snansumpw",Co),P(cu,"srev",Mo),P(cu,"ssort2hp",Yo),P(cu,"ssort2ins",Zo),P(cu,"ssort2sh",zo),P(cu,"ssorthp",Do),P(cu,"ssortins",Ho),P(cu,"ssortsh",ru),P(cu,"ssum",iu),P(cu,"ssumkbn",tu),P(cu,"ssumkbn2",ou),P(cu,"ssumors",uu),P(cu,"ssumpw",su);var lu={};return P(lu,"base",cu),lu},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r="undefined"!=typeof globalThis?globalThis:r||self).extblas=n();
//# sourceMappingURL=browser.js.map
