// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("path")):"function"==typeof define&&define.amd?define(["path"],n):(r="undefined"!=typeof globalThis?globalThis:r||self).extblas=n(r.require$$0)}(this,(function(r){"use strict";var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var t,f=Object.defineProperty,e=Object.prototype,i=e.toString,u=e.__defineGetter__,o=e.__defineSetter__,a=e.__lookupGetter__,c=e.__lookupSetter__;t=function(){try{return n({},"x",{}),!0}catch(r){return!1}}()?f:function(r,n,t){var f,s,v,d;if("object"!=typeof r||null===r||"[object Array]"===i.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof t||null===t||"[object Array]"===i.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((s="value"in t)&&(a.call(r,n)||c.call(r,n)?(f=r.__proto__,r.__proto__=e,delete r[n],r[n]=t.value,r.__proto__=f):r[n]=t.value),v="get"in t,d="set"in t,s&&(v||d))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return v&&u&&u.call(r,n,t.get),d&&o&&o.call(r,n,t.set),r};var s=t;function v(r,n,t){s(r,n,{configurable:!1,enumerable:!0,writable:!1,value:t})}var d=/./;function y(r,n,t){s(r,n,{configurable:!1,enumerable:!1,writable:!1,value:t})}function m(r){return"boolean"==typeof r}var l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function j(){return l&&"symbol"==typeof Symbol.toStringTag}var _=Object.prototype.toString;var p=Object.prototype.hasOwnProperty;var b,g="function"==typeof Symbol?Symbol.toStringTag:"";b=j()?function(r){var n,t,f,e,i;if(null==r)return _.call(r);t=r[g],i=g,n=null!=(e=r)&&p.call(e,i);try{r[g]=void 0}catch(n){return _.call(r)}return f=_.call(r),n?r[g]=t:delete r[g],f}:function(r){return _.call(r)};var w=b,h=Boolean.prototype.toString;var E=j();function k(r){return"object"==typeof r&&(r instanceof Boolean||(E?function(r){try{return h.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===w(r)))}function x(r){return m(r)||k(r)}function A(){return new Function("return this;")()}y(x,"isPrimitive",m),y(x,"isObject",k);var O="object"==typeof self?self:null,S="object"==typeof window?window:null,T="object"==typeof global?global:null;var F=function(r){if(arguments.length){if(!m(r))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+r+"`.");if(r)return A()}if(O)return O;if(S)return S;if(T)return T;throw new Error("unexpected error. Unable to resolve global object.")}(),P=F.document&&F.document.childNodes,I=Int8Array;function B(){return/^\s*function\s*([^(]*)/i}var N,U=/^\s*function\s*([^(]*)/i;y(B,"REGEXP",U),N=Array.isArray?Array.isArray:function(r){return"[object Array]"===w(r)};var q=N;function M(r){return null!==r&&"object"==typeof r}var V=function(r){if("function"!=typeof r)throw new TypeError("invalid argument. Must provide a function. Value: `"+r+"`.");return function(n){var t,f;if(!q(n))return!1;if(0===(t=n.length))return!1;for(f=0;f<t;f++)if(!1===r(n[f]))return!1;return!0}}(M);function C(r){var n,t,f,e;if(("Object"===(t=w(r).slice(8,-1))||"Error"===t)&&r.constructor){if("string"==typeof(f=r.constructor).name)return f.name;if(n=U.exec(f.toString()))return n[1]}return M(e=r)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))?"Buffer":t}y(M,"isObjectLikeArray",V);var G="function"==typeof d||"object"==typeof I||"function"==typeof P?function(r){return C(r).toLowerCase()}:function(r){var n;return null===r?"null":"object"===(n=typeof r)?C(r).toLowerCase():n};var L,R,Y=Object.getPrototypeOf;R=Object.getPrototypeOf,L="function"===G(R)?Y:function(r){var n=function(r){return r.__proto__}(r);return n||null===n?n:"[object Function]"===w(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var $=L;function D(r){return null==r?null:(r=Object(r),$(r))}function J(r){if("object"!=typeof r||null===r)return!1;if(r instanceof Error)return!0;for(;r;){if("[object Error]"===w(r))return!0;r=D(r)}return!1}function X(r){try{return function(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(r)}catch(r){return J(r)?r:"object"==typeof r?new Error(JSON.stringify(r)):new Error(r.toString())}}function z(r,n,t,f){var e,i,u;if(r<=0||0===n)return t;if(1===f){if((u=r%5)>0)for(i=0;i<u;i++)t[i]+=n;if(r<5)return t;for(i=u;i<r;i+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]+=n,e+=f;return t}y(z,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0||0===n)return t;if(i=e,1===f){if((u=r%5)>0)for(o=0;o<u;o++)t[i]+=n,i+=f;if(r<5)return t;for(o=u;o<r;o+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n,i+=5;return t}for(o=0;o<r;o++)t[i]+=n,i+=f;return t}));var H=X((0,r.join)(__dirname,"./native.js")),K=J(H)?z:H;function Q(r){return Math.abs(r)}function W(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(i=f<0?(1-r)*f:0,e=0,a=0,c=0;c<r;c++)o=e+(u=n+t[i]),Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o,i+=f;return e+a}y(W,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s;if(r<=0)return 0;if(1===r||0===f)return n+t[e];for(u=e,i=0,c=0,s=0;s<r;s++)a=i+(o=n+t[u]),Q(i)>=Q(o)?c+=i-a+o:c+=o-a+i,i=a,u+=f;return i+c}));var Z,rr=X((0,r.join)(__dirname,"./native.js")),nr=Z=J(rr)?W:rr;const{ndarray:tr}=Z;function fr(r,n,t,f){return nr(r,n,t,f)}y(fr,"ndarray",(function(r,n,t,f,e){return tr(r,n,t,f,e)}));var er=X((0,r.join)(__dirname,"./native.js")),ir=J(er)?fr:er;function ur(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(u=f<0?(1-r)*f:0,e=0,i=0,o=0,d=0;d<r;d++)s=e+(c=n+t[u]),v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a,u+=f;return e+o+i}y(ur,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(o=e,i=0,u=0,a=0,y=0;y<r;y++)v=i+(s=n+t[o]),d=Q(i)>=Q(s)?i-v+s:s-v+i,i=v,v=a+d,c=Q(a)>=Q(d)?a-v+d:d-v+a,a=v,u+=c,o+=f;return i+a+u}));var or=X((0,r.join)(__dirname,"./native.js")),ar=or instanceof Error?ur:or;function cr(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(i=f<0?(1-r)*f:0,e=0,u=0;u<r;u++)e+=n+t[i],i+=f;return e}y(cr,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(u=e,i=0,o=0;o<r;o++)i+=n+t[u],u+=f;return i}));var sr=X((0,r.join)(__dirname,"./native.js")),vr=J(sr)?cr:sr,dr=Math.floor;function yr(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l,j,_;if(r<=0)return 0;if(1===r||0===f)return n+t[e];if(i=e,r<8){for(l=0,_=0;_<r;_++)l+=n+t[i],i+=f;return l}if(r<=128){for(u=n+t[i],o=n+t[i+f],a=n+t[i+2*f],c=n+t[i+3*f],s=n+t[i+4*f],v=n+t[i+5*f],d=n+t[i+6*f],y=n+t[i+7*f],i+=8*f,m=r%8,_=8;_<r-m;_+=8)u+=n+t[i],o+=n+t[i+f],a+=n+t[i+2*f],c+=n+t[i+3*f],s+=n+t[i+4*f],v+=n+t[i+5*f],d+=n+t[i+6*f],y+=n+t[i+7*f],i+=8*f;for(l=u+o+(a+c)+(s+v+(d+y));_<r;_++)l+=n+t[i],i+=f;return l}return j=dr(r/2),yr(j-=j%8,n,t,f,i)+yr(r-j,n,t,f,i+j*f)}function mr(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return n+t[0];if(e=f<0?(1-r)*f:0,r<8){for(i=0,u=0;u<r;u++)i+=n+t[e],e+=f;return i}return yr(r,n,t,f,e)}y(mr,"ndarray",yr);var lr=X((0,r.join)(__dirname,"./native.js")),jr=J(lr)?mr:lr;function _r(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Q(n[f]);if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=Q(n[e]),e+=t;return m}if(r<=128){for(i=Q(n[e]),u=Q(n[e+t]),o=Q(n[e+2*t]),a=Q(n[e+3*t]),c=Q(n[e+4*t]),s=Q(n[e+5*t]),v=Q(n[e+6*t]),d=Q(n[e+7*t]),e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=Q(n[e]),u+=Q(n[e+t]),o+=Q(n[e+2*t]),a+=Q(n[e+3*t]),c+=Q(n[e+4*t]),s+=Q(n[e+5*t]),v+=Q(n[e+6*t]),d+=Q(n[e+7*t]),e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=Q(n[e]),e+=t;return m}return l=dr(r/2),_r(l-=l%8,n,t,e)+_r(r-l,n,t,e+l*t)}function pr(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Q(n[0]);if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=Q(n[f]),f+=t;return e}return _r(r,n,t,f)}y(pr,"ndarray",_r);var br=X((0,r.join)(__dirname,"./native.js")),gr=J(br)?pr:br;function wr(r,n,t,f,e,i){var u,o,a,c,s,v,d;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=n,v=0,d=0;d<r;d++)s=a+(c=t[u]),Q(a)>=Q(c)?v+=a-s+c:v+=c-s+a,a=s,e[o]=a+v,u+=f,o+=i;return e}y(wr,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m;if(r<=0)return i;for(a=e,c=o,s=n,y=0,m=0;m<r;m++)d=s+(v=t[a]),Q(s)>=Q(v)?y+=s-d+v:y+=v-d+s,s=d,i[c]=s+y,a+=f,c+=u;return i}));var hr,Er=X((0,r.join)(__dirname,"./native.js")),kr=hr=J(Er)?wr:Er;const{ndarray:xr}=hr;function Ar(r,n,t,f,e,i){return kr(r,n,t,f,e,i)}y(Ar,"ndarray",(function(r,n,t,f,e,i,u,o){return xr(r,n,t,f,e,i,u,o)}));var Or=X((0,r.join)(__dirname,"./native.js")),Sr=J(Or)?Ar:Or;function Tr(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m;if(r<=0)return e;for(o=f<0?(1-r)*f:0,a=i<0?(1-r)*i:0,u=0,c=0,m=0;m<r;m++)d=n+(v=t[o]),y=Q(n)>=Q(v)?n-d+v:v-d+n,n=d,d=c+y,s=Q(c)>=Q(y)?c-d+y:y-d+c,c=d,u+=s,e[a]=n+c+u,o+=f,a+=i;return e}y(Tr,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j;if(r<=0)return i;for(c=e,s=o,a=0,v=0,j=0;j<r;j++)m=n+(y=t[c]),l=Q(n)>=Q(y)?n-m+y:y-m+n,n=m,m=v+l,d=Q(v)>=Q(l)?v-m+l:l-m+v,v=m,a+=d,i[s]=n+v+a,c+=f,s+=u;return i}));var Fr=X((0,r.join)(__dirname,"./native.js")),Pr=Fr instanceof Error?Tr:Fr;function Ir(r,n,t,f,e,i){var u,o,a;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=0;a<r;a++)n+=t[u],e[o]=n,u+=f,o+=i;return e}y(Ir,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s;if(r<=0)return i;for(a=e,c=o,s=0;s<r;s++)n+=t[a],i[c]=n,a+=f,c+=u;return i}));var Br=X((0,r.join)(__dirname,"./native.js")),Nr=J(Br)?Ir:Br;function Ur(r,n,t,f,e,i,u,o){var a,c,s,v,d;if(r<=0)return i;if(a=e,c=o,r<=128){for(s=0,d=0;d<r;d++)s+=t[a],i[c]=n+s,a+=f,c+=u;return i}return Ur(v=dr(r/2),n,t,f,a,i,u,c),Ur(r-v,i[c+=(v-1)*u],t,f,a+v*f,i,u,c+u),i}function qr(r,n,t,f,e,i){return r<=0?e:Ur(r,n,t,f,f<0?(1-r)*f:0,e,i,i<0?(1-r)*i:0)}y(qr,"ndarray",Ur);var Mr=X((0,r.join)(__dirname,"./native.js")),Vr=J(Mr)?qr:Mr;function Cr(r,n,t,f){var e,i,u;if(r<=0)return t;if(1===f){if((u=r%8)>0)for(i=0;i<u;i++)t[i]=n;if(r<8)return t;for(i=u;i<r;i+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]=n,e+=f;return t}y(Cr,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0)return t;if(i=e,1===f){if((u=r%8)>0)for(o=0;o<u;o++)t[i]=n,i+=f;if(r<8)return t;for(o=u;o<r;o+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n,i+=8;return t}for(o=0;o<r;o++)t[i]=n,i+=f;return t}));var Gr=X((0,r.join)(__dirname,"./native.js")),Lr=J(Gr)?Cr:Gr;function Rr(r){return r!=r}function Yr(r,n,t){var f,e,i,u;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:Q(n[0]);for(e=t<0?(1-r)*t:0,f=0,u=0;u<r;u++)!1===Rr(i=n[e])&&(f+=Q(i)),e+=t;return f}y(Yr,"ndarray",(function(r,n,t,f){var e,i,u,o;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:Q(n[f]);for(i=f,e=0,o=0;o<r;o++)!1===Rr(u=n[i])&&(e+=Q(u)),i+=t;return e}));var $r,Dr=X((0,r.join)(__dirname,"./native.js")),Jr=$r=J(Dr)?Yr:Dr;const{ndarray:Xr}=$r;function zr(r,n,t){return Jr(r,n,t)}y(zr,"ndarray",(function(r,n,t,f){return Xr(r,n,t,f)}));var Hr=X((0,r.join)(__dirname,"./native.js")),Kr=J(Hr)?zr:Hr;function Qr(r,n,t,f,e){var i,u,o,a,c,s,v,d;if(u=t<0?(1-r)*t:0,o=e<0?-e:0,i=0,r<=0)return f[o]=i,f[o+e]=0,f;if(1===r||0===t)return Rr(n[u])?(f[o]=i,f[o+e]=0,f):(f[o]=n[u],f[o+e]=1,f);for(s=0,v=0,d=0;d<r;d++)!1===Rr(a=n[u])&&(c=i+a,Q(i)>=Q(a)?s+=i-c+a:s+=a-c+i,i=c,v+=1),u+=t;return f[o]=i+s,f[o+e]=v,f}y(Qr,"ndarray",(function(r,n,t,f,e,i,u){var o,a,c,s,v,d,y,m;if(a=f,c=u,o=0,r<=0)return e[c]=o,e[c+i]=0,e;if(1===r||0===t)return Rr(n[a])?(e[c]=o,e[c+i]=0,e):(e[c]=n[a],e[c+i]=1,e);for(d=0,y=0,m=0;m<r;m++)!1===Rr(s=n[a])&&(v=o+s,Q(o)>=Q(s)?d+=o-v+s:d+=s-v+o,o=v,y+=1),a+=t;return e[c]=o+d,e[c+i]=y,e}));var Wr,Zr=X((0,r.join)(__dirname,"./native.js")),rn=Wr=J(Zr)?Qr:Zr;const{ndarray:nn}=Wr;function tn(r,n,t,f,e){return rn(r,n,t,f,e)}y(tn,"ndarray",(function(r,n,t,f,e,i,u){return nn(r,n,t,f,e,i,u)}));var fn=X((0,r.join)(__dirname,"./native.js")),en=J(fn)?tn:fn;function un(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l;if(c=t<0?(1-r)*t:0,s=e<0?-e:0,i=0,r<=0)return f[s]=i,f[s+e]=0,f;if(1===r||0===t)return Rr(n[c])?(f[s]=i,f[s+e]=0,f):(f[s]=n[c],f[s+e]=1,f);for(u=0,o=0,m=0,l=0;l<r;l++)!1===Rr(v=n[c])&&(d=i+v,y=Q(i)>=Q(v)?i-d+v:v-d+i,i=d,d=o+y,a=Q(o)>=Q(y)?o-d+y:y-d+o,o=d,u+=a,m+=1),c+=t;return f[s]=i+o+u,f[s+e]=m,f}y(un,"ndarray",(function(r,n,t,f,e,i,u){var o,a,c,s,v,d,y,m,l,j,_;if(v=f,d=u,o=0,r<=0)return e[d]=o,e[d+i]=0,e;if(1===r||0===t)return Rr(n[v])?(e[d]=o,e[d+i]=0,e):(e[d]=n[v],e[d+i]=1,e);for(a=0,c=0,j=0,_=0;_<r;_++)!1===Rr(y=n[v])&&(m=o+y,l=Q(o)>=Q(y)?o-m+y:y-m+o,o=m,m=c+l,s=Q(c)>=Q(l)?c-m+l:l-m+c,c=m,a+=s,j+=1),v+=t;return e[d]=o+c+a,e[d+i]=j,e}));var on=X((0,r.join)(__dirname,"./native.js")),an=on instanceof Error?un:on;function cn(r,n,t,f,e){var i,u,o,a,c;if(u=t<0?(1-r)*t:0,o=e<0?-e:0,i=0,r<=0)return f[o]=i,f[o+e]=0,f;if(1===r||0===t)return Rr(n[u])?(f[o]=i,f[o+e]=0,f):(f[o]=n[u],f[o+e]=1,f);for(a=0,c=0;c<r;c++)!1===Rr(n[u])&&(i+=n[u],a+=1),u+=t;return f[o]=i,f[o+e]=a,f}y(cn,"ndarray",(function(r,n,t,f,e,i,u){var o,a,c,s,v;if(a=f,c=u,o=0,r<=0)return e[c]=o,e[c+i]=0,e;if(1===r||0===t)return Rr(n[a])?(e[c]=o,e[c+i]=0,e):(e[c]=n[a],e[c+i]=1,e);for(s=0,v=0;v<r;v++)!1===Rr(n[a])&&(o+=n[a],s+=1),a+=t;return e[c]=o,e[c+i]=s,e}));var sn=X((0,r.join)(__dirname,"./native.js")),vn=J(sn)?cn:sn;function dn(r,n,t,f,e,i,u){var o,a,c,s,v,d,y,m,l,j,_,p,b,g,w;if(r<=0)return e;if(o=f,a=u,1===r||0===t)return Rr(n[o])||(e[a]+=n[o],e[a+i]+=1),e;if(r<8){for(p=0,b=0,w=0;w<r;w++)(g=n[o])==g&&(p+=g,b+=1),o+=t;return e[a]+=p,e[a+i]+=b,e}if(r<=128){for(c=0,s=0,v=0,d=0,y=0,m=0,l=0,j=0,b=0,_=r%8,w=0;w<r-_;w+=8)(g=n[o])==g&&(c+=g,b+=1),(g=n[o+=t])==g&&(s+=g,b+=1),(g=n[o+=t])==g&&(v+=g,b+=1),(g=n[o+=t])==g&&(d+=g,b+=1),(g=n[o+=t])==g&&(y+=g,b+=1),(g=n[o+=t])==g&&(m+=g,b+=1),(g=n[o+=t])==g&&(l+=g,b+=1),(g=n[o+=t])==g&&(j+=g,b+=1),o+=t;for(p=c+s+(v+d)+(y+m+(l+j));w<r;w++)(g=n[o])==g&&(p+=g,b+=1),o+=t;return e[a]+=p,e[a+i]+=b,e}return b=dr(r/2),dn(b-=b%8,n,t,o,e,i,u),dn(r-b,n,t,o+b*t,e,i,u),e}function yn(r,n,t,f,e){var i,u;return i=t<0?(1-r)*t:0,f[u=e<0?-e:0]=0,f[u+e]=0,dn(r,n,t,i,f,e,u),f}y(yn,"ndarray",(function(r,n,t,f,e,i,u){return e[u]=0,e[u+i]=0,dn(r,n,t,f,e,i,u),e}));var mn=X((0,r.join)(__dirname,"./native.js")),ln=J(mn)?yn:mn;function jn(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)!1===Rr(i=n[e])&&(u=f+i,Q(f)>=Q(i)?o+=f-u+i:o+=i-u+f,f=u),e+=t;return f+o}y(jn,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];for(i=f,e=0,a=0,c=0;c<r;c++)!1===Rr(u=n[i])&&(o=e+u,Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o),i+=t;return e+a}));var _n,pn=X((0,r.join)(__dirname,"./native.js")),bn=_n=J(pn)?jn:pn;const{ndarray:gn}=_n;function wn(r,n,t){return bn(r,n,t)}y(wn,"ndarray",(function(r,n,t,f){return gn(r,n,t,f)}));var hn=X((0,r.join)(__dirname,"./native.js")),En=J(hn)?wn:hn;function kn(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)!1===Rr(a=n[i])&&(c=f+a,s=Q(f)>=Q(a)?f-c+a:a-c+f,f=c,c=u+s,o=Q(u)>=Q(s)?u-c+s:s-c+u,u=c,e+=o),i+=t;return f+u+e}y(kn,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)!1===Rr(c=n[u])&&(s=e+c,v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a),u+=t;return e+o+i}));var xn=X((0,r.join)(__dirname,"./native.js")),An=xn instanceof Error?kn:xn;function On(r,n,t){var f,e,i;if(f=0,r<=0)return f;if(1===r||0===t)return Rr(n[0])?f:n[0];for(e=t<0?(1-r)*t:0,i=0;i<r;i++)!1===Rr(n[e])&&(f+=n[e]),e+=t;return f}y(On,"ndarray",(function(r,n,t,f){var e,i,u;if(e=0,r<=0)return e;if(1===r||0===t)return Rr(n[f])?e:n[f];for(i=f,u=0;u<r;u++)!1===Rr(n[i])&&(e+=n[i]),i+=t;return e}));var Sn=X((0,r.join)(__dirname,"./native.js")),Tn=J(Sn)?On:Sn;function Fn(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)!1===Rr(n[e])&&(m+=n[e]),e+=t;return m}if(r<=128){for(i=Rr(n[e])?0:n[e],u=Rr(n[e+=t])?0:n[e],o=Rr(n[e+=t])?0:n[e],a=Rr(n[e+=t])?0:n[e],c=Rr(n[e+=t])?0:n[e],s=Rr(n[e+=t])?0:n[e],v=Rr(n[e+=t])?0:n[e],d=Rr(n[e+=t])?0:n[e],e+=t,y=r%8,j=8;j<r-y;j+=8)i+=Rr(n[e])?0:n[e],u+=Rr(n[e+=t])?0:n[e],o+=Rr(n[e+=t])?0:n[e],a+=Rr(n[e+=t])?0:n[e],c+=Rr(n[e+=t])?0:n[e],s+=Rr(n[e+=t])?0:n[e],v+=Rr(n[e+=t])?0:n[e],d+=Rr(n[e+=t])?0:n[e],e+=t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)!1===Rr(n[e])&&(m+=n[e]),e+=t;return m}return l=dr(r/2),Fn(l-=l%8,n,t,e)+Fn(r-l,n,t,e+l*t)}function Pn(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)!1===Rr(n[f])&&(e+=n[f]),f+=t;return e}return Fn(r,n,t,f)}y(Pn,"ndarray",Fn);var In=X((0,r.join)(__dirname,"./native.js")),Bn=J(In)?Pn:In;function Nn(r,n,t){var f,e,i,u,o,a;if(r<=0)return n;if(o=dr(r/2),1===t){if(i=r-1,(u=o%3)>0)for(e=0;e<u;e++)f=n[e],n[e]=n[i],n[i]=f,i-=1;if(o<3)return n;for(e=u;e<o;e+=3)f=n[e],n[e]=n[i],n[i]=f,f=n[e+1],n[e+1]=n[i-1],n[i-1]=f,f=n[e+2],n[e+2]=n[i-2],n[i-2]=f,i-=3;return n}for(i=(e=t<0?(1-r)*t:0)+(r-1)*t,a=0;a<o;a++)f=n[e],n[e]=n[i],n[i]=f,e+=t,i-=t;return n}y(Nn,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return n;if(a=dr(r/2),i=f,1===t){if(u=i+r-1,(o=a%3)>0)for(c=0;c<o;c++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;if(a<3)return n;for(c=o;c<a;c+=3)e=n[i],n[i]=n[u],n[u]=e,e=n[i+1],n[i+1]=n[u-1],n[u-1]=e,e=n[i+2],n[i+2]=n[u-2],n[u-2]=e,i+=3,u-=3;return n}for(u=i+(r-1)*t,c=0;c<a;c++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;return n}));var Un=X((0,r.join)(__dirname,"./native.js")),qn=J(Un)?Nn:Un;function Mn(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l,j,_;if(r<=0)return 0;if(1===r||0===f)return n+t[e];if(i=e,r<8){for(l=0,_=0;_<r;_++)l+=n+t[i],i+=f;return l}if(r<=128){for(u=n+t[i],o=n+t[i+f],a=n+t[i+2*f],c=n+t[i+3*f],s=n+t[i+4*f],v=n+t[i+5*f],d=n+t[i+6*f],y=n+t[i+7*f],i+=8*f,m=r%8,_=8;_<r-m;_+=8)u+=n+t[i],o+=n+t[i+f],a+=n+t[i+2*f],c+=n+t[i+3*f],s+=n+t[i+4*f],v+=n+t[i+5*f],d+=n+t[i+6*f],y+=n+t[i+7*f],i+=8*f;for(l=u+o+(a+c)+(s+v+(d+y));_<r;_++)l+=n+t[i],i+=f;return l}return j=dr(r/2),Mn(j-=j%8,n,t,f,i)+Mn(r-j,n,t,f,i+j*f)}function Vn(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return n+t[0];if(e=f<0?(1-r)*f:0,r<8){for(i=0,u=0;u<r;u++)i+=n+t[e],e+=f;return i}return Mn(r,n,t,f,e)}y(Vn,"ndarray",Mn);var Cn,Gn=X((0,r.join)(__dirname,"./native.js")),Ln=Cn=J(Gn)?Vn:Gn;const{ndarray:Rn}=Cn;function Yn(r,n,t,f){return Ln(r,n,t,f)}y(Yn,"ndarray",(function(r,n,t,f,e){return Rn(r,n,t,f,e)}));var $n=X((0,r.join)(__dirname,"./native.js")),Dn=J($n)?Yn:$n;function Jn(r,n,t,f,e){var i,u,o,a,c;if(u=t<0?(1-r)*t:0,o=e<0?-e:0,i=0,r<=0)return f[o]=i,f[o+e]=0,f;if(1===r||0===t)return Rr(n[u])?(f[o]=i,f[o+e]=0,f):(f[o]=n[u],f[o+e]=1,f);for(a=0,c=0;c<r;c++)!1===Rr(n[u])&&(i+=n[u],a+=1),u+=t;return f[o]=i,f[o+e]=a,f}y(Jn,"ndarray",(function(r,n,t,f,e,i,u){var o,a,c,s,v;if(a=f,c=u,o=0,r<=0)return e[c]=o,e[c+i]=0,e;if(1===r||0===t)return Rr(n[a])?(e[c]=o,e[c+i]=0,e):(e[c]=n[a],e[c+i]=1,e);for(s=0,v=0;v<r;v++)!1===Rr(n[a])&&(o+=n[a],s+=1),a+=t;return e[c]=o,e[c+i]=s,e}));var Xn=X((0,r.join)(__dirname,"./native.js")),zn=J(Xn)?Jn:Xn;function Hn(r){return r!=r}function Kn(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Hn(n[f])?0:n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)!1===Hn(n[e])&&(m+=n[e]),e+=t;return m}if(r<=128){for(i=Hn(n[e])?0:n[e],u=Hn(n[e+=t])?0:n[e],o=Hn(n[e+=t])?0:n[e],a=Hn(n[e+=t])?0:n[e],c=Hn(n[e+=t])?0:n[e],s=Hn(n[e+=t])?0:n[e],v=Hn(n[e+=t])?0:n[e],d=Hn(n[e+=t])?0:n[e],e+=t,y=r%8,j=8;j<r-y;j+=8)i+=Hn(n[e])?0:n[e],u+=Hn(n[e+=t])?0:n[e],o+=Hn(n[e+=t])?0:n[e],a+=Hn(n[e+=t])?0:n[e],c+=Hn(n[e+=t])?0:n[e],s+=Hn(n[e+=t])?0:n[e],v+=Hn(n[e+=t])?0:n[e],d+=Hn(n[e+=t])?0:n[e],e+=t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)!1===Hn(n[e])&&(m+=n[e]),e+=t;return m}return l=dr(r/2),Kn(l-=l%8,n,t,e)+Kn(r-l,n,t,e+l*t)}function Qn(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Hn(n[0])?0:n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)!1===Hn(n[f])&&(e+=n[f]),f+=t;return e}return Kn(r,n,t,f)}y(Qn,"ndarray",Kn);var Wn,Zn=X((0,r.join)(__dirname,"./native.js")),rt=Wn=J(Zn)?Qn:Zn;const{ndarray:nt}=Wn;function tt(r,n,t){return rt(r,n,t)}y(tt,"ndarray",(function(r,n,t,f){return nt(r,n,t,f)}));var ft=X((0,r.join)(__dirname,"./native.js")),et=J(ft)?tt:ft;function it(r,n,t){var f,e,i;if(f=0,r<=0)return f;if(1===r||0===t)return Rr(n[0])?f:n[0];for(e=t<0?(1-r)*t:0,i=0;i<r;i++)!1===Rr(n[e])&&(f+=n[e]),e+=t;return f}y(it,"ndarray",(function(r,n,t,f){var e,i,u;if(e=0,r<=0)return e;if(1===r||0===t)return Rr(n[f])?e:n[f];for(i=f,u=0;u<r;u++)!1===Rr(n[i])&&(e+=n[i]),i+=t;return e}));var ut=X((0,r.join)(__dirname,"./native.js")),ot=J(ut)?it:ut,at=Number.POSITIVE_INFINITY;function ct(r){return 0===r&&1/r===at}function st(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,j=r,a=dr(r/2);;){if(a>0)d=t[u+(a-=1)*f],y=e[o+a*i];else{if(0===(j-=1))return t;d=t[m=u+j*f],y=e[l=o+j*i],t[m]=t[u],e[l]=e[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[u+p*f])>(v=t[u+c*f])||Rr(s)||s===v&&ct(s))&&(c+=1),(s=t[u+c*f])>d||Rr(s)||s===d&&ct(s));)t[u+_*f]=s,e[o+_*i]=e[o+c*i],c=2*(_=c)+1;t[u+_*f]=d,e[o+_*i]=y}}y(st,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),j=r,a=dr(r/2);;){if(a>0)d=t[e+(a-=1)*f],y=i[o+a*u];else{if(0===(j-=1))return t;d=t[m=e+j*f],y=i[l=o+j*u],t[m]=t[e],i[l]=i[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[e+p*f])>(v=t[e+c*f])||Rr(s)||s===v&&ct(s))&&(c+=1),(s=t[e+c*f])>d||Rr(s)||s===d&&ct(s));)t[e+_*f]=s,i[o+_*u]=i[o+c*u],c=2*(_=c)+1;t[e+_*f]=d,i[o+_*u]=y}}));var vt=X((0,r.join)(__dirname,"./native.js")),dt=vt instanceof Error?st:vt,yt=Number.NEGATIVE_INFINITY;function mt(r){return 0===r&&1/r===yt}function lt(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;if(n<0&&(f*=-1,i*=-1),i<0?(y=(1-r)*i,m=0):(y=0,m=(r-1)*i),v=y+i,f<0){for(s=0,o=(c=(1-r)*f)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Rr(l)){for(a=o,d=v;a>s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=mt(l),a=o-f,d=v-i;a<=c&&(!((_=t[a])<=l)||u&&_===l&&!1===mt(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}for(s=(r-1)*f,o=(c=0)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Rr(l)){for(a=o,d=v;a<s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=mt(l),a=o-f,d=v-i;a>=c&&(!((_=t[a])<=l)||u&&_===l&&!1===mt(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}y(lt,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p,b,g;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),d=(v=e)+(r-1)*f,c=v+f,j=(l=o)+(r-1)*u,y=l+u,f<0){for(g=1;g<r;g++)if(_=t[c],p=i[y],Rr(_)){for(s=c,m=y;s>d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=mt(_),s=c-f,m=y-u;s<=v&&(!((b=t[s])<=_)||a&&b===_&&!1===mt(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}for(g=1;g<r;g++)if(_=t[c],p=i[y],Rr(_)){for(s=c,m=y;s<d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=mt(_),s=c-f,m=y-u;s>=v&&(!((b=t[s])<=_)||a&&b===_&&!1===mt(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}));var jt=X((0,r.join)(__dirname,"./native.js")),_t=jt instanceof Error?lt:jt,pt=[701,301,132,57,23,10,4,1],bt=pt.length;function gt(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,y=0;y<bt;y++)for(m=c=pt[y];m<r;m++)if(!Rr(s=t[u+m*f])){for(v=e[o+m*i],a=mt(s),l=m;l>=c&&(!((d=t[u+(l-c)*f])<=s)||a&&d===s);l-=c)t[u+l*f]=d,e[o+l*i]=e[o+(l-c)*i];t[u+l*f]=s,e[o+l*i]=v}return t}var wt=pt.length;y(gt,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),y=0;y<wt;y++)for(m=c=pt[y];m<r;m++)if(!Rr(s=t[e+m*f])){for(v=i[o+m*u],a=mt(s),l=m;l>=c&&(!((d=t[e+(l-c)*f])<=s)||a&&d===s);l-=c)t[e+l*f]=d,i[o+l*u]=i[o+(l-c)*u];t[e+l*f]=s,i[o+l*u]=v}return t}));var ht=X((0,r.join)(__dirname,"./native.js")),Et=ht instanceof Error?gt:ht;function kt(r,n,t,f){var e,i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Rr(o)||o===a&&ct(o))&&(u+=1),(o=t[e+u*f])>s||Rr(o)||o===s&&ct(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}}y(kt,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Rr(o)||o===a&&ct(o))&&(u+=1),(o=t[e+u*f])>s||Rr(o)||o===s&&ct(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}}));var xt=X((0,r.join)(__dirname,"./native.js")),At=J(xt)?kt:xt;function Ot(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;if(n<0&&(f*=-1),f<0){for(a=0,i=(o=(1-r)*f)+f,v=1;v<r;v++)if(Rr(c=t[i])){for(u=i;u>a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=mt(c),u=i-f;u<=o&&(!((s=t[u])<=c)||e&&s===c&&!1===mt(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}for(a=(r-1)*f,i=(o=0)+f,v=1;v<r;v++)if(Rr(c=t[i])){for(u=i;u<a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=mt(c),u=i-f;u>=o&&(!((s=t[u])<=c)||e&&s===c&&!1===mt(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}y(Ot,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1)),c=(a=e)+(r-1)*f,u=a+f,f<0){for(d=1;d<r;d++)if(Rr(s=t[u])){for(o=u;o>c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=mt(s),o=u-f;o<=a&&(!((v=t[o])<=s)||i&&v===s&&!1===mt(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}for(d=1;d<r;d++)if(Rr(s=t[u])){for(o=u;o<c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=mt(s),o=u-f;o>=a&&(!((v=t[o])<=s)||i&&v===s&&!1===mt(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}));var St=X((0,r.join)(__dirname,"./native.js")),Tt=J(St)?Ot:St,Ft=[701,301,132,57,23,10,4,1],Pt=Ft.length;function It(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=0;c<Pt;c++)for(s=u=Ft[c];s<r;s++)if(!Rr(o=t[e+s*f])){for(i=mt(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t}var Bt=Ft.length;y(It,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=0;c<Bt;c++)for(s=u=Ft[c];s<r;s++)if(!Rr(o=t[e+s*f])){for(i=mt(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t}));var Nt=X((0,r.join)(__dirname,"./native.js")),Ut=J(Nt)?It:Nt;function qt(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=n[e],e+=t;return m}if(r<=128){for(i=n[e],u=n[e+t],o=n[e+2*t],a=n[e+3*t],c=n[e+4*t],s=n[e+5*t],v=n[e+6*t],d=n[e+7*t],e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=n[e],u+=n[e+t],o+=n[e+2*t],a+=n[e+3*t],c+=n[e+4*t],s+=n[e+5*t],v+=n[e+6*t],d+=n[e+7*t],e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=n[e],e+=t;return m}return l=dr(r/2),qt(l-=l%8,n,t,e)+qt(r-l,n,t,e+l*t)}function Mt(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=n[f],f+=t;return e}return qt(r,n,t,f)}y(Mt,"ndarray",qt);var Vt,Ct=X((0,r.join)(__dirname,"./native.js")),Gt=Vt=J(Ct)?Mt:Ct;const{ndarray:Lt}=Vt;function Rt(r,n,t){return Gt(r,n,t)}y(Rt,"ndarray",(function(r,n,t,f){return Lt(r,n,t,f)}));var Yt=X((0,r.join)(__dirname,"./native.js")),$t=J(Yt)?Rt:Yt;function Dt(r,n,t){var f,e,i,u;if(f=0,r<=0)return f;if(1===r||0===t)return n[0];if(1===t){if((i=r%6)>0)for(u=0;u<i;u++)f+=n[u];if(r<6)return f;for(u=i;u<r;u+=6)f+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return f}for(e=t<0?(1-r)*t:0,u=0;u<r;u++)f+=n[e],e+=t;return f}y(Dt,"ndarray",(function(r,n,t,f){var e,i,u,o;if(e=0,r<=0)return e;if(1===r||0===t)return n[f];if(i=f,1===t){if((u=r%6)>0)for(o=0;o<u;o++)e+=n[i],i+=t;if(r<6)return e;for(o=u;o<r;o+=6)e+=n[i]+n[i+1]+n[i+2]+n[i+3]+n[i+4]+n[i+5],i+=6;return e}for(o=0;o<r;o++)e+=n[i],i+=t;return e}));var Jt=X((0,r.join)(__dirname,"./native.js")),Xt=J(Jt)?Dt:Jt;function zt(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)u=f+(i=n[e]),Q(f)>=Q(i)?o+=f-u+i:o+=i-u+f,f=u,e+=t;return f+o}y(zt,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return n[f];for(i=f,e=0,a=0,c=0;c<r;c++)o=e+(u=n[i]),Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o,i+=t;return e+a}));var Ht,Kt=X((0,r.join)(__dirname,"./native.js")),Qt=Ht=J(Kt)?zt:Kt;const{ndarray:Wt}=Ht;function Zt(r,n,t){return Qt(r,n,t)}y(Zt,"ndarray",(function(r,n,t,f){return Wt(r,n,t,f)}));var rf=X((0,r.join)(__dirname,"./native.js")),nf=J(rf)?Zt:rf;function tf(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)c=f+(a=n[i]),s=Q(f)>=Q(a)?f-c+a:a-c+f,f=c,c=u+s,o=Q(u)>=Q(s)?u-c+s:s-c+u,u=c,e+=o,i+=t;return f+u+e}y(tf,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)s=e+(c=n[u]),v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a,u+=t;return e+o+i}));var ff=X((0,r.join)(__dirname,"./native.js")),ef=ff instanceof Error?tf:ff;function uf(r,n,t){var f,e,i,u;if(f=0,r<=0)return f;if(1===r||0===t)return n[0];if(1===t){if((i=r%6)>0)for(u=0;u<i;u++)f+=n[u];if(r<6)return f;for(u=i;u<r;u+=6)f+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return f}for(e=t<0?(1-r)*t:0,u=0;u<r;u++)f+=n[e],e+=t;return f}y(uf,"ndarray",(function(r,n,t,f){var e,i,u,o;if(e=0,r<=0)return e;if(1===r||0===t)return n[f];if(i=f,1===t){if((u=r%6)>0)for(o=0;o<u;o++)e+=n[i],i+=t;if(r<6)return e;for(o=u;o<r;o+=6)e+=n[i]+n[i+1]+n[i+2]+n[i+3]+n[i+4]+n[i+5],i+=6;return e}for(o=0;o<r;o++)e+=n[i],i+=t;return e}));var of=X((0,r.join)(__dirname,"./native.js")),af=J(of)?uf:of;function cf(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=n[e],e+=t;return m}if(r<=128){for(i=n[e],u=n[e+t],o=n[e+2*t],a=n[e+3*t],c=n[e+4*t],s=n[e+5*t],v=n[e+6*t],d=n[e+7*t],e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=n[e],u+=n[e+t],o+=n[e+2*t],a+=n[e+3*t],c+=n[e+4*t],s+=n[e+5*t],v+=n[e+6*t],d+=n[e+7*t],e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=n[e],e+=t;return m}return l=dr(r/2),cf(l-=l%8,n,t,e)+cf(r-l,n,t,e+l*t)}function sf(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=n[f],f+=t;return e}return cf(r,n,t,f)}y(sf,"ndarray",cf);var vf=X((0,r.join)(__dirname,"./native.js")),df=J(vf)?sf:vf;function yf(r,n,t,f){var e,i,u;if(r<=0||0===n)return t;if(1===f){if((u=r%5)>0)for(i=0;i<u;i++)t[i]+=n;if(r<5)return t;for(i=u;i<r;i+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]+=n,e+=f;return t}function mf(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(i=f<0?(1-r)*f:0,e=0,a=0,c=0;c<r;c++)o=e+(u=n+t[i]),Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o,i+=f;return e+a}function lf(r,n,t,f,e){var i,u,o,a,c,s;if(r<=0)return 0;if(1===r||0===f)return n+t[e];for(u=e,i=0,c=0,s=0;s<r;s++)a=i+(o=n+t[u]),Q(i)>=Q(o)?c+=i-a+o:c+=o-a+i,i=a,u+=f;return i+c}function jf(r,n,t,f){return mf(r,n,t,f)}function _f(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(u=f<0?(1-r)*f:0,e=0,i=0,o=0,d=0;d<r;d++)s=e+(c=n+t[u]),v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a,u+=f;return e+o+i}function pf(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(i=f<0?(1-r)*f:0,e=0,u=0;u<r;u++)e+=n+t[i],i+=f;return e}y(yf,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0||0===n)return t;if(i=e,1===f){if((u=r%5)>0)for(o=0;o<u;o++)t[i]+=n,i+=f;if(r<5)return t;for(o=u;o<r;o+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n,i+=5;return t}for(o=0;o<r;o++)t[i]+=n,i+=f;return t})),y(mf,"ndarray",lf),y(jf,"ndarray",(function(r,n,t,f,e){return lf(r,n,t,f,e)})),y(_f,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0)return 0;if(1===r||0===f)return n+t[0];for(o=e,i=0,u=0,a=0,y=0;y<r;y++)v=i+(s=n+t[o]),d=Q(i)>=Q(s)?i-v+s:s-v+i,i=v,v=a+d,c=Q(a)>=Q(d)?a-v+d:d-v+a,a=v,u+=c,o+=f;return i+a+u})),y(pf,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0)return 0;if(1===r||0===f)return n+t[e];for(u=e,i=0,o=0;o<r;o++)i+=n+t[u],u+=f;return i}));function bf(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l,j,_;if(r<=0)return 0;if(1===r||0===f)return n+t[e];if(i=e,r<8){for(l=0,_=0;_<r;_++)l+=n+t[i],i+=f;return l}if(r<=128){for(u=n+t[i],o=n+t[i+f],a=n+t[i+2*f],c=n+t[i+3*f],s=n+t[i+4*f],v=n+t[i+5*f],d=n+t[i+6*f],y=n+t[i+7*f],i+=8*f,m=r%8,_=8;_<r-m;_+=8)u+=n+t[i],o+=n+t[i+f],a+=n+t[i+2*f],c+=n+t[i+3*f],s+=n+t[i+4*f],v+=n+t[i+5*f],d+=n+t[i+6*f],y+=n+t[i+7*f],i+=8*f;for(l=u+o+(a+c)+(s+v+(d+y));_<r;_++)l+=n+t[i],i+=f;return l}return j=dr(r/2),bf(j-=j%8,n,t,f,i)+bf(r-j,n,t,f,i+j*f)}function gf(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return n+t[0];if(e=f<0?(1-r)*f:0,r<8){for(i=0,u=0;u<r;u++)i+=n+t[e],e+=f;return i}return bf(r,n,t,f,e)}y(gf,"ndarray",bf);function wf(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Q(n[f]);if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=Q(n[e]),e+=t;return m}if(r<=128){for(i=Q(n[e]),u=Q(n[e+t]),o=Q(n[e+2*t]),a=Q(n[e+3*t]),c=Q(n[e+4*t]),s=Q(n[e+5*t]),v=Q(n[e+6*t]),d=Q(n[e+7*t]),e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=Q(n[e]),u+=Q(n[e+t]),o+=Q(n[e+2*t]),a+=Q(n[e+3*t]),c+=Q(n[e+4*t]),s+=Q(n[e+5*t]),v+=Q(n[e+6*t]),d+=Q(n[e+7*t]),e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=Q(n[e]),e+=t;return m}return l=dr(r/2),wf(l-=l%8,n,t,e)+wf(r-l,n,t,e+l*t)}function hf(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Q(n[0]);if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=Q(n[f]),f+=t;return e}return wf(r,n,t,f)}function Ef(r,n,t,f,e,i){var u,o,a,c,s,v,d;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=n,v=0,d=0;d<r;d++)s=a+(c=t[u]),Q(a)>=Q(c)?v+=a-s+c:v+=c-s+a,a=s,e[o]=a+v,u+=f,o+=i;return e}function kf(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m;if(r<=0)return i;for(a=e,c=o,s=n,y=0,m=0;m<r;m++)d=s+(v=t[a]),Q(s)>=Q(v)?y+=s-d+v:y+=v-d+s,s=d,i[c]=s+y,a+=f,c+=u;return i}function xf(r,n,t,f,e,i){return Ef(r,n,t,f,e,i)}function Af(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m;if(r<=0)return e;for(o=f<0?(1-r)*f:0,a=i<0?(1-r)*i:0,u=0,c=0,m=0;m<r;m++)d=n+(v=t[o]),y=Q(n)>=Q(v)?n-d+v:v-d+n,n=d,d=c+y,s=Q(c)>=Q(y)?c-d+y:y-d+c,c=d,u+=s,e[a]=n+c+u,o+=f,a+=i;return e}function Of(r,n,t,f,e,i){var u,o,a;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=0;a<r;a++)n+=t[u],e[o]=n,u+=f,o+=i;return e}y(hf,"ndarray",wf),y(Ef,"ndarray",kf),y(xf,"ndarray",(function(r,n,t,f,e,i,u,o){return kf(r,n,t,f,e,i,u,o)})),y(Af,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j;if(r<=0)return i;for(c=e,s=o,a=0,v=0,j=0;j<r;j++)m=n+(y=t[c]),l=Q(n)>=Q(y)?n-m+y:y-m+n,n=m,m=v+l,d=Q(v)>=Q(l)?v-m+l:l-m+v,v=m,a+=d,i[s]=n+v+a,c+=f,s+=u;return i})),y(Of,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s;if(r<=0)return i;for(a=e,c=o,s=0;s<r;s++)n+=t[a],i[c]=n,a+=f,c+=u;return i}));function Sf(r,n,t,f,e,i,u,o){var a,c,s,v,d;if(r<=0)return i;if(a=e,c=o,r<=128){for(s=0,d=0;d<r;d++)s+=t[a],i[c]=n+s,a+=f,c+=u;return i}return Sf(v=dr(r/2),n,t,f,a,i,u,c),Sf(r-v,i[c+=(v-1)*u],t,f,a+v*f,i,u,c+u),i}function Tf(r,n,t,f,e,i){return r<=0?e:Sf(r,n,t,f,f<0?(1-r)*f:0,e,i,i<0?(1-r)*i:0)}function Ff(r,n){return r[n]}function Pf(r,n){return r.get(n)}function If(r,n,t){r[n]=t}function Bf(r,n,t){r.set(t,n)}function Nf(r){var n=Boolean(r.get&&r.set);return{data:r,accessors:n,getter:n?Pf:Ff,setter:n?Bf:If}}function Uf(r,n,t,f,e){var i,u,o,a;for(i=t.data,u=t.setter,o=e,a=0;a<r;a++)u(i,o,n),o+=f;return t}y(Tf,"ndarray",Sf);function qf(r,n,t,f){var e,i,u,o;if(r<=0)return t;if((o=Nf(t)).accessors)return Uf(r,n,o,f,e=f<0?(1-r)*f:0),o.data;if(1===f){if((u=r%8)>0)for(i=0;i<u;i++)t[i]=n;if(r<8)return t;for(i=u;i<r;i+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]=n,e+=f;return t}function Mf(r,n,t,f,e,i){var u,o,a,c,s;for(u=n.data,a=n.getter,o=n.setter,c=f,s=0;s<r;s++)o(u,c,e.call(i,a(u,c),s,c,n)),c+=t;return n}function Vf(r,n,t,f,e){var i,u,o;if(r<=0)return n;if(i=t<0?(1-r)*t:0,(u=Nf(n)).accessors)return Mf(r,u,t,i,f,e),u.data;for(o=0;o<r;o++)n[i]=f.call(e,n[i],o,i,n),i+=t;return n}function Cf(r,n,t,f,e){var i,u,o,a,c,s,v,d;if(u=t<0?(1-r)*t:0,o=e<0?-e:0,i=0,r<=0)return f[o]=i,f[o+e]=0,f;if(1===r||0===t)return Rr(n[u])?(f[o]=i,f[o+e]=0,f):(f[o]=n[u],f[o+e]=1,f);for(s=0,v=0,d=0;d<r;d++)!1===Rr(a=n[u])&&(c=i+a,Q(i)>=Q(a)?s+=i-c+a:s+=a-c+i,i=c,v+=1),u+=t;return f[o]=i+s,f[o+e]=v,f}function Gf(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)!1===Rr(i=n[e])&&(u=f+i,Q(f)>=Q(i)?o+=f-u+i:o+=i-u+f,f=u),e+=t;return f+o}function Lf(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];for(i=f,e=0,a=0,c=0;c<r;c++)!1===Rr(u=n[i])&&(o=e+u,Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o),i+=t;return e+a}function Rf(r,n,t){return Gf(r,n,t)}function Yf(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)!1===Rr(a=n[i])&&(c=f+a,s=Q(f)>=Q(a)?f-c+a:a-c+f,f=c,c=u+s,o=Q(u)>=Q(s)?u-c+s:s-c+u,u=c,e+=o),i+=t;return f+u+e}function $f(r,n,t){var f,e,i;if(e=0,r<=0)return e;if(1===r||0===t)return Rr(n[0])?e:n[0];for(f=t<0?(1-r)*t:0,i=0;i<r;i++)!1===Rr(n[f])&&(e+=n[f]),f+=t;return e}y(qf,"ndarray",(function(r,n,t,f,e){var i,u,o,a;if(r<=0)return t;if((o=Nf(t)).accessors)return Uf(r,n,o,f,e),o.data;if(i=e,1===f){if((u=r%8)>0)for(a=0;a<u;a++)t[i]=n,i+=f;if(r<8)return t;for(a=u;a<r;a+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n,i+=8;return t}for(a=0;a<r;a++)t[i]=n,i+=f;return t})),y(Vf,"ndarray",(function(r,n,t,f,e,i){var u,o,a;if(r<=0)return n;if((o=Nf(n)).accessors)return Mf(r,o,t,f,e,i),o.data;for(u=f,a=0;a<r;a++)n[u]=e.call(i,n[u],a,u,n),u+=t;return n})),y(Cf,"ndarray",(function(r,n,t,f,e,i,u){var o,a,c,s,v,d,y,m;if(a=f,c=u,o=0,r<=0)return e[c]=o,e[c+i]=0,e;if(1===r||0===t)return Rr(n[a])?(e[c]=o,e[c+i]=0,e):(e[c]=n[a],e[c+i]=1,e);for(d=0,y=0,m=0;m<r;m++)!1===Rr(s=n[a])&&(v=o+s,Q(o)>=Q(s)?d+=o-v+s:d+=s-v+o,o=v,y+=1),a+=t;return e[c]=o+d,e[c+i]=y,e})),y(Gf,"ndarray",Lf),y(Rf,"ndarray",(function(r,n,t,f){return Lf(r,n,t,f)})),y(Yf,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)!1===Rr(c=n[u])&&(s=e+c,v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a),u+=t;return e+o+i})),y($f,"ndarray",(function(r,n,t,f){var e,i,u;if(i=0,r<=0)return i;if(1===r||0===t)return Rr(n[f])?i:n[f];for(e=f,u=0;u<r;u++)!1===Rr(n[e])&&(i+=n[e]),e+=t;return i}));function Df(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Rr(n[f])?0:n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)!1===Rr(n[e])&&(m+=n[e]),e+=t;return m}if(r<=128){for(i=Rr(n[e])?0:n[e],u=Rr(n[e+=t])?0:n[e],o=Rr(n[e+=t])?0:n[e],a=Rr(n[e+=t])?0:n[e],c=Rr(n[e+=t])?0:n[e],s=Rr(n[e+=t])?0:n[e],v=Rr(n[e+=t])?0:n[e],d=Rr(n[e+=t])?0:n[e],e+=t,y=r%8,j=8;j<r-y;j+=8)i+=Rr(n[e])?0:n[e],u+=Rr(n[e+=t])?0:n[e],o+=Rr(n[e+=t])?0:n[e],a+=Rr(n[e+=t])?0:n[e],c+=Rr(n[e+=t])?0:n[e],s+=Rr(n[e+=t])?0:n[e],v+=Rr(n[e+=t])?0:n[e],d+=Rr(n[e+=t])?0:n[e],e+=t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)!1===Rr(n[e])&&(m+=n[e]),e+=t;return m}return l=dr(r/2),Df(l-=l%8,n,t,e)+Df(r-l,n,t,e+l*t)}function Jf(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Rr(n[0])?0:n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)!1===Rr(n[f])&&(e+=n[f]),f+=t;return e}return Df(r,n,t,f)}function Xf(r,n,t,f){var e,i,u,o,a,c,s,v;for(e=n.data,i=n.setter,u=n.getter,s=dr(r/2),c=(a=f)+(r-1)*t,v=0;v<s;v++)o=u(e,a),i(e,a,u(e,c)),i(e,c,o),a+=t,c-=t;return n}y(Jf,"ndarray",Df);function zf(r,n,t){var f,e,i,u,o,a,c;if(r<=0)return n;if((u=Nf(n)).accessors)return Xf(r,u,t,e=t<0?(1-r)*t:0),u.data;if(a=dr(r/2),1===t){if(i=r-1,(o=a%3)>0)for(e=0;e<o;e++)f=n[e],n[e]=n[i],n[i]=f,i-=1;if(a<3)return n;for(e=o;e<a;e+=3)f=n[e],n[e]=n[i],n[i]=f,f=n[e+1],n[e+1]=n[i-1],n[i-1]=f,f=n[e+2],n[e+2]=n[i-2],n[i-2]=f,i-=3;return n}for(i=(e=t<0?(1-r)*t:0)+(r-1)*t,c=0;c<a;c++)f=n[e],n[e]=n[i],n[i]=f,e+=t,i-=t;return n}function Hf(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,j=r,a=dr(r/2);;){if(a>0)d=t[u+(a-=1)*f],y=e[o+a*i];else{if(0===(j-=1))return t;d=t[m=u+j*f],y=e[l=o+j*i],t[m]=t[u],e[l]=e[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[u+p*f])>(v=t[u+c*f])||Rr(s)||s===v&&ct(s))&&(c+=1),(s=t[u+c*f])>d||Rr(s)||s===d&&ct(s));)t[u+_*f]=s,e[o+_*i]=e[o+c*i],c=2*(_=c)+1;t[u+_*f]=d,e[o+_*i]=y}}function Kf(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;if(n<0&&(f*=-1,i*=-1),i<0?(y=(1-r)*i,m=0):(y=0,m=(r-1)*i),v=y+i,f<0){for(s=0,o=(c=(1-r)*f)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Rr(l)){for(a=o,d=v;a>s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=mt(l),a=o-f,d=v-i;a<=c&&(!((_=t[a])<=l)||u&&_===l&&!1===mt(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}for(s=(r-1)*f,o=(c=0)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Rr(l)){for(a=o,d=v;a<s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=mt(l),a=o-f,d=v-i;a>=c&&(!((_=t[a])<=l)||u&&_===l&&!1===mt(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}y(zf,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s;if(r<=0)return n;if((o=Nf(n)).accessors)return Xf(r,o,t,f),o.data;if(c=dr(r/2),i=f,1===t){if(u=i+r-1,(a=c%3)>0)for(s=0;s<a;s++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;if(c<3)return n;for(s=a;s<c;s+=3)e=n[i],n[i]=n[u],n[u]=e,e=n[i+1],n[i+1]=n[u-1],n[u-1]=e,e=n[i+2],n[i+2]=n[u-2],n[u-2]=e,i+=3,u-=3;return n}for(u=i+(r-1)*t,s=0;s<c;s++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;return n})),y(Hf,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),j=r,a=dr(r/2);;){if(a>0)d=t[e+(a-=1)*f],y=i[o+a*u];else{if(0===(j-=1))return t;d=t[m=e+j*f],y=i[l=o+j*u],t[m]=t[e],i[l]=i[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[e+p*f])>(v=t[e+c*f])||Rr(s)||s===v&&ct(s))&&(c+=1),(s=t[e+c*f])>d||Rr(s)||s===d&&ct(s));)t[e+_*f]=s,i[o+_*u]=i[o+c*u],c=2*(_=c)+1;t[e+_*f]=d,i[o+_*u]=y}})),y(Kf,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p,b,g;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),d=(v=e)+(r-1)*f,c=v+f,j=(l=o)+(r-1)*u,y=l+u,f<0){for(g=1;g<r;g++)if(_=t[c],p=i[y],Rr(_)){for(s=c,m=y;s>d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=mt(_),s=c-f,m=y-u;s<=v&&(!((b=t[s])<=_)||a&&b===_&&!1===mt(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}for(g=1;g<r;g++)if(_=t[c],p=i[y],Rr(_)){for(s=c,m=y;s<d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=mt(_),s=c-f,m=y-u;s>=v&&(!((b=t[s])<=_)||a&&b===_&&!1===mt(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}));var Qf=[701,301,132,57,23,10,4,1],Wf=Qf.length;function Zf(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,y=0;y<Wf;y++)for(m=c=Qf[y];m<r;m++)if(!Rr(s=t[u+m*f])){for(v=e[o+m*i],a=mt(s),l=m;l>=c&&(!((d=t[u+(l-c)*f])<=s)||a&&d===s);l-=c)t[u+l*f]=d,e[o+l*i]=e[o+(l-c)*i];t[u+l*f]=s,e[o+l*i]=v}return t}var re=Qf.length;function ne(r,n,t,f){var e,i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Rr(o)||o===a&&ct(o))&&(u+=1),(o=t[e+u*f])>s||Rr(o)||o===s&&ct(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}}function te(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;if(n<0&&(f*=-1),f<0){for(a=0,i=(o=(1-r)*f)+f,v=1;v<r;v++)if(Rr(c=t[i])){for(u=i;u>a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=mt(c),u=i-f;u<=o&&(!((s=t[u])<=c)||e&&s===c&&!1===mt(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}for(a=(r-1)*f,i=(o=0)+f,v=1;v<r;v++)if(Rr(c=t[i])){for(u=i;u<a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=mt(c),u=i-f;u>=o&&(!((s=t[u])<=c)||e&&s===c&&!1===mt(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}y(Zf,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),y=0;y<re;y++)for(m=c=Qf[y];m<r;m++)if(!Rr(s=t[e+m*f])){for(v=i[o+m*u],a=mt(s),l=m;l>=c&&(!((d=t[e+(l-c)*f])<=s)||a&&d===s);l-=c)t[e+l*f]=d,i[o+l*u]=i[o+(l-c)*u];t[e+l*f]=s,i[o+l*u]=v}return t})),y(ne,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Rr(o)||o===a&&ct(o))&&(u+=1),(o=t[e+u*f])>s||Rr(o)||o===s&&ct(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}})),y(te,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1)),c=(a=e)+(r-1)*f,u=a+f,f<0){for(d=1;d<r;d++)if(Rr(s=t[u])){for(o=u;o>c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=mt(s),o=u-f;o<=a&&(!((v=t[o])<=s)||i&&v===s&&!1===mt(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}for(d=1;d<r;d++)if(Rr(s=t[u])){for(o=u;o<c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=mt(s),o=u-f;o>=a&&(!((v=t[o])<=s)||i&&v===s&&!1===mt(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}));var fe=[701,301,132,57,23,10,4,1],ee=fe.length;function ie(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=0;c<ee;c++)for(s=u=fe[c];s<r;s++)if(!Rr(o=t[e+s*f])){for(i=mt(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t}var ue=fe.length;function oe(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)u=f+(i=n[e]),Q(f)>=Q(i)?o+=f-u+i:o+=i-u+f,f=u,e+=t;return f+o}function ae(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return n[f];for(i=f,e=0,a=0,c=0;c<r;c++)o=e+(u=n[i]),Q(e)>=Q(u)?a+=e-o+u:a+=u-o+e,e=o,i+=t;return e+a}function ce(r,n,t){return oe(r,n,t)}function se(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)c=f+(a=n[i]),s=Q(f)>=Q(a)?f-c+a:a-c+f,f=c,c=u+s,o=Q(u)>=Q(s)?u-c+s:s-c+u,u=c,e+=o,i+=t;return f+u+e}y(ie,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=0;c<ue;c++)for(s=u=fe[c];s<r;s++)if(!Rr(o=t[e+s*f])){for(i=mt(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t})),y(oe,"ndarray",ae),y(ce,"ndarray",(function(r,n,t,f){return ae(r,n,t,f)})),y(se,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)s=e+(c=n[u]),v=Q(e)>=Q(c)?e-s+c:c-s+e,e=s,s=o+v,a=Q(o)>=Q(v)?o-s+v:v-s+o,o=s,i+=a,u+=t;return e+o+i}));function ve(r,n,t){var f,e,i,u;if(i=0,r<=0)return i;if(1===r||0===t)return n[0];if(1===t){if((e=r%6)>0)for(u=0;u<e;u++)i+=n[u];if(r<6)return i;for(u=e;u<r;u+=6)i+=n[u]+n[u+1]+n[u+2]+n[u+3]+n[u+4]+n[u+5];return i}for(f=t<0?(1-r)*t:0,u=0;u<r;u++)i+=n[f],f+=t;return i}y(ve,"ndarray",(function(r,n,t,f){var e,i,u,o;if(u=0,r<=0)return u;if(1===r||0===t)return n[f];if(e=f,1===t){if((i=r%6)>0)for(o=0;o<i;o++)u+=n[e],e+=t;if(r<6)return u;for(o=i;o<r;o+=6)u+=n[e]+n[e+1]+n[e+2]+n[e+3]+n[e+4]+n[e+5],e+=6;return u}for(o=0;o<r;o++)u+=n[e],e+=t;return u}));function de(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=n[e],e+=t;return m}if(r<=128){for(i=n[e],u=n[e+t],o=n[e+2*t],a=n[e+3*t],c=n[e+4*t],s=n[e+5*t],v=n[e+6*t],d=n[e+7*t],e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=n[e],u+=n[e+t],o+=n[e+2*t],a+=n[e+3*t],c+=n[e+4*t],s+=n[e+5*t],v+=n[e+6*t],d+=n[e+7*t],e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=n[e],e+=t;return m}return l=dr(r/2),de(l-=l%8,n,t,e)+de(r-l,n,t,e+l*t)}function ye(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=n[f],f+=t;return e}return de(r,n,t,f)}y(ye,"ndarray",de);function me(r,n,t,f){var e,i,u;if(r<=0||0===n)return t;if(1===f){if((u=r%5)>0)for(i=0;i<u;i++)t[i]+=n;if(r<5)return t;for(i=u;i<r;i+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]+=n,e+=f;return t}y(me,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0||0===n)return t;if(i=e,1===f){if((u=r%5)>0)for(o=0;o<u;o++)t[i]+=n,i+=f;if(r<5)return t;for(o=u;o<r;o+=5)t[i]+=n,t[i+1]+=n,t[i+2]+=n,t[i+3]+=n,t[i+4]+=n,i+=5;return t}for(o=0;o<r;o++)t[i]+=n,i+=f;return t}));var le=X((0,r.join)(__dirname,"./native.js")),je=J(le)?me:le,_e="function"==typeof Math.fround?Math.fround:null,pe="function"==typeof Float32Array;var be="function"==typeof Float32Array?Float32Array:null;var ge,we="function"==typeof Float32Array?Float32Array:void 0;ge=function(){var r,n;if("function"!=typeof be)return!1;try{r=function(r){return pe&&r instanceof Float32Array||"[object Float32Array]"===w(r)}(n=new be([1,3.14,-3.14,5e40]))&&1===n[0]&&3.140000104904175===n[1]&&-3.140000104904175===n[2]&&n[3]===at}catch(n){r=!1}return r}()?we:function(){throw new Error("not implemented")};var he=ge,Ee=new he(1);var ke="function"==typeof _e?_e:function(r){return Ee[0]=r,Ee[0]};function xe(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);for(i=f<0?(1-r)*f:0,e=0,a=0,c=0;c<r;c++)u=ke(n+t[i]),o=ke(e+u),a=Q(e)>=Q(u)?ke(a+ke(ke(e-o)+u)):ke(a+ke(ke(u-o)+e)),e=o,i+=f;return ke(e+a)}y(xe,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[e]);for(u=e,i=0,c=0,s=0;s<r;s++)o=ke(n+t[u]),a=ke(i+o),c=Q(i)>=Q(o)?ke(c+ke(ke(i-a)+o)):ke(c+ke(ke(o-a)+i)),i=a,u+=f;return ke(i+c)}));var Ae,Oe=X((0,r.join)(__dirname,"./native.js")),Se=Ae=J(Oe)?xe:Oe;const{ndarray:Te}=Ae;function Fe(r,n,t,f){return Se(r,n,t,f)}y(Fe,"ndarray",(function(r,n,t,f,e){return Te(r,n,t,f,e)}));var Pe=X((0,r.join)(__dirname,"./native.js")),Ie=J(Pe)?Fe:Pe;function Be(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);for(u=f<0?(1-r)*f:0,e=0,i=0,o=0,d=0;d<r;d++)c=ke(n+t[u]),s=ke(e+c),v=Q(e)>=Q(c)?ke(ke(e-s)+c):ke(ke(c-s)+e),e=s,s=ke(o+v),a=Q(o)>=Q(v)?ke(ke(o-s)+v):ke(ke(v-s)+o),o=s,i=ke(i+a),u+=f;return ke(e+ke(o+i))}y(Be,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[e]);for(o=e,i=0,u=0,a=0,y=0;y<r;y++)s=ke(n+t[o]),v=ke(i+s),d=Q(i)>=Q(s)?ke(ke(i-v)+s):ke(ke(s-v)+i),i=v,v=ke(a+d),c=Q(a)>=Q(d)?ke(ke(a-v)+d):ke(ke(d-v)+a),a=v,u=ke(u+c),o+=f;return ke(i+ke(a+u))}));var Ne=X((0,r.join)(__dirname,"./native.js")),Ue=Ne instanceof Error?Be:Ne;function qe(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);for(i=f<0?(1-r)*f:0,e=0,u=0;u<r;u++)e=ke(e+ke(n+t[i])),i+=f;return e}y(qe,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);for(u=e,i=0,o=0;o<r;o++)i=ke(i+ke(n+t[u])),u+=f;return i}));var Me=X((0,r.join)(__dirname,"./native.js")),Ve=J(Me)?qe:Me;function Ce(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l,j,_;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[e]);if(i=e,r<8){for(l=0,_=0;_<r;_++)l=ke(l+ke(n+t[i])),i+=f;return l}if(r<=128){for(u=ke(n+t[i]),o=ke(n+t[i+f]),a=ke(n+t[i+2*f]),c=ke(n+t[i+3*f]),s=ke(n+t[i+4*f]),v=ke(n+t[i+5*f]),d=ke(n+t[i+6*f]),y=ke(n+t[i+7*f]),i+=8*f,m=r%8,_=8;_<r-m;_+=8)u=ke(u+ke(n+t[i])),o=ke(o+ke(n+t[i+f])),a=ke(a+ke(n+t[i+2*f])),c=ke(c+ke(n+t[i+3*f])),s=ke(s+ke(n+t[i+4*f])),v=ke(v+ke(n+t[i+5*f])),d=ke(d+ke(n+t[i+6*f])),y=ke(y+ke(n+t[i+7*f])),i+=8*f;for(l=ke(ke(ke(u+o)+ke(a+c))+ke(ke(s+v)+ke(d+y)));_<r;_++)l=ke(l+ke(n+t[i])),i+=f;return l}return j=dr(r/2),ke(Ce(j-=j%8,n,t,f,i)+Ce(r-j,n,t,f,i+j*f))}function Ge(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);if(e=f<0?(1-r)*f:0,r<8){for(i=0,u=0;u<r;u++)i=ke(i+ke(n+t[e])),e+=f;return i}return Ce(r,n,t,f,e)}y(Ge,"ndarray",Ce);var Le=X((0,r.join)(__dirname,"./native.js")),Re=J(Le)?Ge:Le;function Ye(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Q(n[f]);if(e=f,r<8){for(m=0,j=0;j<r;j++)m=ke(m+Q(n[e])),e+=t;return m}if(r<=128){for(i=Q(n[e]),u=Q(n[e+t]),o=Q(n[e+2*t]),a=Q(n[e+3*t]),c=Q(n[e+4*t]),s=Q(n[e+5*t]),v=Q(n[e+6*t]),d=Q(n[e+7*t]),e+=8*t,y=r%8,j=8;j<r-y;j+=8)i=ke(i+Q(n[e])),u=ke(u+Q(n[e+t])),o=ke(o+Q(n[e+2*t])),a=ke(a+Q(n[e+3*t])),c=ke(c+Q(n[e+4*t])),s=ke(s+Q(n[e+5*t])),v=ke(v+Q(n[e+6*t])),d=ke(d+Q(n[e+7*t])),e+=8*t;for(m=ke(ke(ke(i+u)+ke(o+a))+ke(ke(c+s)+ke(v+d)));j<r;j++)m=ke(m+Q(n[e])),e+=t;return m}return l=dr(r/2),ke(Ye(l-=l%8,n,t,e)+Ye(r-l,n,t,e+l*t))}function $e(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Q(n[0]);if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e=ke(e+Q(n[f])),f+=t;return e}return Ye(r,n,t,f)}y($e,"ndarray",Ye);var De=X((0,r.join)(__dirname,"./native.js")),Je=J(De)?$e:De;function Xe(r,n,t,f,e,i){var u,o,a,c,s,v,d;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=n,v=0,d=0;d<r;d++)c=t[u],s=ke(a+c),v=Q(a)>=Q(c)?ke(v+ke(ke(a-s)+c)):ke(v+ke(ke(c-s)+a)),a=s,e[o]=ke(a+v),u+=f,o+=i;return e}y(Xe,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m;if(r<=0)return i;for(a=e,c=o,s=n,y=0,m=0;m<r;m++)v=t[a],d=ke(s+v),y=Q(s)>=Q(v)?ke(y+ke(ke(s-d)+v)):ke(y+ke(ke(v-d)+s)),s=d,i[c]=ke(s+y),a+=f,c+=u;return i}));var ze,He=X((0,r.join)(__dirname,"./native.js")),Ke=ze=J(He)?Xe:He;const{ndarray:Qe}=ze;function We(r,n,t,f,e,i){return Ke(r,n,t,f,e,i)}y(We,"ndarray",(function(r,n,t,f,e,i,u,o){return Qe(r,n,t,f,e,i,u,o)}));var Ze=X((0,r.join)(__dirname,"./native.js")),ri=J(Ze)?We:Ze;function ni(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m;if(r<=0)return e;for(o=f<0?(1-r)*f:0,a=i<0?(1-r)*i:0,u=0,c=0,m=0;m<r;m++)v=t[o],d=ke(n+v),y=Q(n)>=Q(v)?ke(ke(n-d)+v):ke(ke(v-d)+n),n=d,d=ke(c+y),s=Q(c)>=Q(y)?ke(ke(c-d)+y):ke(ke(y-d)+c),c=d,u=ke(u+s),e[a]=ke(n+ke(c+u)),o+=f,a+=i;return e}y(ni,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j;if(r<=0)return i;for(c=e,s=o,a=0,v=0,j=0;j<r;j++)y=t[c],m=ke(n+y),l=Q(n)>=Q(y)?ke(ke(n-m)+y):ke(ke(y-m)+n),n=m,m=ke(v+l),d=Q(v)>=Q(l)?ke(ke(v-m)+l):ke(ke(l-m)+v),v=m,a=ke(a+d),i[s]=ke(n+ke(v+a)),c+=f,s+=u;return i}));var ti=X((0,r.join)(__dirname,"./native.js")),fi=ti instanceof Error?ni:ti;function ei(r,n,t,f,e,i){var u,o,a;if(r<=0)return e;for(u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,a=0;a<r;a++)n=ke(n+t[u]),e[o]=n,u+=f,o+=i;return e}y(ei,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s;if(r<=0)return i;for(a=e,c=o,s=0;s<r;s++)n=ke(n+t[a]),i[c]=n,a+=f,c+=u;return i}));var ii=X((0,r.join)(__dirname,"./native.js")),ui=J(ii)?ei:ii;function oi(r,n,t,f,e,i,u,o){var a,c,s,v,d;if(r<=0)return i;if(a=e,c=o,r<=128){for(s=0,d=0;d<r;d++)s=ke(s+t[a]),i[c]=ke(n+s),a+=f,c+=u;return i}return oi(v=dr(r/2),n,t,f,a,i,u,c),oi(r-v,i[c+=(v-1)*u],t,f,a+v*f,i,u,c+u),i}function ai(r,n,t,f,e,i){return r<=0?e:oi(r,n,t,f,f<0?(1-r)*f:0,e,i,i<0?(1-r)*i:0)}y(ai,"ndarray",oi);var ci=X((0,r.join)(__dirname,"./native.js")),si=J(ci)?ai:ci;function vi(r,n,t,f,e){var i,u,o,a,c,s,v,d,y,m,l,j,_;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[e]);if(i=e,r<8){for(l=0,_=0;_<r;_++)l+=n+t[i],i+=f;return ke(l)}if(r<=128){for(u=n+t[i],o=n+t[i+f],a=n+t[i+2*f],c=n+t[i+3*f],s=n+t[i+4*f],v=n+t[i+5*f],d=n+t[i+6*f],y=n+t[i+7*f],i+=8*f,m=r%8,_=8;_<r-m;_+=8)u+=n+t[i],o+=n+t[i+f],a+=n+t[i+2*f],c+=n+t[i+3*f],s+=n+t[i+4*f],v+=n+t[i+5*f],d+=n+t[i+6*f],y+=n+t[i+7*f],i+=8*f;for(l=u+o+(a+c)+(s+v+(d+y));_<r;_++)l+=n+t[i],i+=f;return ke(l)}return j=dr(r/2),ke(vi(j-=j%8,n,t,f,i)+vi(r-j,n,t,f,i+j*f))}function di(r,n,t,f){var e,i,u;if(r<=0)return 0;if(1===r||0===f)return ke(n+t[0]);if(e=f<0?(1-r)*f:0,r<8){for(i=0,u=0;u<r;u++)i+=n+t[e],e+=f;return ke(i)}return vi(r,n,t,f,e)}y(di,"ndarray",vi);var yi,mi=X((0,r.join)(__dirname,"./native.js")),li=yi=J(mi)?di:mi;const{ndarray:ji}=yi;function _i(r,n,t,f){return li(r,n,t,f)}y(_i,"ndarray",(function(r,n,t,f,e){return ji(r,n,t,f,e)}));var pi=X((0,r.join)(__dirname,"./native.js")),bi=J(pi)?_i:pi;function gi(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Hn(n[f])?0:n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)!1===Hn(n[e])&&(m+=n[e]),e+=t;return ke(m)}if(r<=128){for(i=Hn(n[e])?0:n[e],u=Hn(n[e+=t])?0:n[e],o=Hn(n[e+=t])?0:n[e],a=Hn(n[e+=t])?0:n[e],c=Hn(n[e+=t])?0:n[e],s=Hn(n[e+=t])?0:n[e],v=Hn(n[e+=t])?0:n[e],d=Hn(n[e+=t])?0:n[e],e+=t,y=r%8,j=8;j<r-y;j+=8)i+=Hn(n[e])?0:n[e],u+=Hn(n[e+=t])?0:n[e],o+=Hn(n[e+=t])?0:n[e],a+=Hn(n[e+=t])?0:n[e],c+=Hn(n[e+=t])?0:n[e],s+=Hn(n[e+=t])?0:n[e],v+=Hn(n[e+=t])?0:n[e],d+=Hn(n[e+=t])?0:n[e],e+=t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)!1===Hn(n[e])&&(m+=n[e]),e+=t;return ke(m)}return l=dr(r/2),ke(gi(l-=l%8,n,t,e)+gi(r-l,n,t,e+l*t))}function wi(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Hn(n[0])?0:n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)!1===Hn(n[f])&&(e+=n[f]),f+=t;return ke(e)}return gi(r,n,t,f)}y(wi,"ndarray",gi);var hi,Ei=X((0,r.join)(__dirname,"./native.js")),ki=hi=J(Ei)?wi:Ei;const{ndarray:xi}=hi;function Ai(r,n,t){return ki(r,n,t)}y(Ai,"ndarray",(function(r,n,t,f){return xi(r,n,t,f)}));var Oi=X((0,r.join)(__dirname,"./native.js")),Si=J(Oi)?Ai:Oi;function Ti(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)m+=n[e],e+=t;return ke(m)}if(r<=128){for(i=n[e],u=n[e+t],o=n[e+2*t],a=n[e+3*t],c=n[e+4*t],s=n[e+5*t],v=n[e+6*t],d=n[e+7*t],e+=8*t,y=r%8,j=8;j<r-y;j+=8)i+=n[e],u+=n[e+t],o+=n[e+2*t],a+=n[e+3*t],c+=n[e+4*t],s+=n[e+5*t],v+=n[e+6*t],d+=n[e+7*t],e+=8*t;for(m=i+u+(o+a)+(c+s+(v+d));j<r;j++)m+=n[e],e+=t;return ke(m)}return l=dr(r/2),ke(Ti(l-=l%8,n,t,e)+Ti(r-l,n,t,e+l*t))}function Fi(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e+=n[f],f+=t;return ke(e)}return Ti(r,n,t,f)}y(Fi,"ndarray",Ti);var Pi,Ii=X((0,r.join)(__dirname,"./native.js")),Bi=Pi=J(Ii)?Fi:Ii;const{ndarray:Ni}=Pi;function Ui(r,n,t){return Bi(r,n,t)}y(Ui,"ndarray",(function(r,n,t,f){return Ni(r,n,t,f)}));var qi=X((0,r.join)(__dirname,"./native.js")),Mi=J(qi)?Ui:qi;function Vi(r,n,t,f){var e,i,u;if(r<=0)return t;if(1===f){if((u=r%8)>0)for(i=0;i<u;i++)t[i]=n;if(r<8)return t;for(i=u;i<r;i+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n;return t}for(e=f<0?(1-r)*f:0,i=0;i<r;i++)t[e]=n,e+=f;return t}y(Vi,"ndarray",(function(r,n,t,f,e){var i,u,o;if(r<=0)return t;if(i=e,1===f){if((u=r%8)>0)for(o=0;o<u;o++)t[i]=n,i+=f;if(r<8)return t;for(o=u;o<r;o+=8)t[i]=n,t[i+1]=n,t[i+2]=n,t[i+3]=n,t[i+4]=n,t[i+5]=n,t[i+6]=n,t[i+7]=n,i+=8;return t}for(o=0;o<r;o++)t[i]=n,i+=f;return t}));var Ci=X((0,r.join)(__dirname,"./native.js")),Gi=J(Ci)?Vi:Ci;function Li(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return Hn(n[0])?0:n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)!1===Hn(i=n[e])&&(u=f+i,o=Q(f)>=Q(i)?ke(o+ke(ke(f-u)+i)):ke(o+ke(ke(i-u)+f)),f=u),e+=t;return ke(f+o)}y(Li,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return Hn(n[f])?0:n[f];for(i=f,e=0,a=0,c=0;c<r;c++)!1===Hn(u=n[i])&&(o=e+u,a=Q(e)>=Q(u)?ke(a+ke(ke(e-o)+u)):ke(a+ke(ke(u-o)+e)),e=o),i+=t;return ke(e+a)}));var Ri,Yi=X((0,r.join)(__dirname,"./native.js")),$i=Ri=J(Yi)?Li:Yi;const{ndarray:Di}=Ri;function Ji(r,n,t){return $i(r,n,t)}y(Ji,"ndarray",(function(r,n,t,f){return Di(r,n,t,f)}));var Xi=X((0,r.join)(__dirname,"./native.js")),zi=J(Xi)?Ji:Xi;function Hi(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return Hn(n[0])?0:n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)!1===Hn(a=n[i])&&(c=ke(f+a),s=Q(f)>=Q(a)?ke(ke(f-c)+a):ke(ke(a-c)+f),f=c,c=ke(u+s),o=Q(u)>=Q(s)?ke(ke(u-c)+s):ke(ke(s-c)+u),u=c,e=ke(e+o)),i+=t;return ke(f+ke(u+e))}y(Hi,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return Hn(n[f])?0:n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)!1===Hn(c=n[u])&&(s=ke(e+c),v=Q(e)>=Q(c)?ke(ke(e-s)+c):ke(ke(c-s)+e),e=s,s=ke(o+v),a=Q(o)>=Q(v)?ke(ke(o-s)+v):ke(ke(v-s)+o),o=s,i=ke(i+a)),u+=t;return ke(e+ke(o+i))}));var Ki=X((0,r.join)(__dirname,"./native.js")),Qi=Ki instanceof Error?Hi:Ki;function Wi(r,n,t){var f,e,i;if(f=0,r<=0)return f;if(1===r||0===t)return Hn(n[0])?f:n[0];for(e=t<0?(1-r)*t:0,i=0;i<r;i++)!1===Hn(n[e])&&(f=ke(f+n[e])),e+=t;return f}y(Wi,"ndarray",(function(r,n,t,f){var e,i,u;if(e=0,r<=0)return e;if(1===r||0===t)return Hn(n[f])?e:n[f];for(i=f,u=0;u<r;u++)!1===Hn(n[i])&&(e=ke(e+n[i])),i+=t;return e}));var Zi=X((0,r.join)(__dirname,"./native.js")),ru=J(Zi)?Wi:Zi;function nu(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return Hn(n[f])?0:n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)!1===Hn(n[e])&&(m=ke(m+n[e])),e+=t;return m}if(r<=128){for(i=Hn(n[e])?0:n[e],u=Hn(n[e+=t])?0:n[e],o=Hn(n[e+=t])?0:n[e],a=Hn(n[e+=t])?0:n[e],c=Hn(n[e+=t])?0:n[e],s=Hn(n[e+=t])?0:n[e],v=Hn(n[e+=t])?0:n[e],d=Hn(n[e+=t])?0:n[e],e+=t,y=r%8,j=8;j<r-y;j+=8)i=Hn(n[e])?i:ke(i+n[e]),u=Hn(n[e+=t])?u:ke(u+n[e]),o=Hn(n[e+=t])?o:ke(o+n[e]),a=Hn(n[e+=t])?a:ke(a+n[e]),c=Hn(n[e+=t])?c:ke(c+n[e]),s=Hn(n[e+=t])?s:ke(s+n[e]),v=Hn(n[e+=t])?v:ke(v+n[e]),d=Hn(n[e+=t])?d:ke(d+n[e]),e+=t;for(m=ke(ke(ke(i+u)+ke(o+a))+ke(ke(c+s)+ke(v+d)));j<r;j++)!1===Hn(n[e])&&(m=ke(m+n[e])),e+=t;return m}return l=dr(r/2),ke(nu(l-=l%8,n,t,e)+nu(r-l,n,t,e+l*t))}function tu(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return Hn(n[0])?0:n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)!1===Hn(n[f])&&(e=ke(e+n[f])),f+=t;return e}return nu(r,n,t,f)}y(tu,"ndarray",nu);var fu=X((0,r.join)(__dirname,"./native.js")),eu=J(fu)?tu:fu;function iu(r,n,t){var f,e,i,u,o,a;if(r<=0)return n;if(o=dr(r/2),1===t){if(i=r-1,(u=o%3)>0)for(e=0;e<u;e++)f=n[e],n[e]=n[i],n[i]=f,i-=1;if(o<3)return n;for(e=u;e<o;e+=3)f=n[e],n[e]=n[i],n[i]=f,f=n[e+1],n[e+1]=n[i-1],n[i-1]=f,f=n[e+2],n[e+2]=n[i-2],n[i-2]=f,i-=3;return n}for(i=(e=t<0?(1-r)*t:0)+(r-1)*t,a=0;a<o;a++)f=n[e],n[e]=n[i],n[i]=f,e+=t,i-=t;return n}y(iu,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return n;if(a=dr(r/2),i=f,1===t){if(u=i+r-1,(o=a%3)>0)for(c=0;c<o;c++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;if(a<3)return n;for(c=o;c<a;c+=3)e=n[i],n[i]=n[u],n[u]=e,e=n[i+1],n[i+1]=n[u-1],n[u-1]=e,e=n[i+2],n[i+2]=n[u-2],n[u-2]=e,i+=3,u-=3;return n}for(u=i+(r-1)*t,c=0;c<a;c++)e=n[i],n[i]=n[u],n[u]=e,i+=t,u-=t;return n}));var uu=X((0,r.join)(__dirname,"./native.js")),ou=J(uu)?iu:uu,au="function"==typeof Uint32Array;var cu="function"==typeof Uint32Array?Uint32Array:null;var su,vu="function"==typeof Uint32Array?Uint32Array:void 0;su=function(){var r,n;if("function"!=typeof cu)return!1;try{r=function(r){return au&&r instanceof Uint32Array||"[object Uint32Array]"===w(r)}(n=new cu(n=[1,3.14,-3.14,4294967296,4294967297]))&&1===n[0]&&3===n[1]&&4294967293===n[2]&&0===n[3]&&1===n[4]}catch(n){r=!1}return r}()?vu:function(){throw new Error("not implemented")};var du=su,yu=new he(1);new du(yu.buffer)[0]=2139095040;var mu=yu[0];function lu(r){return 0===r&&1/r===mu}function ju(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,j=r,a=dr(r/2);;){if(a>0)d=t[u+(a-=1)*f],y=e[o+a*i];else{if(0===(j-=1))return t;d=t[m=u+j*f],y=e[l=o+j*i],t[m]=t[u],e[l]=e[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[u+p*f])>(v=t[u+c*f])||Hn(s)||s===v&&lu(s))&&(c+=1),(s=t[u+c*f])>d||Hn(s)||s===d&&lu(s));)t[u+_*f]=s,e[o+_*i]=e[o+c*i],c=2*(_=c)+1;t[u+_*f]=d,e[o+_*i]=y}}y(ju,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),j=r,a=dr(r/2);;){if(a>0)d=t[e+(a-=1)*f],y=i[o+a*u];else{if(0===(j-=1))return t;d=t[m=e+j*f],y=i[l=o+j*u],t[m]=t[e],i[l]=i[o]}for(c=2*(_=a)+1;c<j&&((p=c+1)<j&&((s=t[e+p*f])>(v=t[e+c*f])||Hn(s)||s===v&&lu(s))&&(c+=1),(s=t[e+c*f])>d||Hn(s)||s===d&&lu(s));)t[e+_*f]=s,i[o+_*u]=i[o+c*u],c=2*(_=c)+1;t[e+_*f]=d,i[o+_*u]=y}}));var _u=X((0,r.join)(__dirname,"./native.js")),pu=_u instanceof Error?ju:_u,bu=new he(1);new du(bu.buffer)[0]=4286578688;var gu=bu[0];function wu(r){return 0===r&&1/r===gu}function hu(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l,j,_,p;if(r<=0||0===n)return t;if(n<0&&(f*=-1,i*=-1),i<0?(y=(1-r)*i,m=0):(y=0,m=(r-1)*i),v=y+i,f<0){for(s=0,o=(c=(1-r)*f)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Hn(l)){for(a=o,d=v;a>s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=wu(l),a=o-f,d=v-i;a<=c&&(!((_=t[a])<=l)||u&&_===l&&!1===wu(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}for(s=(r-1)*f,o=(c=0)+f,p=1;p<r;p++)if(l=t[o],j=e[v],Hn(l)){for(a=o,d=v;a<s;)t[a]=t[a+f],e[d]=e[d+i],a+=f,d+=i;t[s]=l,e[m]=j}else{for(u=wu(l),a=o-f,d=v-i;a>=c&&(!((_=t[a])<=l)||u&&_===l&&!1===wu(_));)t[a+f]=_,e[d+i]=e[d],a-=f,d-=i;t[a+f]=l,e[d+i]=j,o+=f,v+=i}return t}y(hu,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l,j,_,p,b,g;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),d=(v=e)+(r-1)*f,c=v+f,j=(l=o)+(r-1)*u,y=l+u,f<0){for(g=1;g<r;g++)if(_=t[c],p=i[y],Hn(_)){for(s=c,m=y;s>d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=wu(_),s=c-f,m=y-u;s<=v&&(!((b=t[s])<=_)||a&&b===_&&!1===wu(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}for(g=1;g<r;g++)if(_=t[c],p=i[y],Hn(_)){for(s=c,m=y;s<d;)t[s]=t[s+f],i[m]=i[m+u],s+=f,m+=u;t[d]=_,i[j]=p}else{for(a=wu(_),s=c-f,m=y-u;s>=v&&(!((b=t[s])<=_)||a&&b===_&&!1===wu(b));)t[s+f]=b,i[m+u]=i[m],s-=f,m-=u;t[s+f]=_,i[m+u]=p,c+=f,y+=u}return t}));var Eu=X((0,r.join)(__dirname,"./native.js")),ku=Eu instanceof Error?hu:Eu,xu=[701,301,132,57,23,10,4,1],Au=xu.length;function Ou(r,n,t,f,e,i){var u,o,a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(f*=-1,i*=-1),u=f<0?(1-r)*f:0,o=i<0?(1-r)*i:0,y=0;y<Au;y++)for(m=c=xu[y];m<r;m++)if(!Hn(s=t[u+m*f])){for(v=e[o+m*i],a=wu(s),l=m;l>=c&&(!((d=t[u+(l-c)*f])<=s)||a&&d===s);l-=c)t[u+l*f]=d,e[o+l*i]=e[o+(l-c)*i];t[u+l*f]=s,e[o+l*i]=v}return t}var Su=xu.length;y(Ou,"ndarray",(function(r,n,t,f,e,i,u,o){var a,c,s,v,d,y,m,l;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1),o-=(r-1)*(u*=-1)),y=0;y<Su;y++)for(m=c=xu[y];m<r;m++)if(!Hn(s=t[e+m*f])){for(v=i[o+m*u],a=wu(s),l=m;l>=c&&(!((d=t[e+(l-c)*f])<=s)||a&&d===s);l-=c)t[e+l*f]=d,i[o+l*u]=i[o+(l-c)*u];t[e+l*f]=s,i[o+l*u]=v}return t}));var Tu=X((0,r.join)(__dirname,"./native.js")),Fu=Tu instanceof Error?Ou:Tu;function Pu(r,n,t,f){var e,i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Hn(o)||o===a&&lu(o))&&(u+=1),(o=t[e+u*f])>s||Hn(o)||o===s&&lu(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}}y(Pu,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d,y;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=r,i=dr(r/2);;){if(i>0)s=t[e+(i-=1)*f];else{if(0===(c-=1))return t;s=t[v=e+c*f],t[v]=t[e]}for(u=2*(d=i)+1;u<c&&((y=u+1)<c&&((o=t[e+y*f])>(a=t[e+u*f])||Hn(o)||o===a&&lu(o))&&(u+=1),(o=t[e+u*f])>s||Hn(o)||o===s&&lu(o));)t[e+d*f]=o,u=2*(d=u)+1;t[e+d*f]=s}}));var Iu=X((0,r.join)(__dirname,"./native.js")),Bu=J(Iu)?Pu:Iu;function Nu(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;if(n<0&&(f*=-1),f<0){for(a=0,i=(o=(1-r)*f)+f,v=1;v<r;v++)if(Hn(c=t[i])){for(u=i;u>a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=wu(c),u=i-f;u<=o&&(!((s=t[u])<=c)||e&&s===c&&!1===wu(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}for(a=(r-1)*f,i=(o=0)+f,v=1;v<r;v++)if(Hn(c=t[i])){for(u=i;u<a;)t[u]=t[u+f],u+=f;t[a]=c}else{for(e=wu(c),u=i-f;u>=o&&(!((s=t[u])<=c)||e&&s===c&&!1===wu(s));)t[u+f]=s,u-=f;t[u+f]=c,i+=f}return t}y(Nu,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v,d;if(r<=0||0===n)return t;if(n<0&&(e-=(r-1)*(f*=-1)),c=(a=e)+(r-1)*f,u=a+f,f<0){for(d=1;d<r;d++)if(Hn(s=t[u])){for(o=u;o>c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=wu(s),o=u-f;o<=a&&(!((v=t[o])<=s)||i&&v===s&&!1===wu(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}for(d=1;d<r;d++)if(Hn(s=t[u])){for(o=u;o<c;)t[o]=t[o+f],o+=f;t[c]=s}else{for(i=wu(s),o=u-f;o>=a&&(!((v=t[o])<=s)||i&&v===s&&!1===wu(v));)t[o+f]=v,o-=f;t[o+f]=s,u+=f}return t}));var Uu=X((0,r.join)(__dirname,"./native.js")),qu=J(Uu)?Nu:Uu,Mu=[701,301,132,57,23,10,4,1],Vu=Mu.length;function Cu(r,n,t,f){var e,i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(f*=-1),e=f<0?(1-r)*f:0,c=0;c<Vu;c++)for(s=u=Mu[c];s<r;s++)if(!Hn(o=t[e+s*f])){for(i=wu(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t}var Gu=Mu.length;y(Cu,"ndarray",(function(r,n,t,f,e){var i,u,o,a,c,s,v;if(r<=0||0===n)return t;for(n<0&&(e-=(r-1)*(f*=-1)),c=0;c<Gu;c++)for(s=u=Mu[c];s<r;s++)if(!Hn(o=t[e+s*f])){for(i=wu(o),v=s;v>=u&&(!((a=t[e+(v-u)*f])<=o)||i&&a===o);v-=u)t[e+v*f]=a;t[e+v*f]=o}return t}));var Lu=X((0,r.join)(__dirname,"./native.js")),Ru=J(Lu)?Cu:Lu;function Yu(r,n,t){var f,e,i,u,o,a;if(r<=0)return 0;if(1===r||0===t)return n[0];for(e=t<0?(1-r)*t:0,f=0,o=0,a=0;a<r;a++)i=n[e],u=ke(f+i),o=Q(f)>=Q(i)?ke(o+ke(ke(f-u)+i)):ke(o+ke(ke(i-u)+f)),f=u,e+=t;return ke(f+o)}y(Yu,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c;if(r<=0)return 0;if(1===r||0===t)return n[f];for(i=f,e=0,a=0,c=0;c<r;c++)u=n[i],o=ke(e+u),a=Q(e)>=Q(u)?ke(a+ke(ke(e-o)+u)):ke(a+ke(ke(u-o)+e)),e=o,i+=t;return ke(e+a)}));var $u,Du=X((0,r.join)(__dirname,"./native.js")),Ju=$u=J(Du)?Yu:Du;const{ndarray:Xu}=$u;function zu(r,n,t){return Ju(r,n,t)}y(zu,"ndarray",(function(r,n,t,f){return Xu(r,n,t,f)}));var Hu=X((0,r.join)(__dirname,"./native.js")),Ku=J(Hu)?zu:Hu;function Qu(r,n,t){var f,e,i,u,o,a,c,s,v;if(r<=0)return 0;if(1===r||0===t)return n[0];for(i=t<0?(1-r)*t:0,f=0,e=0,u=0,v=0;v<r;v++)a=n[i],c=ke(f+a),s=Q(f)>=Q(a)?ke(ke(f-c)+a):ke(ke(a-c)+f),f=c,c=ke(u+s),o=Q(u)>=Q(s)?ke(ke(u-c)+s):ke(ke(s-c)+u),u=c,e=ke(e+o),i+=t;return ke(f+ke(u+e))}y(Qu,"ndarray",(function(r,n,t,f){var e,i,u,o,a,c,s,v,d;if(r<=0)return 0;if(1===r||0===t)return n[f];for(u=f,e=0,i=0,o=0,d=0;d<r;d++)c=n[u],s=ke(e+c),v=Q(e)>=Q(c)?ke(ke(e-s)+c):ke(ke(c-s)+e),e=s,s=ke(o+v),a=Q(o)>=Q(v)?ke(ke(o-s)+v):ke(ke(v-s)+o),o=s,i=ke(i+a),u+=t;return ke(e+ke(o+i))}));var Wu=X((0,r.join)(__dirname,"./native.js")),Zu=Wu instanceof Error?Qu:Wu;function ro(r,n,t){var f,e,i;if(f=0,r<=0)return f;if(1===r||0===t)return n[0];for(e=t<0?(1-r)*t:0,i=0;i<r;i++)f=ke(f+n[e]),e+=t;return f}y(ro,"ndarray",(function(r,n,t,f){var e,i,u;if(e=0,r<=0)return e;if(1===r||0===t)return n[f];for(i=f,u=0;u<r;u++)e=ke(e+n[i]),i+=t;return e}));var no=X((0,r.join)(__dirname,"./native.js")),to=J(no)?ro:no;function fo(r,n,t,f){var e,i,u,o,a,c,s,v,d,y,m,l,j;if(r<=0)return 0;if(1===r||0===t)return n[f];if(e=f,r<8){for(m=0,j=0;j<r;j++)m=ke(m+n[e]),e+=t;return m}if(r<=128){for(i=n[e],u=n[e+t],o=n[e+2*t],a=n[e+3*t],c=n[e+4*t],s=n[e+5*t],v=n[e+6*t],d=n[e+7*t],e+=8*t,y=r%8,j=8;j<r-y;j+=8)i=ke(i+n[e]),u=ke(u+n[e+t]),o=ke(o+n[e+2*t]),a=ke(a+n[e+3*t]),c=ke(c+n[e+4*t]),s=ke(s+n[e+5*t]),v=ke(v+n[e+6*t]),d=ke(d+n[e+7*t]),e+=8*t;for(m=ke(ke(ke(i+u)+ke(o+a))+ke(ke(c+s)+ke(v+d)));j<r;j++)m=ke(m+n[e]),e+=t;return m}return l=dr(r/2),ke(fo(l-=l%8,n,t,e)+fo(r-l,n,t,e+l*t))}function eo(r,n,t){var f,e,i;if(r<=0)return 0;if(1===r||0===t)return n[0];if(f=t<0?(1-r)*t:0,r<8){for(e=0,i=0;i<r;i++)e=ke(e+n[f]),f+=t;return e}return fo(r,n,t,f)}y(eo,"ndarray",fo);var io=X((0,r.join)(__dirname,"./native.js")),uo=J(io)?eo:io,oo={};v(oo,"dapx",K),v(oo,"dapxsum",ir),v(oo,"dapxsumkbn",nr),v(oo,"dapxsumkbn2",ar),v(oo,"dapxsumors",vr),v(oo,"dapxsumpw",jr),v(oo,"dasumpw",gr),v(oo,"dcusum",Sr),v(oo,"dcusumkbn",kr),v(oo,"dcusumkbn2",Pr),v(oo,"dcusumors",Nr),v(oo,"dcusumpw",Vr),v(oo,"dfill",Lr),v(oo,"dnanasum",Kr),v(oo,"dnanasumors",Jr),v(oo,"dnannsum",en),v(oo,"dnannsumkbn",rn),v(oo,"dnannsumkbn2",an),v(oo,"dnannsumors",vn),v(oo,"dnannsumpw",ln),v(oo,"dnansum",En),v(oo,"dnansumkbn",bn),v(oo,"dnansumkbn2",An),v(oo,"dnansumors",Tn),v(oo,"dnansumpw",Bn),v(oo,"drev",qn),v(oo,"dsapxsum",Dn),v(oo,"dsapxsumpw",Ln),v(oo,"dsnannsumors",zn),v(oo,"dsnansum",et),v(oo,"dsnansumors",ot),v(oo,"dsnansumpw",rt),v(oo,"dsort2hp",dt),v(oo,"dsort2ins",_t),v(oo,"dsort2sh",Et),v(oo,"dsorthp",At),v(oo,"dsortins",Tt),v(oo,"dsortsh",Ut),v(oo,"dssum",$t),v(oo,"dssumors",Xt),v(oo,"dssumpw",Gt),v(oo,"dsum",nf),v(oo,"dsumkbn",Qt),v(oo,"dsumkbn2",ef),v(oo,"dsumors",af),v(oo,"dsumpw",df),v(oo,"gapx",yf),v(oo,"gapxsum",jf),v(oo,"gapxsumkbn",mf),v(oo,"gapxsumkbn2",_f),v(oo,"gapxsumors",pf),v(oo,"gapxsumpw",gf),v(oo,"gasumpw",hf),v(oo,"gcusum",xf),v(oo,"gcusumkbn",Ef),v(oo,"gcusumkbn2",Af),v(oo,"gcusumors",Of),v(oo,"gcusumpw",Tf),v(oo,"gfill",qf),v(oo,"gfillBy",Vf),v(oo,"gnannsumkbn",Cf),v(oo,"gnansum",Rf),v(oo,"gnansumkbn",Gf),v(oo,"gnansumkbn2",Yf),v(oo,"gnansumors",$f),v(oo,"gnansumpw",Jf),v(oo,"grev",zf),v(oo,"gsort2hp",Hf),v(oo,"gsort2ins",Kf),v(oo,"gsort2sh",Zf),v(oo,"gsorthp",ne),v(oo,"gsortins",te),v(oo,"gsortsh",ie),v(oo,"gsum",ce),v(oo,"gsumkbn",oe),v(oo,"gsumkbn2",se),v(oo,"gsumors",ve),v(oo,"gsumpw",ye),v(oo,"sapx",je),v(oo,"sapxsum",Ie),v(oo,"sapxsumkbn",Se),v(oo,"sapxsumkbn2",Ue),v(oo,"sapxsumors",Ve),v(oo,"sapxsumpw",Re),v(oo,"sasumpw",Je),v(oo,"scusum",ri),v(oo,"scusumkbn",Ke),v(oo,"scusumkbn2",fi),v(oo,"scusumors",ui),v(oo,"scusumpw",si),v(oo,"sdsapxsum",bi),v(oo,"sdsapxsumpw",li),v(oo,"sdsnansum",Si),v(oo,"sdsnansumpw",ki),v(oo,"sdssum",Mi),v(oo,"sdssumpw",Bi),v(oo,"sfill",Gi),v(oo,"snansum",zi),v(oo,"snansumkbn",$i),v(oo,"snansumkbn2",Qi),v(oo,"snansumors",ru),v(oo,"snansumpw",eu),v(oo,"srev",ou),v(oo,"ssort2hp",pu),v(oo,"ssort2ins",ku),v(oo,"ssort2sh",Fu),v(oo,"ssorthp",Bu),v(oo,"ssortins",qu),v(oo,"ssortsh",Ru),v(oo,"ssum",Ku),v(oo,"ssumkbn",Ju),v(oo,"ssumkbn2",Zu),v(oo,"ssumors",to),v(oo,"ssumpw",uo);var ao={};return v(ao,"base",oo),ao}));
//# sourceMappingURL=index.js.map
